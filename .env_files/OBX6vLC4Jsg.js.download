;/*FB_PKG_DELIM*/

__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","XHRRequest","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var c=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(c))return;m(b,"start");j.add(c);try{var e,f=document.createElement("script");f.innerText=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(e=document.head)==null?void 0:e.appendChild(f);m(b,"complete")}catch(d){m(b,"failed"),n(a,b,d),j["delete"](c)}});return p.apply(this,arguments)}function a(){c("promiseDone")(o(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(o(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(o(a,"main")),c("promiseDone")(o(a,"longtail"))})}g.init=a}),98);
__d("CometSuspenseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1828945");b=d("FalcoLoggerInternal").create("comet_suspense",a);e=b;g["default"]=e}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("ms-2.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=1e3,b=a*60,c=b*60,d=c*24,e=d*7,f=d*365.25;g.exports=function(a,b){b=b||{};var c=typeof a;if(c==="string"&&a.length>0)return h(a);else if(c==="number"&&isNaN(a)===!1)return b["long"]?j(a):i(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function h(g){g=String(g);if(g.length>100)return;g=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(!g)return;var h=parseFloat(g[1]);g=(g[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*f;case"weeks":case"week":case"w":return h*e;case"days":case"day":case"d":return h*d;case"hours":case"hour":case"hrs":case"hr":case"h":return h*c;case"minutes":case"minute":case"mins":case"min":case"m":return h*b;case"seconds":case"second":case"secs":case"sec":case"s":return h*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return void 0}}function i(e){var f=Math.abs(e);if(f>=d)return Math.round(e/d)+"d";if(f>=c)return Math.round(e/c)+"h";if(f>=b)return Math.round(e/b)+"m";return f>=a?Math.round(e/a)+"s":e+"ms"}function j(e){var f=Math.abs(e);if(f>=d)return k(e,f,d,"day");if(f>=c)return k(e,f,c,"hour");if(f>=b)return k(e,f,b,"minute");return f>=a?k(e,f,a,"second"):e+" ms"}function k(a,b,c,d){b=b>=c*1.5;return Math.round(a/c)+" "+d+(b?"s":"")}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("debug-4.1.1",["ms-2.1.1","supports-color-5.5.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ms-2.1.1")),h=a(b("supports-color-5.5.0"));d={};var i={exports:d};function j(){function a(a){c.debug=c;c["default"]=c;c.coerce=j;c.disable=h;c.enable=f;c.enabled=i;c.humanize=g();Object.keys(a).forEach(function(b){c[b]=a[b]});c.instances=[];c.names=[];c.skips=[];c.formatters={};function b(a){var b=0;for(var d=0;d<a.length;d++)b=(b<<5)-b+a.charCodeAt(d),b|=0;return c.colors[Math.abs(b)%c.colors.length]}c.selectColor=b;function c(a){var f;function g(){var a=arguments;if(!g.enabled)return;var b=g,d=Number(new Date()),e=d-(f||d);b.diff=e;b.prev=f;b.curr=d;f=d;a[0]=c.coerce(a[0]);typeof a[0]!=="string"&&a.unshift("%O");var h=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(d,e){if(d==="%%")return d;h++;e=c.formatters[e];if(typeof e==="function"){var f=a[h];d=e.call(b,f);a.splice(h,1);h--}return d});c.formatArgs.call(b,a);var i=b.log||c.log;i.apply(b,a)}g.namespace=a;g.enabled=c.enabled(a);g.useColors=c.useColors();g.color=b(a);g.destroy=d;g.extend=e;typeof c.init==="function"&&c.init(g);c.instances.push(g);return g}function d(){var a=c.instances.indexOf(this);if(a!==-1){c.instances.splice(a,1);return!0}return!1}function e(a,b){b=c(this.namespace+(typeof b==="undefined"?":":b)+a);b.log=this.log;return b}function f(a){c.save(a);c.names=[];c.skips=[];var b,d=(typeof a==="string"?a:"").split(/[\s,]+/),e=d.length;for(b=0;b<e;b++){if(!d[b])continue;a=d[b].replace(/\*/g,".*?");a[0]==="-"?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$"))}for(b=0;b<c.instances.length;b++){a=c.instances[b];a.enabled=c.enabled(a.namespace)}}function h(){var a=[].join(",");c.enable("");return a}function i(a){if(a[a.length-1]==="*")return!0;var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}c.enable(c.load());return c}i.exports=a}var k=!1;function l(){k||(k=!0,j());return i.exports}var m={},n={exports:m};function o(){m.log=c;m.formatArgs=b;m.save=d;m.load=e;m.useColors=a;m.storage=f();m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;return typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function b(a){a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff);if(!this.useColors)return;var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var c=0,d=0;a[0].replace(/%[a-zA-Z%]/g,function(a){if(a==="%%")return;c++;a==="%c"&&(d=c)});a.splice(d,0,b)}function c(){arguments;return typeof console==="object"&&emptyFunction&&emptyFunction.apply(console,arguments)}function d(a){try{a?m.storage.setItem("debug",a):m.storage.removeItem("debug")}catch(a){}}function e(){var a;try{a=m.storage.getItem("debug")}catch(a){}!a&&typeof process!=="undefined"&&"env"in process&&(a=process.env.DEBUG);return a}function f(){try{return localStorage}catch(a){}}n.exports=l()(m);c=n.exports.formatters;c.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}var p=!1;function q(){p||(p=!0,o());return n.exports}var r={},s={exports:r};function t(){({});var a={};r.init=i;r.log=e;r.formatArgs=c;r.save=f;r.load=g;r.useColors=b;r.colors=[6,2,3,4,5,1];try{i=h();i&&(i.stderr||i).level>=2&&(r.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}r.inspectOpts=Object.keys(process.env).filter(function(a){return/^debug_/i.test(a)}).reduce(function(a,b){var c=b.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,b){return b.toUpperCase()});b=process.env[b];/^(yes|on|true|enabled)$/i.test(b)?b=!0:/^(no|off|false|disabled)$/i.test(b)?b=!1:b==="null"?b=null:b=Number(b);a[c]=b;return a},{});function b(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):!1}function c(b){var c=this.namespace,a=this.useColors;if(a){a=this.color;a="\x1b[3"+(a<8?a:"8;5;"+a);var e=a+";1m$"+c+"\x1b[0m";b[0]=e+b[0].split("\n").join("\n"+e);b.push(a+"m+"+s.exports.humanize(this.diff)+"\x1b[0m")}else b[0]=d()+c+" "+b[0]}function d(){return r.inspectOpts.hideDate?"":new Date().toISOString()+" "}function e(){return process.stderr.write(a.format.apply(a,arguments)+"\n")}function f(a){a?process.env.DEBUG=a:delete process.env.DEBUG}function g(){return process.env.DEBUG}function i(a){a.inspectOpts={};var b=Object.keys(r.inspectOpts);for(var c=0;c<b.length;c++)a.inspectOpts[b[c]]=r.inspectOpts[b[c]]}s.exports=l()(r);e=s.exports.formatters;e.o=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts).replace(/\s*\n\s*/g," ")};e.O=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts)}}var u=!1;function v(){u||(u=!0,t());return s.exports}f={};var w={exports:f};function x(){typeof process==="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?w.exports=q():w.exports=v()}var y=!1;function z(){y||(y=!0,x());return w.exports}function c(a){switch(a){case void 0:return z()}}e.exports=c}),null);
__d("DebugStub",["debug-4.1.1"],(function(a,b,c,d,e,f){e.exports=b("debug-4.1.1")()}),null);
__d("ServiceWorkerCacheManagement",["regeneratorRuntime"],(function(a,b,c,d,e,f){function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!("caches"in self)){a.next=3;break}a.next=3;return b("regeneratorRuntime").awrap(caches["delete"]("sr-cache-1"));case 3:case"end":return a.stop()}},null,this)}f.manageCache=a}),66);
__d("WAConcurrentIterate",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e=[],f=[],h=0,i=function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(h<a)){e.next=8;break}d=h;h++;e.next=5;return b("regeneratorRuntime").awrap(c(d));case 5:f[d]=e.sent;e.next=0;break;case 8:case"end":return e.stop()}},null,this)};d=Math.min(a,d);for(var j=0;j<d;j++)e.push(i());return(g||(g=b("Promise"))).all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return a.slice(0,3)+"..."}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="video"}var h=16,i=10,j=64*1024;function b(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return d("WAMediaUtils").castToStreamingSidecar(f.buffer)})}g.shouldHaveStreamingSidecar=a;g.calculateStreamingSidecar=b}),98);
__d("WAMediaHkdfInfo",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"document":return"WhatsApp Document Keys";case"image":case"sticker":case"xma-image":return"WhatsApp Image Keys";case"video":case"gif":return"WhatsApp Video Keys";case"audio":case"ptt":return"WhatsApp Audio Keys";case"md-app-state":return"WhatsApp App State Keys";case"md-msg-hist":return"WhatsApp History Keys";default:throw c("WAErr")("getMediaHkdfInfo: unexpected media type "+a)}}function b(){return"Messenger Preview Keys"}g.getMediaHkdfInfo=a;g.getPreviewMediaHkdfInfo=b}),98);
__d("WAMediaCrypto",["Promise","WABinary","WACryptoAesCbc","WACryptoDependencies","WACryptoHkdf","WACryptoHmac","WACryptoSha256","WACryptoUtils","WACustomError","WAErr","WAHashUtils","WALogger","WAMediaCryptoSidecar","WAMediaHkdfInfo","WAMediaUtils","WATagsLogger","WATypedArraysConcat","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Processing scan ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to decrypt partial due to invalid target scan"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialChunks targetScan greater length of scanLength array"]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["WAMediaCrypto"]),m=d("WACustomError").customError("HmacValidationError",!1),n=new Uint8Array([2,2]);function o(a,b){return d("WACryptoHkdf").extractAndExpand(new Uint8Array(a),b,112).then(function(a){return{iv:new Uint8Array(a,0,16),cipherKey:new Uint8Array(a,16,32),hmacKey:new Uint8Array(a,48,32),refKey:new Uint8Array(a,80,32)}})}function p(a,b){b=d("WAMediaHkdfInfo").getMediaHkdfInfo(b);return o(a,b)}function q(a){var b=d("WAMediaHkdfInfo").getPreviewMediaHkdfInfo();return o(a,b)}function a(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=new Map();f.next=3;return b("regeneratorRuntime").awrap(q(a));case 3:d=f.sent;c.set("preview",d);e=["document","image","video","audio","md-app-state","md-msg-hist"];f.next=8;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(e.map(function(b){return p(a,b).then(function(a){c.set(b,a)})})));case 8:return f.abrupt("return",c);case 9:case"end":return f.stop()}},null,this)}function e(a){switch(a){case"image":case"video":return a;default:return null}}var r=16,s=16,t=10,u=64*1024;function f(a,c,e,f,g){var i,j,k,l,m,n,o,p,q,v,w,x,y,z,A;return b("regeneratorRuntime").async(function(B){while(1)switch(B.prev=B.next){case 0:i=new(d("WABinary").Binary)(),i.ensureCapacity(s+f.size+r+t),i.writeByteArray(c),j=new(d("WACryptoAesCbc").AesCbcStream)(i,"encrypt",a,c),k=0,l=k+u;case 6:if(!(l<f.size)){B.next=17;break}m=f.slice(k,l);B.next=10;return b("regeneratorRuntime").awrap(d("WAMediaUtils").blobToArrayBuffer(m));case 10:n=B.sent;B.next=13;return b("regeneratorRuntime").awrap(j.append(new Uint8Array(n)));case 13:k=l;l+=u;B.next=6;break;case 17:B.next=19;return b("regeneratorRuntime").awrap(d("WAMediaUtils").blobToArrayBuffer(f.slice(k)));case 19:o=B.sent;B.next=22;return b("regeneratorRuntime").awrap(j.finalize(new Uint8Array(o)));case 22:p=i.peek(function(a){return a.readByteArray()});B.next=25;return b("regeneratorRuntime").awrap(d("WACryptoHmac").encodeKeySha256(e));case 25:q=B.sent;B.next=28;return b("regeneratorRuntime").awrap(d("WACryptoHmac").sign(q,p));case 28:v=B.sent;i.writeByteArray(new Uint8Array(v,0,t));w=i.readByteArray();x=w.subarray(s);B.next=34;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all([d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",x),d("WAMediaCryptoSidecar").shouldHaveStreamingSidecar(g)?d("WAMediaCryptoSidecar").calculateStreamingSidecar(q,w):void 0]));case 34:y=B.sent;z=y[0];A=y[1];return B.abrupt("return",{ciphertext:x,ciphertextHash:z,sidecar:A,ivCiphertext:p,ivCiphertextHmac:w});case 38:case"end":return B.stop()}},null,this)}function v(a,c,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(d("WACryptoHmac").encodeKeySha256(a));case 2:f=h.sent;g=d("WABinary").Binary.build(c,e).readByteArray();return h.abrupt("return",d("WACryptoHmac").sign(f,g));case 5:case"end":return h.stop()}},null,this)}function w(a,c,e,f,g){var h,i,j,k,l;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:if(10<=g.length&&g.length<=32){n.next=2;break}throw new m("Bad hmac size "+g.length);case 2:h=d("WABinary").Binary.build(c,e).readByteArray();n.next=5;return b("regeneratorRuntime").awrap(d("WACryptoHmac").hmacSha256(f,h).then(function(a){return new Uint8Array(a)}));case 5:i=n.sent;j=i.slice(0,g.length);if(A(j,g)){n.next=9;break}throw new m("hmacAndDecrypt hmac mismatch");case 9:n.next=11;return b("regeneratorRuntime").awrap(d("WACryptoAesCbc").aesCbcDecrypt(a,c,e));case 11:k=n.sent;n.next=14;return b("regeneratorRuntime").awrap(d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",k));case 14:l=n.sent;return n.abrupt("return",{plaintextHash:d("WAHashUtils").toPlaintextHash(l),plaintext:k});case 16:case"end":return n.stop()}},null,this)}function x(a,b,c,e,f){if(!(10<=f.length&&f.length<=32))throw new m("Bad hmac size "+f.length);var g=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[b,c]);return d("WACryptoHmac").hmacSha256(e,g,f.length).then(function(a){return new Uint8Array(a)}).then(function(a){if(!d("WACryptoUtils").uint8ArraysEqual(a,f))throw new m("hmacAndDecrypt hmac mismatch")}).then(function(){var a=c.byteLength%r===t;if(a===!0)return c.subarray(0,-10);else return c}).then(function(c){return y(a,b,c)})}function y(a,b,c){var e=c.subarray(-r);return d("WACryptoAesCbc").aesCbcEncrypt(a,n,e).then(function(a){return a.slice(s)}).then(function(a){return d("WABinary").Binary.build(c,a).readByteArray()}).then(function(c){return d("WACryptoAesCbc").aesCbcDecrypt(a,b,c)}).then(function(a){return new Uint8Array(a,0,a.byteLength-n.byteLength)}).then(function(a){return{plaintext:a,nextIv:e}})}function z(a,e,f,g,h,m){var n,o,p,q,r,s,t,u,v,w,y,z,A,B,C,D;return b("regeneratorRuntime").async(function(E){while(1)switch(E.prev=E.next){case 0:h>m.scanLengths.length&&l.ERROR(k());n=Math.min(h,m.scanLengths.length);if(!(n<1)){E.next=5;break}l.ERROR(j());throw c("WAErr")("Unable to decrypt partial due to invalid target scan");case 5:o=new(d("WABinary").Binary)();p=[];for(q=0;q<n;q++)p.push(new Uint8Array(m.sidecar,q*10,10));r=0;s=e;t=0;u=0;case 12:if(!(u<n)){E.next=29;break}d("WALogger").DEV(i(),u);v=m.alignedScanLengths[u];w=r+v;y=f.subarray(r,w);E.next=19;return b("regeneratorRuntime").awrap(x(a,s,y,g,p[u]));case 19:z=E.sent,A=z.plaintext,B=z.nextIv,o.write(A),r+=v,s=B,t+=m.scanLengths[u];case 26:u++;E.next=12;break;case 29:C=o.readBuffer(t);E.next=32;return b("regeneratorRuntime").awrap(d("WACryptoSha256").sha256(C));case 32:D=E.sent;return E.abrupt("return",{plaintextHash:d("WAHashUtils").toPlaintextHash(D),plaintext:C});case 34:case"end":return E.stop()}},null,this)}function A(a,b){if(a.length!==b.length)return!1;var c=1,d=a.length;for(var e=0;e<d;e++)c&=a[e]===b[e]?1:0;return c!==0}g.HmacValidationError=m;g.DEFAULT_PADDING=n;g.computeMediaKeys=p;g.computeMediaKeysForPreview=q;g.deprecated_getAllCommonComputedMediaKeys=a;g.convertServerMediaTypeToPreviewMediaType=e;g.CBC_BLOCK_SIZE=r;g.IV_LENGTH=s;g.HMAC_LENGTH=t;g.encryptAndHmac=f;g.hmacCiphertext=v;g.hmacAndDecrypt=w;g.hmacAndDecryptPartial=x;g.decryptPartialChunks=z}),98);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAErr","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},j=b("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);a=function(){function a(a){var d=this;this._duration=0;this._recordedPages=[];this._state=j.INACTIVE;this._isFirstBuffer=!1;this._requestCount=0;this._pendingFlushResolvers=new Map();this._handleEncoderMessage=function(a){a=a.data;switch(a.message){case"page":d._storePage(a.page);break;case"flushed":d._handleFlushed(a.requestId);break;default:throw c("WAErr")("Invalid message event type: "+a.message)}};if(!l())throw c("WAErr")("Recording is not supported in this browser");this._createStream=a.createStream;this._onDuration=a.onDuration;this._onPause=a.onPause;this._onResume=a.onResume;this._onStart=a.onStart;this._onStop=a.onStop;this._handlePage=a.onPage;this._completeRecordingPromise=new(h||(h=b("Promise")))(function(a){d._resolveCompleteRecordingPromise=a});this._audioContext=new AudioContext();this._encoderNode=this._audioContext.createScriptProcessor(i.bufferLength,i.numberOfChannels,i.numberOfChannels);this._encoderNode.onaudioprocess=function(a){d._encodeBuffers(a.inputBuffer)};this._monitorNode=this._audioContext.createGain()}var e=a.prototype;e.getState=function(){return this._state};e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.PAUSED:return this.resume();case j.INACTIVE:break}this._recordedPages=[];this._isFirstBuffer=!0;this._duration=0;var a=d("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=a;a.addEventListener("message",this._handleEncoderMessage);var b=(yield this._startRecording());if(!b)return!1;this._onStart==null?void 0:this._onStart();this._onDuration==null?void 0:this._onDuration(this._duration);a.postMessage({command:"encode-init",config:babelHelpers["extends"]({},i,{originalSampleRate:this._audioContext.sampleRate})});this._encoderNode.connect(this._audioContext.destination);return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){var a;if(this._state===j.STOPPED)return;this._state=j.STOPPED;(a=this._recordingAbortController)==null?void 0:a.abort();this._audioContext.close&&this._audioContext.close();this._monitorNode.disconnect();this._encoderNode.disconnect();(a=this._encoder)==null?void 0:a.postMessage({command:"encode-done"})};e.pause=function(){var a;if(this._state!==j.RECORDING)return;this._state=j.PAUSED;(a=this._recordingAbortController)==null?void 0:a.abort();this._onPause==null?void 0:this._onPause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.INACTIVE:throw c("WAErr")("Attempting to resume recording that hasn't started");case j.PAUSED:break}var a=(yield this._startRecording());if(!a)return!1;this._onResume==null?void 0:this._onResume();return!0});function d(){return a.apply(this,arguments)}return d}();e.getDuration=function(){return this._duration};e.getMonitorNode=function(){return this._monitorNode};e._encodeBuffers=function(a){if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state!==j.RECORDING)return;var b=[];for(var d=0;d<a.numberOfChannels;d++)b[d]=a.getChannelData(d);d=c("WANullthrows")(this._encoder);d.postMessage({command:"encode",buffers:b});this._duration+=a.duration;this._onDuration==null?void 0:this._onDuration(this._duration)};e._getNextRequestId=function(){this._requestCount++;return this._requestCount};e._startRecording=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=j.RECORDING;this._recordingAbortController=new AbortController();var a=(yield m(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal));if(!a){this.stop();return!1}return!0});function a(){return a.apply(this,arguments)}return a}();e._storePage=function(a){this._recordedPages.push(a);if(a[5]&4){this._handlePage==null?void 0:this._handlePage(a,!0);var b=c("WANullthrows")(this._encoder);b.removeEventListener("message",this._handleEncoderMessage);this._resolveCompleteRecordingPromise(k(this._recordedPages));this._recordedPages=[];this._onStop==null?void 0:this._onStop();return}this._handlePage==null?void 0:this._handlePage(a,!1)};e._handleFlushed=function(a){var b=c("WANullthrows")(this._pendingFlushResolvers.get(a));this._pendingFlushResolvers["delete"](a);b(k(this._recordedPages))};e.getPartialRecording=function(){var a=this,d=this._getNextRequestId(),e=new(h||(h=b("Promise")))(function(b){a._pendingFlushResolvers.set(d,b)}),f=c("WANullthrows")(this._encoder);f.postMessage({command:"flush",requestId:d});return e};e.getCompleteRecording=function(){return this._completeRecordingPromise};return a}();function k(a){var b=a.reduce(function(a,b){return a+b.length},0);b=new Uint8Array(b);var c=0;for(a of a)b.set(a,c),c+=a.length;return new Blob([b],{type:"audio/ogg; codecs=opus"})}function l(){return Boolean(window.AudioContext&&d("WAGetUserMedia").getUserMedia)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield a(d));if(d.aborted||e==null)return!1;var f=b.createMediaStreamSource(e);c.forEach(function(a){f.connect(a)});d.addEventListener("abort",function(){e.getTracks().forEach(function(a){a.stop()}),f.disconnect()},{once:!0});return!0});return n.apply(this,arguments)}g.OpusRecorderState=j;g.OpusRecorder=a}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.start=function(){this.$1=Date.now()};b.stop=function(){this.$2=Date.now()};b.pause=function(){this.stop()};b.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null};b.getTime=function(){var a,b=this.$1;if(b==null)return 0;a=(a=this.$2)!=null?a:Date.now();return a-b};return a}();f["default"]=a}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var d=this;this.$2=new(c("WAPttComposerRecorderPollableTimer"))();this.$3=[];this.$4=[];this.$5=0;this.$10=function(){d.$5=Math.max(d.$5,d.$11());var a=d.$3.length/d.$1;a=Math.floor((d.getDuration()-a)*d.$1);if(a===0)return;for(var b=0;b<a;b++)d.$3.push(d.$5);d.$5=0};this.$12=0;this.$7=h(a);a.connect(this.$7);this.$1=b}var b=a.prototype;b.start=function(){this.$2.start(),this.$9()};b.stop=function(){this.$2.stop(),this.$6==null?void 0:this.$6()};b.pause=function(){this.$2.pause(),this.$6==null?void 0:this.$6()};b.resume=function(){this.$2.resume(),this.$9()};b.$9=function(){this.$6=d("WAStartAnimationLoop").startAnimationLoop(this.$10)};b.$11=function(){var a,b=c("WANullthrows")(this.$7);this.$8=(a=this.$8)!=null?a:new Uint8Array(b.frequencyBinCount);a=this.$8;b.getByteFrequencyData(a);return Math.max.apply(Math,Array.from(a))/255};b.commitSamples=function(a){a=Math.floor(a*this.$1);a=a-this.$4.length;var b=this.$3.length-this.$12;if(a===0||b===0)return;b=this.$3.slice(this.$12,this.$3.length);b=c("WAPttComposerScaleWaveform")(b,a);for(var a=b,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$4.push(e)}this.$12=this.$3.length};b.getSamples=function(){return this.$3};b.getDuration=function(){var a;a=(a=this.$2.getTime())!=null?a:0;return a/1e3};b.getCorrectedSamples=function(){return this.$4};return a}();function h(a){a=a.context.createAnalyser();a.fftSize=32;a.smoothingTimeConstant=0;a.minDecibels=-60;a.maxDecibels=-10;return a}g["default"]=a}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this._handleOpusRecorderDuration=function(){b._waveformRecorder.commitSamples(b.getDuration()),b._onDuration==null?void 0:b._onDuration(b.getDuration())};this._onDuration=a.onDuration;this._opusRecorder=new(d("WAPttComposerOpusRecorder").OpusRecorder)({createStream:a.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(b,c){a.onPage==null?void 0:a.onPage(b,c)}});this._waveformRecorder=new(c("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),a.waveformSampleRate)}var e=a.prototype;e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.start());if(!a)return!1;this._waveformRecorder.start();return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()};e.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.resume());if(!a)return!1;this._waveformRecorder.resume();return!0});function c(){return a.apply(this,arguments)}return c}();e.getDuration=function(){return this._opusRecorder.getDuration()};e.getPreciseDuration=function(){var a;return(a=this._waveformRecorder.getDuration())!=null?a:0};e.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()};e.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()};e.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()};e.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()};return a}();g["default"]=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseError",["WAResultOrError","WASmaxInBizLinkingHackBaseIQErrorResponseMixin","WASmaxInBizLinkingIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInBizLinkingIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetLinkedAccountsResponseError=a}),98);
__d("WASmaxInBizLinkingIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseForbidden",["WAResultOrError","WASmaxInBizLinkingHackBaseIQErrorResponseMixin","WASmaxInBizLinkingIQErrorForbiddenMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInBizLinkingIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(c.value);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorForbiddenMixin:c.value},a.value))}g.parseGetLinkedAccountsResponseForbidden=a}),98);
__d("WASmaxInBizLinkingEnums",[],(function(a,b,c,d,e,f){a={disable:"disable","import":"import"};b={"false":"false","true":"true"};c={off:"off",on:"on"};f.ENUM_DISABLE_IMPORT=a;f.ENUM_FALSE_TRUE=b;f.ENUM_OFF_ON=c}),66);
__d("WASmaxInBizLinkingHasDisplayNameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"display_name");if(!a.success)return a;a=d("WASmaxParseUtils").contentString(a.value);return!a.success?a:d("WAResultOrError").makeResult({displayNameElementValue:a.value})}g.parseHasDisplayNameMixin=a}),98);
__d("WASmaxInBizLinkingFBBizResponseMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"catalog");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"state",d("WASmaxInBizLinkingEnums").ENUM_DISABLE_IMPORT);if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"id");return!a.success?a:d("WAResultOrError").makeResult({state:b.value,id:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_biz");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"catalog",h);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;a=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:c.value},a.value,{catalog:b.value}))}g.parseFBBizResponseCatalog=h;g.parseFBBizResponseMixin=a}),98);
__d("WASmaxInBizLinkingAdStatusMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"ad_status");if(!a.success)return a;var b=d("WASmaxParseUtils").attrStringEnum(a.value,"has_created_ad",d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);if(!b.success)return b;a=d("WASmaxParseUtils").attrStringEnum(a.value,"has_active_ctwa_ad",d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);return!a.success?a:d("WAResultOrError").makeResult({adStatusHasCreatedAd:b.value,adStatusHasActiveCtwaAd:a.value})}g.parseAdStatusMixin=a}),98);
__d("WASmaxInBizLinkingFBPageResponseBaseMixin",["WAResultOrError","WASmaxInBizLinkingAdStatusMixin","WASmaxInBizLinkingEnums","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"profile_sync");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"state",d("WASmaxInBizLinkingEnums").ENUM_DISABLE_IMPORT);return!b.success?b:d("WAResultOrError").makeResult({state:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_page");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"profile_sync",h);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;var e=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);if(!e.success)return e;a=d("WASmaxInBizLinkingAdStatusMixin").parseAdStatusMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:c.value},e.value,a.value,{profileSync:b.value}))}g.parseFBPageResponseBaseProfileSync=h;g.parseFBPageResponseBaseMixin=a}),98);
__d("WASmaxInBizLinkingHasProfilePictureMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"bytes");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,0,void 0);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"profile_picture");if(!a.success)return a;var b=d("WASmaxParseUtils").flattenedChildWithTag(a.value,"url");if(!b.success)return b;a=d("WASmaxParseUtils").optionalChildWithTag(a.value,"bytes",h);if(!a.success)return a;b=d("WASmaxParseUtils").contentString(b.value);return!b.success?b:d("WAResultOrError").makeResult({profilePictureUrlElementValue:b.value,profilePictureBytes:a.value})}g.parseHasProfilePictureProfilePictureBytes=h;g.parseHasProfilePictureMixin=a}),98);
__d("WASmaxInBizLinkingHasShowOnProfileMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"show_on_profile");if(!a.success)return a;a=d("WASmaxParseUtils").contentStringEnum(a.value,d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);return!a.success?a:d("WAResultOrError").makeResult({showOnProfileElementValue:a.value})}g.parseHasShowOnProfileMixin=a}),98);
__d("WASmaxInBizLinkingIGProfessionalResponseBaseMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ig_professional");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"ig_handle");if(!b.success)return b;a=d("WASmaxParseUtils").contentString(b.value);return!a.success?a:d("WAResultOrError").makeResult({igHandleElementValue:a.value})}g.parseIGProfessionalResponseBaseMixin=a}),98);
__d("WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin",["WAResultOrError","WASmaxInBizLinkingAdStatusMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"whatsapp_ad_identity");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxInBizLinkingAdStatusMixin").parseAdStatusMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:b.value},a.value))}g.parseWhatsAppAdIdentityResponseMixin=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseSuccess",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxInBizLinkingFBBizResponseMixin","WASmaxInBizLinkingFBPageResponseBaseMixin","WASmaxInBizLinkingHackBaseIQResultResponseMixin","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxInBizLinkingHasProfilePictureMixin","WASmaxInBizLinkingHasShowOnProfileMixin","WASmaxInBizLinkingIGProfessionalResponseBaseMixin","WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_page");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"whatsapp_as_page_button");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(b.value,"state",d("WASmaxInBizLinkingEnums").ENUM_OFF_ON);if(!b.success)return b;var c=d("WASmaxInBizLinkingFBPageResponseBaseMixin").parseFBPageResponseBaseMixin(a);if(!c.success)return c;var e=d("WASmaxInBizLinkingHasProfilePictureMixin").parseHasProfilePictureMixin(a);a=d("WASmaxInBizLinkingHasShowOnProfileMixin").parseHasShowOnProfileMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({whatsappAsPageButtonState:b.value},c.value,{hasProfilePictureMixin:e.success?e.value:null,hasShowOnProfileMixin:a.success?a.value:null}))}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_biz");if(!b.success)return b;b=d("WASmaxInBizLinkingFBBizResponseMixin").parseFBBizResponseMixin(a);return!b.success?b:b}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"ig_professional");if(!b.success)return b;b=d("WASmaxInBizLinkingIGProfessionalResponseBaseMixin").parseIGProfessionalResponseBaseMixin(a);if(!b.success)return b;var c=d("WASmaxInBizLinkingHasProfilePictureMixin").parseHasProfilePictureMixin(a),e=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);a=d("WASmaxInBizLinkingHasShowOnProfileMixin").parseHasShowOnProfileMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{hasProfilePictureMixin:c.success?c.value:null,hasDisplayNameMixin:e.success?e.value:null,hasShowOnProfileMixin:a.success?a.value:null}))}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"whatsapp_ad_identity");if(!b.success)return b;b=d("WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin").parseWhatsAppAdIdentityResponseMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"linked_accounts");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(c.value,"fb_page",h);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(c.value,"fb_biz",i);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(c.value,"ig_professional",j);if(!g.success)return g;c=d("WASmaxParseUtils").optionalChildWithTag(c.value,"whatsapp_ad_identity",k);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{linkedAccountsFbPage:e.value,linkedAccountsFbBiz:f.value,linkedAccountsIgProfessional:g.value,linkedAccountsWhatsappAdIdentity:c.value}))}g.parseGetLinkedAccountsResponseSuccessLinkedAccountsFbPage=h;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsFbBiz=i;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsIgProfessional=j;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsWhatsappAdIdentity=k;g.parseGetLinkedAccountsResponseSuccess=a}),98);
__d("WASmaxOutBizLinkingGetLinkedAccountsRequest",["WASmaxJsx","WASmaxOutBizLinkingHackBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutBizLinkingHackBaseIQGetRequestMixin").mergeHackBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"fb:thrift_iq",smax_id:d("WAWap").INT(42)},d("WASmaxJsx").smax("linked_accounts",null)),a);return a}g.makeGetLinkedAccountsRequest=a}),98);
__d("WASmaxBizLinkingGetLinkedAccountsRPC",["WAComms","WASmaxInBizLinkingGetLinkedAccountsResponseError","WASmaxInBizLinkingGetLinkedAccountsResponseForbidden","WASmaxInBizLinkingGetLinkedAccountsResponseSuccess","WASmaxOutBizLinkingGetLinkedAccountsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutBizLinkingGetLinkedAccountsRequest").makeGetLinkedAccountsRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInBizLinkingGetLinkedAccountsResponseSuccess").parseGetLinkedAccountsResponseSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"GetLinkedAccountsResponseSuccess",value:g.value});case 7:h=d("WASmaxInBizLinkingGetLinkedAccountsResponseForbidden").parseGetLinkedAccountsResponseForbidden(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"GetLinkedAccountsResponseForbidden",value:h.value});case 10:i=d("WASmaxInBizLinkingGetLinkedAccountsResponseError").parseGetLinkedAccountsResponseError(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"GetLinkedAccountsResponseError",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetLinkedAccounts",{Success:g,Forbidden:h,Error:i}));case 14:case"end":return j.stop()}},null,this)}g.sendGetLinkedAccountsRPC=a}),98);
__d("WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorInternalServerError"],[b,c])}g.parseIQErrorBadRequestOrInternalServerErrorMixinGroup=a}),98);
__d("WASmaxInMdGetCountryCodeResponseError",["WAResultOrError","WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup","WASmaxInMdIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup").parseIQErrorBadRequestOrInternalServerErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrInternalServerErrorMixinGroup:b.value}))}g.parseGetCountryCodeResponseError=a}),98);
__d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse",["WAResultOrError","WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"country_code");if(!c.success)return c;c=d("WASmaxParseUtils").attrString(c.value,"iso");if(!c.success)return c;a=d("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({countryCodeIso:c.value},a.value))}g.parseGetCountryCodeResponseGetCountryCodeResponse=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors",["WAResultOrError","WASmaxInNewslettersBadRequestIQErrorResponseMixin","WASmaxInNewslettersItemNotFoundIQErrorResponseMixin","WASmaxInNewslettersRateLimitedIQErrorResponseMixin","WASmaxInNewslettersSuspendedIQErrorResponseMixin","WASmaxInNewslettersUnavailableForLegalReasonsResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxInNewslettersBadRequestIQErrorResponseMixin").parseBadRequestIQErrorResponseMixin(a,b);if(c.success)return d("WAResultOrError").makeResult({name:"BadRequestIQErrorResponse",value:c.value});var e=d("WASmaxInNewslettersUnavailableForLegalReasonsResponseMixin").parseUnavailableForLegalReasonsResponseMixin(a,b);if(e.success)return d("WAResultOrError").makeResult({name:"UnavailableForLegalReasonsResponse",value:e.value});var f=d("WASmaxInNewslettersItemNotFoundIQErrorResponseMixin").parseItemNotFoundIQErrorResponseMixin(a,b);if(f.success)return d("WAResultOrError").makeResult({name:"ItemNotFoundIQErrorResponse",value:f.value});var g=d("WASmaxInNewslettersSuspendedIQErrorResponseMixin").parseSuspendedIQErrorResponseMixin(a,b);if(g.success)return d("WAResultOrError").makeResult({name:"SuspendedIQErrorResponse",value:g.value});b=d("WASmaxInNewslettersRateLimitedIQErrorResponseMixin").parseRateLimitedIQErrorResponseMixin(a,b);return b.success?d("WAResultOrError").makeResult({name:"RateLimitedIQErrorResponse",value:b.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["BadRequestIQErrorResponse","UnavailableForLegalReasonsResponse","ItemNotFoundIQErrorResponse","SuspendedIQErrorResponse","RateLimitedIQErrorResponse"],[c,e,f,g,b])}g.parseSubscribeToLiveUpdatesClientErrors=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError",["WAResultOrError","WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors").parseSubscribeToLiveUpdatesClientErrors(a,b);return!c.success?c:d("WAResultOrError").makeResult({subscribeToLiveUpdatesClientErrors:c.value})}g.parseSubscribeToLiveUpdatesResponseClientError=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError",["WASmaxInNewslettersInternalServerErrorIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInNewslettersInternalServerErrorIQErrorResponseMixin").parseInternalServerErrorIQErrorResponseMixin(a,b);return!c.success?c:c}g.parseSubscribeToLiveUpdatesResponseServerError=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess",["WAResultOrError","WASmaxInNewslettersIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"live_updates");if(!c.success)return c;c=d("WASmaxParseUtils").attrIntRange(c.value,"duration",30,600);if(!c.success)return c;a=d("WASmaxInNewslettersIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({liveUpdatesDuration:c.value},a.value))}g.parseSubscribeToLiveUpdatesResponseSuccess=a}),98);
__d("WASmaxOutMdBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutMdGetCountryCodeRequest",["WASmaxJsx","WASmaxOutMdBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutMdBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"md"},d("WASmaxJsx").smax("link_code_companion_reg",{stage:"get_country_code"})));return a}g.makeGetCountryCodeRequest=a}),98);
__d("WASmaxMdGetCountryCodeRPC",["WAComms","WASmaxInMdGetCountryCodeResponseError","WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse","WASmaxOutMdGetCountryCodeRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){var c,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:c=d("WASmaxOutMdGetCountryCodeRequest").makeGetCountryCodeRequest();h.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(c,a));case 3:e=h.sent;f=d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse").parseGetCountryCodeResponseGetCountryCodeResponse(e,c);if(!f.success){h.next=7;break}return h.abrupt("return",{name:"GetCountryCodeResponseGetCountryCodeResponse",value:f.value});case 7:g=d("WASmaxInMdGetCountryCodeResponseError").parseGetCountryCodeResponseError(e,c);if(!g.success){h.next=10;break}return h.abrupt("return",{name:"GetCountryCodeResponseError",value:g.value});case 10:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetCountryCode",{GetCountryCodeResponse:f,Error:g}));case 11:case"end":return h.stop()}},null,this)}g.sendGetCountryCodeRPC=a}),98);
__d("WASmaxOutNewslettersNewsletterIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutNewslettersBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqTo;a=d("WASmaxOutNewslettersBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").JID(a),xmlns:"newsletter"}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNewsletterIQSetRequestMixin=a}),98);
__d("WASmaxOutNewslettersSubscribeToLiveUpdatesRequest",["WASmaxJsx","WASmaxOutNewslettersNewsletterIQSetRequestMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutNewslettersNewsletterIQSetRequestMixin").mergeNewsletterIQSetRequestMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("live_updates",null)),a);return a}g.makeSubscribeToLiveUpdatesRequest=a}),98);
__d("WASmaxNewslettersSubscribeToLiveUpdatesRPC",["WAComms","WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError","WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError","WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess","WASmaxOutNewslettersSubscribeToLiveUpdatesRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutNewslettersSubscribeToLiveUpdatesRequest").makeSubscribeToLiveUpdatesRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess").parseSubscribeToLiveUpdatesResponseSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"SubscribeToLiveUpdatesResponseSuccess",value:g.value});case 7:h=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError").parseSubscribeToLiveUpdatesResponseClientError(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"SubscribeToLiveUpdatesResponseClientError",value:h.value});case 10:i=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError").parseSubscribeToLiveUpdatesResponseServerError(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"SubscribeToLiveUpdatesResponseServerError",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SubscribeToLiveUpdates",{Success:g,ClientError:h,ServerError:i}));case 14:case"end":return j.stop()}},null,this)}g.sendSubscribeToLiveUpdatesRPC=a}),98);
__d("WASyncdHandleKeyRequest",["Promise","WAGetSyncKey","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=[];e=[];f.next=4;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(a.map(function(a){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(a));case 2:f=g.sent,f?c.push(f):e.push(a);case 4:case"end":return g.stop()}},null,this)})));case 4:return f.abrupt("return",{keys:c,orphanKeys:e});case 5:case"end":return f.stop()}},null,this)}g.getKeysForKeyRequest=a}),98);
__d("WASyncdHandleKeyShare",["Promise","WABaseGlobals","WACryptoUtils","WAGetSyncKey","WALogger","WASyncd","WASyncdCryptoUtils","WASyncdKeyManagementUtils","WASyncdStoreMissingKeys","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: got key share for existing key with different key data\n            (timestampMismatch: ",", epochMismatch: ",", keyDataMismatch: ",",\n              currentIndexMismatch: ",", rowIdMismatch: ",", fingerprintMismatch: ",",\n              keyDataLengthMismatch: ",")"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: no previous in memory key for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: details from previous in memory key for ",":\n              memory key id: ","\n              memory key device id: ","\n              memory key device epoch: ","\n              memory key timestamp: ","\n              memory key fingerprint device indexes: ","\n              memory key binary equal incoming binary? ","\n              memory key binary equal existing key binary? ","\n              memory key sharing device id: ","\n            "]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: all shared keys in payload: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share mismatch extra details:\n              existing timestamp: ",", new key timestamp: ","\n              existing fingerprint device indexes: ",", new key fingerprint device indexes: ","\n              existing key length: ",", new key length: ",",\n              sending client id: ",",\n              existing key device id: ","\n              new key device id: ","\n              existing key device epoch: ","\n              new key device epoch: ","\n              existing key id:  ","\n              new key id:  ","\n              index key id: ","\n          "]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: comparing fingerprint element "," index "," to ","\n            result: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: stored key share key id "," from device ",". payload key id: ",".\n        timestamp: ",". device from key id: ",". epoch ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: already have in memory key "," from device ","."]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share from device "," has no keys with keydata."]);q=function(){return a};return a}var r={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3},s=new Map();function a(a,c){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c.some(function(a){return a.fullKey!=null})||d("WALogger").LOG(q(),a);e.next=3;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(c.map(function(e){var f,g,h,q,t,u,v,w,x,y,z,A,B;return b("regeneratorRuntime").async(function(C){while(1)switch(C.prev=C.next){case 0:f=e.keyId,g=e.fullKey;if(!(g==null)){C.next=3;break}return C.abrupt("return");case 3:h=d("WASyncdCryptoUtils").syncKeyIdToHex(f);C.next=6;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(f));case 6:q=C.sent;if(!(!q||d("WABaseGlobals").getConfig().syncShouldAllowOverrideKey())){C.next=15;break}C.next=10;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").setSyncKeyInTransaction(g));case 10:s.has(h)&&d("WALogger").WARN(p(),h,a);s.set(h,{keyId:f,fullKey:g,sharingDeviceId:a});d("WALogger").LOG(o(),d("WASyncdCryptoUtils").syncKeyIdToHex(f),a,d("WASyncdCryptoUtils").syncKeyIdToHex(g.keyId),new Date(g.timestamp).toLocaleString(void 0,r),d("WASyncdKeyManagementUtils").getKeyDeviceId(g.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(g.keyId));C.next=24;break;case 15:t=q.timestamp!==g.timestamp;u=q.keyEpoch!==g.keyEpoch;v=!d("WACryptoUtils").arrayBuffersEqual(q.keyData,g.keyData);w=q.keyData.byteLength!==g.keyData.byteLength;x=q.fingerprint.currentIndex!==g.fingerprint.currentIndex;y=q.fingerprint.rawId!==g.fingerprint.rawId;z=q.fingerprint.deviceIndexes.every(function(a,b){return a===g.fingerprint.deviceIndexes[b]});z&&q.fingerprint.deviceIndexes.every(function(a,b){d("WALogger").LOG(n(),a,b,g.fingerprint.deviceIndexes[b],a===g.fingerprint.deviceIndexes[b])});if(v){var D;d("WALogger").LOG(m(),new Date(q.timestamp).toLocaleString(void 0,r),new Date(g.timestamp).toLocaleString(void 0,r),q.fingerprint.deviceIndexes,g.fingerprint.deviceIndexes,q.keyData.byteLength,g.keyData.byteLength,a,(D=d("WASyncdKeyManagementUtils")).getKeyDeviceId(q.keyId),D.getKeyDeviceId(g.keyId),D.getKeyEpoch(q.keyId),D.getKeyEpoch(g.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(q.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(g.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(f));d("WALogger").LOG(l(),c.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a.keyId)}));A=s.get(h);A&&(B=A.fullKey,B?d("WALogger").WARN(k(),h,d("WASyncdCryptoUtils").syncKeyIdToHex(A.keyId),d("WASyncdKeyManagementUtils").getKeyDeviceId(A.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(A.keyId),new Date(B.timestamp).toLocaleString(void 0,r),B.fingerprint.deviceIndexes,d("WACryptoUtils").arrayBuffersEqual(B.keyData,g.keyData),d("WACryptoUtils").arrayBuffersEqual(B.keyData,q.keyData),A.sharingDeviceId):d("WALogger").LOG(j(),h));d("WALogger").ERROR(i(),t,u,v,x,y,z,w).sendLogs("syncd: got key share for existing key with different key data")}case 24:case"end":return C.stop()}},null,this)})));case 3:e.next=5;return b("regeneratorRuntime").awrap(d("WASyncdStoreMissingKeys").updateMissingKeys(c.map(function(a){var b=a.keyId;a=a.fullKey;return{keyId:b,keyData:a==null?void 0:a.keyData}}),a));case 5:return e.abrupt("return",d("WASyncd").syncBlockedCollections());case 6:case"end":return e.stop()}},null,this)}g.handleKeyShare=a}),98);
__d("WAWebMsgAckBridge",["Promise","WALogger","WAWebAck","WAWebMsgInfoCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack "," for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack has 0 receipt for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: no orphan ack found for ",""]);k=function(){return a};return a}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=new Map();if(a.length===1){var e=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.find(a[0].id));c.set(a[0].id.toString(),e)}else c=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.findManyAndUpdate(a.map(function(a){return a.id})));var f=new Map();yield (h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var a=c.get(b.id.toString());if(!a){d("WALogger").LOG(k(),b.id);return null}var e=null,g=null;a.playedRemaining===0&&a.played.length!==0?(g=d("WAWebAck").ACK.PLAYED,e=a.played):a.readRemaining===0&&a.read.length!==0?(g=d("WAWebAck").ACK.READ,e=a.read):a.deliveryRemaining===0&&a.delivery.length!==0&&(g=d("WAWebAck").ACK.RECEIVED,e=a.delivery);if(g==null||e==null){d("WALogger").LOG(j(),b.id);return null}d("WALogger").LOG(i(),g,b.id);f.set(b.id.toString(),{ack:g,t:Math.max.apply(Math,e.map(function(a){return a.t})),to:b.to,from:b.from})});return function(b){return a.apply(this,arguments)}}()));return f});return l.apply(this,arguments)}g.getHighestAcks=a}),98);
__d("WAWebAckMsgAction",["WALogger","WAWebBackendApi","WAWebMessageReceiptBatcher","WAWebMsgAckBridge","WAWebMsgCollection","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed: processOrphanReadReceipts failed!"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["processOrphanReadReceipts: skip for msgId: ",""]);j=function(){return a};return a}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b.latestEditMsgKey&&!b.latestEditMsgKey.equals(a))return;var f=e.ack;e=e.t;a=a.remote;b.updateAck(f);c("WAWebWid").isUser(a)&&(yield d("WAWebBackendApi").frontendSendAndReceive("updateMsgInfo",{updates:[{msgKey:b.id,ack:f,participant:a,ts:e}]}))});return l.apply(this,arguments)}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches();a=a.map(function(a){var b;b=(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a);if(!b){d("WALogger").LOG(j(),String(a));return null}return b}).filter(Boolean);var e=(yield d("WAWebMsgAckBridge").getHighestAcks(a));a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=e.get(a.id.toString());if(!b||b.ack===a.ack)return;return k(a.id,a,b)}catch(a){c("gkx")("26258")?d("WALogger").ERROR(i()):d("WALogger").ERROR(h()).devConsole(a).sendLogs("processOrphanReadReceipts failed")}});return function(b){return a.apply(this,arguments)}}())});return m.apply(this,arguments)}g.updateMsgAck=k;g.processOrphanReadReceipts=a}),98);
__d("WAWebAddToFavoritesAction",["fbt","invariant","WALogger","WATimeUtils","WAWebABProps","WAWebActionToast.react","WAWebConfirmPopup.react","WAWebDBFavoriteDatabaseApi","WAWebFavoriteCollection","WAWebFavoritesSync","WAWebFbtCommon","WAWebInboxFiltersGatingUtils","WAWebL10NHelpers","WAWebModalManager","WAWebSchemaFavorite","WAWebSyncd","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h,i){var j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Favorites] addToFavoritesAction, mutation generated"]);k=function(){return a};return a}var l=j||c("react");function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e;d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()||i(0,78439);var f=(yield d("WAWebSchemaFavorite").getFavoriteTable().all());e=(e=d("WAWebABProps").getABPropConfigValue("favorites_limit"))!=null?e:100;if(f.length+a.length>e){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__HnDSyWBaoKF__JHASH__",[h._param("favorites_limit",e)]):h._("__JHASH__e_HjADbrcWY__JHASH__",[h._param("favorites_limit",e)])}));return}var g=a.map(function(a){return{id:a.toJid()}});e=f.concat(g);a=d("WATimeUtils").unixTime();f=c("WAWebFavoritesSync").getFavoritesMutation(e,a);d("WALogger").LOG(k()).devConsole(f);e=d("WAWebSyncd").lockForSync(["favorite"],[f],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebDBFavoriteDatabaseApi").addOrEditFavorites(g)})).then(function(){return d("WAWebFavoriteCollection").FavoriteCollection.add(g)});a=new(d("WAWebActionToast.react").ActionType)(d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__zptlCSz2-CD__JHASH__"):h._("__JHASH___JOn6e6QyNj__JHASH__"));f=e.then(function(){return new(d("WAWebActionToast.react").ActionType)(d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__Nhi8kiJvyem__JHASH__"):h._("__JHASH__KKweanAUjAO__JHASH__"))});d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebActionToast.react").ActionToast,{id:d("WAWebActionToast.react").genId(),initialAction:a,pendingAction:f}))});return m.apply(this,arguments)}g.addToFavoritesAction=a}),226);
__d("WAWebBizMerchantDetailsEntityTypePopup.react",["fbt","WAWebBizComplianceUtil","WAWebBusinessProfileTypes","WAWebComplianceConstants","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModal.react","WAWebModalManager","WAWebRichTextField.react","WAWebWDSButton","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useState,p={inputWrapper:{display:"x78zum5",alignSelf:"xamitd3",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,$$css:!0},footer:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",backgroundColor:"x13x2ugz",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0},indentedOption:{marginStart:"x8vdgqj",marginLeft:null,marginRight:null,$$css:!0},cursorPointer:{cursor:"x1ypdohk",$$css:!0}};function a(a){var b=a.legalEntityDetails,e=a.onSave;a=o(b==null?void 0:b.entityType);var f=a[0],g=a[1];a=o(b==null?void 0:b.entityTypeCustom);var i=a[0],j=a[1];a=o(b==null?void 0:b.isRegistered);var k=a[0],r=a[1];n(function(){f!==(b==null?void 0:b.entityType)&&(j(""),r(!1))},[f,b==null?void 0:b.entityType]);a=m(function(){d("WAWebModalManager").ModalManager.close(),e(f,i,k)},[f,i,k,e]);var s=m(function(a){g(a.target.value)},[]),t=m(function(a){return r(a.target.checked)},[]);t=l.jsx(q,{value:k,label:h._("__JHASH___JjsVTYFMs___JHASH__"),inputType:"checkbox",xstyle:p.indentedOption,onChange:t,"data-testid":void 0});return l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,children:l.jsxs(c("WAWebDrawer.react"),{theme:"settings",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH___acXWFAsgOq__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsx("form",{className:"xqy66fx x6x52a7 xr1496l xxpdul3",children:l.jsxs("ol",{children:[l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.limitedLiabilityPartnership,value:f,label:h._("__JHASH__Hf08AO7WEpL__JHASH__"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.soleProprietorship,value:f,label:h._("__JHASH__Gbc84UBJYyb__JHASH__"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.partnership,value:f,label:h._("__JHASH__NMb47BimJVH__JHASH__"),onChange:s,"data-testid":void 0}),f===d("WAWebBusinessProfileTypes").businessTypeOptions.partnership&&t,l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.publicCompany,value:f,label:h._("__JHASH__9gptthYJ3PB__JHASH__"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.privateCompany,value:f,label:h._("__JHASH__0aunDM0dvxM__JHASH__"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.other,value:f,label:h._("__JHASH__RzUHjpiLHpP__JHASH__"),onChange:s,"data-testid":void 0}),f===d("WAWebBusinessProfileTypes").businessTypeOptions.other&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x8vdgqj","data-testid":void 0,children:l.jsx(d("WAWebRichTextField.react").RichTextField,{value:i,editable:!0,maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.ENTITY_TYPE_CUSTOM,inputPlaceholder:h._("__JHASH__zqCZvtBP0D5__JHASH__"),showRemaining:!0,onChange:function(a){a=a.text;return j(a)},theme:"text-input",lowProfile:!0})}),t]})]})})}),l.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",xstyle:p.footer,children:l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,disabled:f===d("WAWebBusinessProfileTypes").businessTypeOptions.other&&!d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(i),children:h._("__JHASH__K-FdwULPt2J__JHASH__")})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a["data-testid"];b=b===void 0?"merchant-details-entity-type-option-popup":b;b=a.id;var e=a.inputType;e=e===void 0?"radio":e;var f=a.label,g=a.onChange,h=a.value;a=a.xstyle;b=b||f;return l.jsx("li",{className:(j||(j=c("stylex")))(p.cursorPointer,a),children:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(c("WAWebFlexItem.react"),{xstyle:p.inputWrapper,children:l.jsx("input",{id:b,value:b,type:e,name:"entityType",checked:e==="radio"?h===b:h,className:"x1ypdohk",onChange:g})}),l.jsx(c("WAWebFlexItem.react"),{grow:1,children:l.jsx("label",{htmlFor:b,className:"x1lliihq x889kno x4uap5 x1a8lsjc xkhd6sd x1lkfr7t x1ypdohk","data-testid":void 0,children:f})})]})})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBusinessMuteWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({BusinessMute:[1376,{muteT:[2,d("WAWebWamCodegenUtils").TYPES.TIMER],muteeId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{BusinessMute:[]});g.BusinessMuteWamEvent=a}),98);
__d("WAWebBusinessUnmuteWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({BusinessUnmute:[1378,{muteeId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{BusinessUnmute:[]});g.BusinessUnmuteWamEvent=a}),98);
__d("WAWebClearChatPopup.react",["fbt","WAWebChatFlowTypes","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebModalManager","WAWebSendClearChatAction","WAWebWDSText.react","WAWebWamChatPSALogger","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useMemo,m=b.useState;function a(a){var b=a.chat;a=m(function(){return!1});var c=a[0],e=a[1];a=function(){e(!c)};var f=function(){d("WAWebModalManager").ModalManager.close()},g=function(){b.pendingAction++;if(b.isPSA){var a=b.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(a,5,14)}d("WAWebSendClearChatAction").sendClear(b,c)["finally"](function(){b.pendingAction--});d("WAWebModalManager").ModalManager.close()},i=l(function(){if(b.kind!=null)switch(b.kind){case d("WAWebChatFlowTypes").ChatKindType.Group:return h._("__JHASH__dIxxYcw1a4Y__JHASH__");case d("WAWebChatFlowTypes").ChatKindType.Chat:return h._("__JHASH__Yu2ZIWj2zkD__JHASH__");case d("WAWebChatFlowTypes").ChatKindType.Broadcast:return h._("__JHASH___BK5mMiBXY7__JHASH__");case d("WAWebChatFlowTypes").ChatKindType.Newsletter:case d("WAWebChatFlowTypes").ChatKindType.Community:return""}return""},[b.kind]);a=k.jsxs("div",{className:"x78zum5 x18d9i69 x14vqqas x11i5rnm x1f6kntn x16h55sf",children:[k.jsx("div",{"data-testid":void 0,className:"x1rg5ohu x1okw0bk xmo9yow x1uuroth xqz5vs7",children:k.jsx(d("WAWebCheckBox.react").CheckBox,{onChange:a,checked:c,id:"menu-icon-clear-chat"})}),k.jsx("label",{htmlFor:"menu-icon-clear-chat",className:"x98rzlu x1ypdohk xqz5vs7",children:h._("__JHASH__zRe4njGKpc2__JHASH__")})]});a=k.jsxs("div",{children:[k.jsx("div",{className:"x1qbkcu5",children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"p",children:h._("__JHASH__K_dsWSPgA3l__JHASH__")})}),a]});return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:i,onOK:g,okText:h._("__JHASH__SBWNZPNFYA2__JHASH__"),onCancel:f,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useWAWebLexicalOnContentChange",["LexicalComposerContext","react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=d("LexicalComposerContext").useLexicalComposerContext(),e=b[0],f=c("useWAWebStableCallback")(a);i(function(){var a=e.registerTextContentListener(function(a){f(a)});return a},[e,f])}g.useLexicalOnContentChange=a}),98);
__d("WAWebCommandPaletteController",["Lexical","LexicalComposer","LexicalComposerContext","WAWebCommandPaletteInput.react","WAWebFlex.react","WAWebLexicalUtils","WAWebModalManager","WAWebToArray","err","react","useWAWebLexicalEvent","useWAWebLexicalOnContentChange"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react"));e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useState,o={container:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",backgroundColor:"x1x0w6k2",color:"x6s6g2w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},pluginContainer:{maxHeight:"x12f24lm",$$css:!0}},p=e(null);function q(){var a=k(p);if(a==null)throw c("err")("useCommandPalette must be used inside of a CommandPaletteContext");return a}function r(a){var b=a.children,c=a.defaultPlugin,e=a.triggeredPlugins;a=n([]);var f=a[0],g=a[1];a=n("");var h=a[0],i=a[1];a=d("LexicalComposerContext").useLexicalComposerContext();var k=a[0],m=f[f.length-1],o=function(a){d("WAWebLexicalUtils").setTextContent(k,a),i(a)},q=function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";o(b);g([].concat(f,[{plugin:a,input:b}]))},r=function(a){var b=f.slice(0,f.length-1),c=b[b.length-1],d="";c!=null&&((a==null?void 0:a.input)!=null?d=a.input:c.plugin.restoreInputOnBack===!0&&(d=c.input));o(d);g(b)};a=function(){return g([])};var s=function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";o(b);g([{plugin:a,input:b}])},t=function(){d("WAWebModalManager").ModalManager.close()};l(function(){if(f.length===0){var a=e==null?void 0:e.find(function(a){var b=d("WAWebToArray").toArray(a.trigger);if(b.includes(h))return a});a!=null&&q(a.plugin)}},[h]);d("useWAWebLexicalEvent").useLexicalCommandListener(k,d("Lexical").KEY_BACKSPACE_COMMAND,function(a){h===""&&(a.preventDefault(),r());return!1});d("useWAWebLexicalOnContentChange").useLexicalOnContentChange(function(a){m!=null&&(m.input=a),i(a)});s={input:h,pushPlugin:q,popPlugin:r,clearStack:a,replaceStack:s,closeModal:t,activePlugin:(a=m==null?void 0:m.plugin)!=null?a:c,pluginStack:f,pluginList:e};return j.jsx(p.Provider,{value:s,children:b})}r.displayName=r.name+" [from "+f.id+"]";function s(){var a=q();a=a.activePlugin;return a!=null?j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.pluginContainer,children:j.jsx(a.Component,{})}):null}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.defaultPlugin;a=a.triggeredPlugins;var c=m(function(){return{namespace:"CommandPaletteInput",onError:function(){}}},[]);return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.container,children:j.jsx(d("LexicalComposer").LexicalComposer,{initialConfig:c,children:j.jsxs(r,{defaultPlugin:b,triggeredPlugins:a,children:[j.jsx(d("WAWebCommandPaletteInput.react").CommandPaletteInput,{}),j.jsx(s,{})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useCommandPalette=q;g.CommandPalette=a}),98);
__d("WAWebCommandPaletteInput.react",["LexicalErrorBoundary","LexicalPlainTextPlugin","WAWebCommandPaletteController","WAWebFlex.react","WAWebMultilinePlugin","WAWebRichTextInputContentEditable.react","WAWebSearchIcon","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{height:"xsdox4t",boxSizing:"x9f619",$$css:!0},relative:{position:"x1n2onr6",$$css:!0},contentEditable:{width:"xh8yej3",$$css:!0},prefixes:{display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",$$css:!0},prefix:{display:"x78zum5",alignItems:"x6s0dn4",color:"x1r12vwb",$$css:!0},prefixSeparator:{display:"x78zum5",fontWeight:"x1xlr1w8",$$css:!0}};function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=a.activePlugin;b=(b=b==null?void 0:b.placeholder)!=null?b:"Search chats, messages, settings, and more";a=a.pluginStack.length?j.jsx("div",{className:(i||(i=c("stylex")))([k.prefixes]),children:a.pluginStack.filter(function(a){return a.plugin.shortName}).map(function(a){return j.jsxs("div",{className:(i||(i=c("stylex")))([k.prefix,d("WAWebUISpacing").uiMargin.start8]),children:[j.jsx("div",{className:"x2aouup xlyipyv x6ikm8r x10wlt62 xuxw1ft",children:a.plugin.shortName}),j.jsx("div",{className:i([k.prefixSeparator,d("WAWebUISpacing").uiPadding.start8]),children:"/"})]},a.plugin.id)})}):null;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",padding:[8,16],xstyle:k.container,children:[a==null?j.jsx(d("WAWebSearchIcon").SearchIcon,{}):a,j.jsx(d("WAWebFlex.react").FlexRow,{grow:1,xstyle:k.relative,marginStart:8,children:j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:j.jsx(d("WAWebRichTextInputContentEditable.react").InputContentEditable,{xstyle:[k.contentEditable,d("WAWebUISpacing").uiMargin.start4],focusOnMount:!0,placeholder:b}),ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary})}),j.jsx(d("WAWebMultilinePlugin").MultilinePlugin,{multiline:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g.CommandPaletteInput=a}),98);
__d("WAWebThemeCommandPalettePlugin",["WAWebCommandPaletteController","WAWebLexicalWDSMenu.react","WAWebSettingsThemeIcon","WAWebSystemTheme","WAWebThemeContext","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useContext;function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=k(d("WAWebThemeContext").ThemeContext),e=b.systemThemeMode?"system":b.theme,f=function(d){d==="system"?(b.setSystemThemeMode(!0),b.setTheme(c("WAWebSystemTheme").getCurrentTheme())):(b.setSystemThemeMode(!1),b.setTheme(d)),a.closeModal()},g=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"dark",primary:"Dark",onSelect:function(){return f("dark")}},"dark"),h=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"light",primary:"Light",onSelect:function(){return f("light")}},"light"),i=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"system",primary:"System",onSelect:function(){return f("system")}},"system"),l=[];b.theme==="light"?l=[g,h,i]:l=[h,g,i];return j.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItemGroup,{initialSelection:e,children:l.map(function(a){return a})})})}a.displayName=a.name+" [from "+f.id+"]";b={plugin:{id:"ThemeCommandPalettePlugin",placeholder:"Choose a theme",shortName:j.jsx(d("WAWebSettingsThemeIcon").SettingsThemeIcon,{width:16,height:16}),Component:a},trigger:"/theme",doc:{name:"App Theme",description:"Switch between the light and dark themes"}};g.ThemeCommandPalettePlugin=b}),98);
__d("WAWebCommandPalettePlugins",["WAWebThemeCommandPalettePlugin","cr:8750","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=[d("WAWebThemeCommandPalettePlugin").ThemeCommandPalettePlugin];if(!c("gkx")("26258")){var e;e=(e=b("cr:8750")==null?void 0:b("cr:8750").filter(Boolean))!=null?e:[];a.unshift.apply(a,e)}return a}g.getAvailablePlugins=a}),98);
__d("WAWebContactCell",["WAWebChatStatus","WAWebChatTextStatusWrapper","WAWebContactGetters","WAWebContactImage.react","WAWebName.react","WAWebTextStatusGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=i.jsx(d("WAWebName.react").Name,{contact:a,showBusinessCheckmark:d("WAWebContactGetters").getShowBusinessCheckmarkAsPrimary(a),showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),e;d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()?e=i.jsx(c("WAWebChatTextStatusWrapper"),{contactId:a.id}):e=i.jsx(c("WAWebChatStatus"),{id:a.id});a=i.jsx(d("WAWebContactImage.react").ContactImage,{contact:a,size:40});return{primary:b,secondary:e,detailLeft:a}}g.getContactCellContent=a}),98);
__d("WAWebContact.MenuItem",["WAWebContactCell","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact;a=a.onSelect;return i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({optionId:"contact-"+b.id.toString(),onSelect:a},d("WAWebContactCell").getContactCellContent(b)))}a.displayName=a.name+" [from "+f.id+"]";g.ContactMenuItem=a}),98);
__d("WAWebContactSearchModel",["WAWebContactCollection","WAWebContactGetters","WAWebPhoneNumberSearch","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="ContactSearch",b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.queryFn=function(a,b){var c=d("WAWebSearchUtils").normalizeString(a),e=d("WAWebPhoneNumberSearch").numberSearch(c);b=d("WAWebSearchUtils").filterPaginate(d("WAWebContactCollection").ContactCollection.getModelsArray(),function(b){var f=d("WAWebContactGetters").getIsUser(b);return a===""&&f?!0:f&&b.searchMatch(c,e)},b==null?void 0:b.pagination);var f=b.results;b=b.pagination;f=f.map(function(a){return{id:a.id.toString(),type:"contact",data:a}});return{type:"contact",results:f,pagination:b}};return b}(d("WAWebSearchModel").Search);g.ContactSearch=a}),98);
__d("WAWebSearchCollection",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.models=[],this.models=a}var b=a.prototype;b.query=function(a,b){var c;b!=null&&(b.pageLengthPerModel!=null&&(c={pagination:{pageLength:b.pageLengthPerModel,page:0}}));return this.models.map(function(b){b=b.query(a,c);return b}).filter(Boolean)};return a}();f.SearchCollection=a}),66);
__d("WAWebSparklesIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="sparkles";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=25;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 25",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M6.96618 14.136C6.90537 13.8719 6.74322 13.75 6.49997 13.75C6.25672 13.75 6.07429 13.8922 6.03376 14.136C5.46619 17.1834 5.48646 17.1631 2.42568 17.7726C2.14189 17.8335 2 18.0164 2 18.2398C2 18.4836 2.14189 18.6665 2.42568 18.7274C5.48646 19.3369 5.38511 19.3572 6.03376 22.3437C6.07429 22.5875 6.25672 22.75 6.49997 22.75C6.76347 22.75 6.90537 22.6078 6.96618 22.3437C7.61483 19.3572 7.51347 19.3369 10.5743 18.7274C10.8377 18.6665 11 18.5039 11 18.2398C11 17.996 10.8377 17.8335 10.5743 17.7726C7.51724 17.2044 7.51348 17.1835 6.9682 14.1472L6.96618 14.136Z",fill:"currentColor",style:{fillOpacity:1}}),j.jsx("path",{d:"M15.1417 3.39253C15.1195 2.99372 14.854 2.75 14.4779 2.75C14.146 2.75 13.8805 2.99372 13.8585 3.34822C13.1506 8.57718 12.9956 8.55501 7.57521 9.61853C7.24331 9.66284 7 9.90658 7 10.2611C7 10.6156 7.24331 10.8593 7.57521 10.9036C12.9956 11.6791 13.1725 11.8342 13.8585 17.1296C13.8805 17.5063 14.146 17.75 14.4779 17.75C14.854 17.75 15.1195 17.5063 15.1417 17.1075C15.7833 11.9007 16.0708 11.9228 21.4248 10.9036C21.7567 10.8371 22 10.6156 22 10.2611C22 9.88441 21.7567 9.66284 21.3362 9.61853C16.0266 8.73228 15.7833 8.59932 15.1417 3.39253Z",fill:"currentColor",style:{fillOpacity:1}})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SparklesIcon=a}),98);
__d("WAWebDefaultCommandPalettePlugin",["Promise","WAWebChatCollection","WAWebChatListMenuItem.react","WAWebChatMsgIcon","WAWebChatSearchModel","WAWebChatlistUtils","WAWebCommandPaletteController","WAWebContact.MenuItem","WAWebContactSearchModel","WAWebContactsIcon","WAWebFlex.react","WAWebKeyboardShortcut.react","WAWebLexicalWDSMenu.react","WAWebPanelRecentIcon","WAWebSearchCollection","WAWebSettingSearchModel","WAWebSettings.MenuItem","WAWebSettingsIcon","WAWebSparklesIcon","WAWebStaticMenuItem.react","WAWebSvgComponentBase","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useMemo,n=e.useState;function o(a){var b=a.icon;a=a.title;return k.jsx(d("WAWebStaticMenuItem.react").MenuHeading,{children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{paddingEnd:8,children:b}),a]})})}o.displayName=o.name+" [from "+f.id+"]";function p(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=3,c=0,e=[],f=d("WAWebChatCollection").ChatCollection.getModelsArray();for(var g=0;g<f.length;g++){var h=f[g];!h.active&&h.shouldAppearInList&&(e.push(h),h.pin==null&&c++);if(c===b)break}h=e.sort(function(a,b){return((b=b.t)!=null?b:0)-((b=a.t)!=null?b:0)}).slice(0,b);return k.jsxs(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:[k.jsx(o,{title:"Recent Chats",icon:k.jsx(d("WAWebPanelRecentIcon").PanelRecentIcon,{})}),h.map(function(b){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"recent-chat-"+b.id.toString(),chat:b,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(b.id)["catch"](function(){}),a.closeModal()}},b.id.toString())})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.section,c=d("WAWebCommandPaletteController").useCommandPalette();switch(b.type){case"setting":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Settings",icon:k.jsx(d("WAWebSettingsIcon").SettingsIcon,{width:16,height:16,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),k.jsx(d("WAWebSettings.MenuItem").SettingsMenu,{settings:b.results.map(function(a){return a.data}),onSelect:function(a){d("WAWebSettings.MenuItem").openSettingDrawer(a.step),c.closeModal()}})]});case"chat":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Chats",icon:k.jsx(d("WAWebChatMsgIcon").ChatMsgIcon,{width:24,height:24,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"context-menu-chat-"+a.id,chat:a.data,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(a.data.id)["catch"](function(){}),c.closeModal()}},b.type+"-"+a.id)})]});case"contact":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Contacts",icon:k.jsx(d("WAWebContactsIcon").ContactsIcon,{width:24,height:24,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebContact.MenuItem").ContactMenuItem,{contact:a.data,onSelect:function(){d("WAWebChatlistUtils").openOrCreateLatestChat(a.data.id)["catch"](function(){}),c.closeModal()}},b.type+"-"+a.id)})]});default:return}}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b;if(a.pluginList!=null){a=a.pluginList.find(function(a){return a.plugin.id==="HelpCommandPalettePlugin"});a!=null&&(b=function(){return k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebStaticMenuItem.react").MenuSeparator,{}),k.jsxs(d("WAWebFlex.react").FlexRow,{padding:[8,24,16,24],align:"center",gap:16,children:[k.jsx(d("WAWebSparklesIcon").SparklesIcon,{width:32,height:32,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL}),k.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["Type ",k.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"/?"})," to see available plugins"]})]})]})})}return k.jsxs(k.Fragment,{children:[k.jsx(p,{}),b!=null&&k.jsx(b,{})]})}r.displayName=r.name+" [from "+f.id+"]";function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),c=n([]),e=c[0],f=c[1],g=m(function(){return new(d("WAWebSearchCollection").SearchCollection)([new(d("WAWebSettingSearchModel").SettingSearch)({maxPageLength:3}),new(d("WAWebChatSearchModel").ChatSearch)({maxPageLength:4}),new(d("WAWebContactSearchModel").ContactSearch)({maxPageLength:4})])},[]);l(function(){(h||(h=b("Promise"))).all(g.query(a.input)).then(function(a){return f(a)})["catch"](function(){})},[g,a.input]);return a.input===""?k.jsx(r,{}):k.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:e.map(function(a){return a.results.length>0&&k.jsx(q,{section:a},a.type)})})}a.displayName=a.name+" [from "+f.id+"]";c={id:"DefaultCommand",placeholder:"Search anything",shortName:null,Component:a};g.DefaultCommandPalettePlugin=c}),98);
__d("WAWebHelpCommandPalettePlugin",["WAWebCommandPaletteController","WAWebDevOnlyBadge.react","WAWebFlex.react","WAWebLexicalWDSMenu.react","WAWebToArray","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={trigger:{backgroundColor:"x18ba5f9",color:"xzwifym",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function k(a){a=a.trigger;a=d("WAWebToArray").toArray(a);return i.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",padding:8,xstyle:j.trigger,children:a[0]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return{plugin:{id:"HelpCommandPalettePlugin",placeholder:"Search extra command palette functionality",shortName:"?",Component:function(){var b=d("WAWebCommandPaletteController").useCommandPalette();return i.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{children:a.map(function(a){return a.doc!=null?i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,{optionId:a.plugin.id,detailRight:i.jsx(k,{trigger:a.trigger}),primary:a.doc.isDevOnly===!0?i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:a.doc.name}):a.doc.name,secondary:a.doc.description,onSelect:function(){return b.replaceStack(a.plugin)}},a.plugin.id):null}).filter(Boolean)})}},trigger:["/?","/help"],doc:{name:"Help",description:"Discover all of the things the Command Palette can do"}}}g.buildHelpCommand=a}),98);
__d("WAWebCommandPalette.react",["WAWebABProps","WAWebChatlistPanel.react","WAWebChatlistPanelMode","WAWebCmd","WAWebCommandPaletteController","WAWebCommandPalettePlugins","WAWebCommandPaletteUtils","WAWebDefaultCommandPalettePlugin","WAWebHelpCommandPalettePlugin","WAWebModal.react","WAWebModalManager","WAWebSettingsGetters","react","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function l(){var a=d("WAWebCommandPalettePlugins").getAvailablePlugins(),b=d("WAWebHelpCommandPalettePlugin").buildHelpCommand(a);return{defaultPlugin:d("WAWebDefaultCommandPalettePlugin").DefaultCommandPalettePlugin,triggeredPlugins:[].concat(a,[b])}}function m(a){a=a.plugins;a=a==null?l():a;var b=a.defaultPlugin;a=a.triggeredPlugins;return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPaletteV2,children:j.jsx(d("WAWebCommandPaletteController").CommandPalette,{defaultPlugin:b,triggeredPlugins:a})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){d("WAWebModalManager").ModalManager.open(j.jsx(m,{plugins:a}))}function n(){var a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);a=a[0];return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPalette,children:j.jsx(d("WAWebChatlistPanel.react").ChatlistPanel,{showArchiveV2:a,mode:c("WAWebChatlistPanelMode").CommandPalette})})}n.displayName=n.name+" [from "+f.id+"]";function b(){k(function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!0);return function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!1)}},[]);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_command_palette",function(){return d("WAWebModalManager").ModalManager.close()});return d("WAWebABProps").getABPropConfigValue("web_command_palette_plugins")?j.jsx(m,{}):j.jsx(n,{})}b.displayName=b.name+" [from "+f.id+"]";g.openCommandPaletteV2Modal=a;g.CommandPaletteModal=b}),98);
__d("WAWebCountrySelectorPopup.react",["fbt","WAWebBusinessProfileIconSection.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModal.react","WAWebModalManager","WAWebRichTextField.react","WAWebSearchIcon","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useState,n={inputWrapper:{display:"x78zum5",alignSelf:"xamitd3",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,$$css:!0},formWrapper:{overflowY:"x1odjw0f",$$css:!0},search:{backgroundColor:"x1y4abq1",paddingTop:"x889kno",paddingEnd:"x6x52a7",paddingBottom:"x1a8lsjc",paddingStart:"xxpdul3",$$css:!0},footer:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",backgroundColor:"x13x2ugz",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){var b=a.countries,e=a.countryCode,f=a.onSave;a=a.title;var g=m(""),i=g[0],j=g[1];g=m(e||"");var p=g[0],q=g[1];e=l(function(){d("WAWebModalManager").ModalManager.close(),f(p)},[p,f]);var r=l(function(a){q(a.target.value)},[]);return k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,children:k.jsxs(c("WAWebDrawer.react"),{theme:"settings",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",children:[k.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:n.search,children:k.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebSearchIcon").SearchIcon,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMarginSmallGutter,content:k.jsx(d("WAWebRichTextField.react").RichTextField,{value:i,editable:!0,inputPlaceholder:h._("__JHASH__mTVgM6PYlov__JHASH__"),onChange:function(a){return j(a.text)},focusOnMount:!0,theme:"text-input",lowProfile:!0})})}),k.jsx(c("WAWebFlexItem.react"),{xstyle:n.formWrapper,grow:1,children:k.jsx("form",{className:"x123j3cw x4uap5 xs9asl8 xkhd6sd",children:k.jsx("ol",{children:b.filter(function(a){var b=a[0];a=a[1];return b.toLowerCase().includes(i.toLowerCase())||a.toString().toLowerCase().includes(i.toLowerCase())}).map(function(a){var b=a[0];a=a[1];return k.jsx(o,{selectedCountryCode:p,countryCode:b,label:a,onChange:r},b)})})})})]})}),k.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",xstyle:n.footer,children:k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:e,children:h._("__JHASH__K-FdwULPt2J__JHASH__")})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.countryCode,e=a["data-testid"];e=e===void 0?"country-selector-popup-option":e;e=a.label;var f=a.onChange;a=a.selectedCountryCode;return k.jsx("li",{className:"x889kno x6x52a7 x1a8lsjc xxpdul3 x1ypdohk",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:n.inputWrapper,children:k.jsx("input",{id:b,value:b,type:"radio",name:"countryCode",checked:b===a,className:"x1ypdohk",onChange:f})}),k.jsx(c("WAWebFlexItem.react"),{grow:1,children:k.jsx("label",{htmlFor:b,className:"x1lliihq x1lkfr7t x1ypdohk","data-testid":void 0,children:e})})]})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupsV4InviteFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingConfirmPopup.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebGroupsV4InviteFlow.react").__setRef("WAWebGroupsV4InviteFlowLoadable").load());return a}),"GroupsV4InviteFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingConfirmPopup.react"),{okText:h._("__JHASH__9lHmApGpjly__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.GroupsV4InviteFlowLoadable=d}),226);
__d("WAWebDebugParticipantsListModal.react",["WAWebApiContact","WAWebConfirmPopup.react","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.participants;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){return d("WAWebModalManager").ModalManager.open(i.jsx(j,{participants:b}))},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Show participants"})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.participants;a=a.map(function(a){return d("WAWebWidFactory").toUserWid(a.id)});var b=a.filter(function(a){return!a.isLid()});a=a.filter(function(a){return a.isLid()});return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:"Debug Participants List",okText:"Close",onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsxs("div",{className:"x1jn0hjm x14aock7 x1rife3k",children:[i.jsxs("h2",{children:["Phone JIDs (",b.length,")"]}),b.map(function(a,b){return i.jsx("div",{children:a.toString()},b)}),i.jsx("br",{}),i.jsxs("h2",{children:["LID JIDs (",a.length,")"]}),a.map(function(a,b){return i.jsx("div",{children:k(a)},b)})]})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b;b=(b=(b=d("WAWebApiContact").getPhoneNumber(a))==null?void 0:b.toString())!=null?b:"N/A";return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"x1rg5ohu x1oysuqx",children:a.toString()}),i.jsxs("span",{children:["phone: ",b]})]})}g.DebugParticipantsListMenu=a}),98);
__d("WAWebConversationMenus",["fbt","WAWebABProps","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentUtils","WAWebChatEphemerality","WAWebChatGroupUtils","WAWebCmd","WAWebCopyToClipboard","WAWebDebugParticipantsListModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebGroupType","WAWebInboxFiltersGatingUtils","WAWebL10NHelpers","WAWebLeaveCommunityModal.react","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","WAWebSpamConstants","WAWebStateUtils","WAWebSuspendedGroupUtils","WAWebSyncGatingUtils","WAWebWamEnumEphemeralSettingEntryPointType","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b){var e,f=[],g=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};d("WAWebChatAssignmentUtils").canAssignChats()&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(a,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},children:((e=a.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?h._("__JHASH__lj5PxT_IjQN__JHASH__"):h._("__JHASH__aBmR51CpRtQ__JHASH__")},"info"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));a.mute.canMute()&&f.push(j.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(b){return d("WAWebCmd").Cmd.muteChat(a,b)},mute:a.mute,chat:a},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a)&&((e=a.groupMetadata)==null?void 0:e.canSetEphemeralSetting())&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,children:h._("__JHASH__DBbHtG2VesT__JHASH__")},"disappearingMessages"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b=function(){if(d("WAWebBlocklistUtils").isRBIForGroupsEnabled()&&!d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)&&!a.isReadOnly)d("WAWebSuspendedGroupUtils").openLeaveAndReportGroupModal(a,d("WAWebSpamConstants").SpamFlow.GroupOverflowMenuLeaveReportUpsell);else{var b;b=(b=a.groupMetadata)==null?void 0:b.getParentGroupChat();b!=null&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebLeaveCommunityModal.react").LeaveCommunityModal,{chat:b})):d("WAWebCmd").Cmd.deleteOrExitChat(a)}};f.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:b,chat:a},"delete"));if(a.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()){a.isFavorite?e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__DFo75fEWgYZ__JHASH__"):h._("__JHASH__JwzX1VIdfl0__JHASH__"):e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__T4TCB5zMNOD__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__");f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(a,!a.isFavorite)},children:e},"favorite"))}if(!c("gkx")("26258")&&a.isGroup){b=(g=a.groupMetadata)==null?void 0:g.participants;b!=null&&f.push(j.jsx(d("WAWebDebugParticipantsListModal.react").DebugParticipantsListMenu,{participants:b},"showParticipants"))}c("gkx")("26258")||f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(a.id.toString())},children:j.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id"));return f}function b(a,b){var e=[];e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},children:h._("__JHASH__n10V6InzDtc__JHASH__")},"info"));e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));c("gkx")("26258")||e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));e.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChat(a)},chat:a},"delete"));return e}g.groupMenu=a;g.broadcastMenu=b}),226);
__d("WAWebBroadcastMenuDropdown.react",["WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;a=a.toContextMenuManager;a=a===void 0?!1:a;c=d("WAWebConversationMenus").broadcastMenu(c,e);return a?i.jsx("div",{ref:b,children:c}):i.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:c},"BroadcastMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebChatAssignmentNux.react",["fbt","WAWebChatAssignmentLogEvents","WAWebNux","WAWebUseIsFeatureEnabled","WAWebUserPrefsStore","WAWebWDSTooltip.react","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.chat,e=a.targetRef;a=c("useWAWebNux")(d("WAWebNux").NUX.CHAT_ASSIGNMENT);var f=a[0],g=a[1];a=m(!0);var i=a[0],n=a[1];a=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var o=d("WAWebWDSTooltip.react").useWDSTooltip({target:e,element:h._("__JHASH__9Bpy5PG-n_p__JHASH__"),position:d("WAWebWDSTooltip.react").PopoverPosition.Bottom,alignment:d("WAWebWDSTooltip.react").PopoverAlignment.End,onClick:function(){r(),n(!1)}}),p=o.tooltip,q=o.showTooltip,r=o.hideTooltip;o=l(function(){return c("WAWebUserPrefsStore").getUser("chat_assignment_agent_has_assigned_chats")},[]);var s=j(function(){r(),n(!1)},[r]),t=f&&i&&a&&b.assignedAgent==null&&o==null;k(function(){t&&p==null&&e.current!=null&&(q(),g(),d("WAWebChatAssignmentLogEvents").logNuxShown(b))},[t,p,e,q,s,g,b]);return p}g["default"]=a}),226);
__d("WAWebChatSearchMessageCell.react",["WATypeUtils","WAWebChatCell.react","WAWebChatLastMsg.react","WAWebChatMessageSearch","WAWebChatTimestamp.react","WAWebDomScroll","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebStateUtils","react","useWAWebListener","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b,e,f=a.msg,g=a.author,h=a.onClick;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getIsSentByMe,(e=d("WAWebFrontendMsgGetters")).getSenderObj,e.getRtl,e.getDir,b.getType,b.getT]);var i=b[0];b[1];b[2];b[3];b[4];b[5];b[6];var m=e.getChat(f),n=k(null),o=k(null);b=l(function(){return a.active?a.active.value===f:!1});e=b[0];var p=b[1];b=function(a,b){if(a==="focus"){var e=o.current;c("WAWebFocusTracer").focus(e);b&&e&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e)}p(!!a)};d("useWAWebListener").useListener(a.active,i.toString(),b);var q=function(a){if(d("WATypeUtils").isFunction(h)){var b=d("WAWebChatMessageSearch").getSearchContext(m,d("WAWebStateUtils").unproxy(f));b.msg=f;h(a,m,b)}};i=function(a){a.preventDefault(),a.stopPropagation(),c("WAWebFocusIndicator").shouldIndicateFocus(),q(a)};b=function(a){(a=n.current)==null?void 0:a.indicateFocus()};var r=function(){return!1},s=j.jsx(c("WAWebChatTimestamp.react"),{msg:f});g=j.jsx(c("WAWebChatLastMsg.react"),{msg:f.safe(),msgType:"Search",author:g,searchQuery:a.searchText?[a.searchText]:[]});i={enter:i};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:i,onFocus:b,ref:o,children:j.jsx(c("WAWebChatCell.react"),{ref:n,contextEnabled:r,theme:"chat-search",active:!!e,primaryDetail:s,secondary:g,primary:void 0,onClick:q})})}a.displayName=a.name+" [from "+f.id+"]";g.Message=a}),98);
__d("WAWebChatSearchMessageWithAuthorCell.react",["WAWebChatSearchMessageCell.react","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebMsgGetters","react","useWAWebContactValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[d("WAWebMsgGetters").getId]);b=b[0];var c=d("WAWebFrontendMsgGetters").getChat(a.msg),e=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getFormattedShortName]);e=e[0];return i.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:a.msg,chat:c,author:e,searchText:a.searchText,onClick:a.onClick,active:a.active},b.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatSearchMessageList.react",["WAWebChatSearchMessageCell.react","WAWebChatSearchMessageWithAuthorCell.react","WAWebCmd","WAWebColumnChangeDispatch","WAWebComposeBoxActions","WAWebFindChatAction","WAWebFlatList.react","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebTabOrder","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=d("WAWebFlatList.react").FlatListFactory();function o(a){var b=a.msg,e=a.onClick,f=a.searchText;a=a.selection;return d("WAWebMsgGetters").getSender(b)&&d("WAWebMsgGetters").getIsGroupMsg(b)&&!d("WAWebMsgGetters").getIsNotification(b)&&!d("WAWebMsgGetters").getIsSentByMe(b)?j.jsx(c("WAWebChatSearchMessageWithAuthorCell.react"),{contact:b.senderObj,msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString()):j.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString())}o.displayName=o.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.selection,f=a.ftsResult,g=a.searchText,h=a.onFocusSearch,i=c("useWAWebUIM")(),p=m(null),q=function(a,b,c){a.preventDefault(),a.stopPropagation(),d("WAWebFindChatAction").findExistingChat(b.id,"chatSearchMessageList").then(function(a){d("WAWebColumnChangeDispatch").Column.column===2&&(i==null?void 0:i.requestDismiss()),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a),d("WAWebCmd").Cmd.openChatAt(a,c)})},r=function(){return f||[]},s=function(){e.reset(!0)},t=function(){e.setFirst(!0)},u=function(a){if(a.target!==p.current)return;e.index<0?t():e.reset(!0)},v=function(a){a&&(a.preventDefault(),a.stopPropagation());a=e.next();e.index!==a&&e.setNext(!0)},w=function(a){a&&(a.stopPropagation(),a.preventDefault());a=e.prev();a>-1?e.setPrev(!0):h()},x=function(){return f.map(function(a){return{itemKey:a.id.toString(),msg:a}})};k(function(){e.init(r())},[]);l(b,function(){return{focusFirst:t,restoreFocus:s}});b={down:function(a){return v(a)},up:function(a){return w(a)}};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:b,onFocus:u,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:p,children:j.jsx(n,{flatListController:a.flatListController,direction:"vertical",data:x(),renderItem:function(a){a=a.msg;return j.jsx(o,{msg:a,selection:e,searchText:g,onClick:q})},forceConsistentRenderCount:!1})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebDatePicker.react",["WAWebL10N","WAWebUseIsKeyboardUser","react","react-calendar","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={calendarOverride:{":first-child > .react-calendar_width":"xf2fit4",":first-child > .react-calendar_maxWidth":"xiovny",":first-child > .react-calendar_backgroundColor":"x13ydwdk",":first-child > .react-calendar_lineHeight":"x1cjocb7",":first-child > .react-calendar_boxSizing":"x1f0q22a",":first-child > .react-calendar_borderTopStartRadius":"x1tez8t4",":first-child > .react-calendar_borderTopEndRadius":"x1wdd4z3",":first-child > .react-calendar_borderBottomEndRadius":"x13cp8xe",":first-child > .react-calendar_borderBottomStartRadius":"x1gklatd",":first-child > .react-calendar_paddingBottom":"x1iw8phr",":first-child .react-calendar__tile--now_backgroundColor":"x1artvld",":first-child .react-calendar__tile--now_borderTopStartRadius":"xiqhc4b",":first-child .react-calendar__tile--now_borderTopEndRadius":"x1ey7d6w",":first-child .react-calendar__tile--now_borderBottomEndRadius":"x33m3v9",":first-child .react-calendar__tile--now_borderBottomStartRadius":"x1cws091",":first-child .react-calendar__tile:disabled_color":"xmdgcn3",":first-child .react-calendar__tile:disabled_cursor":"xmfynt6",":first-child .react-calendar__month-view__weekdays__weekday_textAlign":"x1s22pda",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day_backgroundColor":"x1bdrdso",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_backgroundColor":"x1gu7c6u",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopWidth":"x1hn2ltd",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndWidth":"x16b6vmy",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomWidth":"x7mj1lt",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartWidth":"xiz71jx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopStyle":"x1x04ifz",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndStyle":"x13t9i6d",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomStyle":"x9vq33b",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartStyle":"x1ujs0pt",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopColor":"x1ppyohx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndColor":"xh6gg7b",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomColor":"xl1rl7o",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartColor":"x17tixax",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopStartRadius":"x1hfdxgz",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopEndRadius":"xppo158",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomEndRadius":"x1w3omix",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomStartRadius":"x4qerkx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_color":"x1bak1w0",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_display":"x1xhbldp",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_width":"xqikpf9",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_height":"xc078lw",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_textAlign":"x6wgh2k",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_lineHeight":"xf5t2sd",":first-child .react-calendar__month-view__days__day_fontSize":"xw4zml3",":first-child .react-calendar__month-view__weekdays__weekday > abbr_fontSize":"xhtlxvv",":first-child .react-calendar__month-view__weekdays__weekday > abbr_textDecoration":"xra6te8",":first-child button_marginTop":"x1e4ppt3",":first-child button_marginEnd":"x1s9ur8s",":first-child button_marginBottom":"xaockbu",":first-child button_marginStart":"x1pj3a1u",":first-child button_borderTopWidth":"x1wq4j50",":first-child button_borderEndWidth":"x1sfqtfo",":first-child button_borderBottomWidth":"x1g3j6ey",":first-child button_borderStartWidth":"x1p37eoo",":first-child button_outline":"x15kiiuk",":first-child button_color":"x8aj355",":first-child button:enabled:hover_cursor":"x13q2vvg",":first-child .react-calendar__navigation_display":"x15i2d7n",":first-child .react-calendar__navigation_height":"x7tggq",":first-child .react-calendar__navigation_marginBottom":"xea0sh4",":first-child .react-calendar__navigation_backgroundColor":"xrr3a99",":first-child .react-calendar__navigation_color":"x1m4d0k2",":first-child .react-calendar__navigation_borderTopStartRadius":"x17z3i5w",":first-child .react-calendar__navigation_borderTopEndRadius":"x1irigvy",":first-child .react-calendar__navigation_borderBottomEndRadius":"x1fzbl9f",":first-child .react-calendar__navigation_borderBottomStartRadius":"x7hnqd8",":first-child .react-calendar__navigation__label__labelText_color":"xly1xnn",":first-child .react-calendar__navigation__arrow_minWidth":"x71ozu2",":first-child .react-calendar__navigation__arrow_background":"x1upy338",":first-child .react-calendar__navigation__arrow_color":"x1gzymcx",":first-child .react-calendar__navigation__arrow_display":"xsnudpq",":first-child .react-calendar__navigation__arrow_alignItems":"xd7iu77",":first-child .react-calendar__navigation__arrow_justifyContent":"xp1nbbt",":first-child .react-calendar__navigation__arrow_fontSize":"xtgu96i",":first-child .react-calendar__navigation__arrow_fontWeight":"xl48d2a",":first-child .react-calendar__navigation__arrow:disabled_color":"xuhdlvq",":first-child .react-calendar__navigation__arrow:disabled_cursor":"x1m8pmxx",":first-child .react-calendar__navigation__arrow:enabled:hover_opacity":"x5b4mxb",":first-child .react-calendar__month-view__days__day--neighboringMonth_color":"x1pqbnpz",":first-child .react-calendar__year-view > .react-calendar__tile_paddingTop":"x1cyavp5",":first-child .react-calendar__year-view > .react-calendar__tile_paddingEnd":"x1i7pydq",":first-child .react-calendar__year-view > .react-calendar__tile_paddingBottom":"xauqw0m",":first-child .react-calendar__year-view > .react-calendar__tile_paddingStart":"x1j4z2hw",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingTop":"x2g8o02",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingEnd":"xu1owvq",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingBottom":"x1waxneg",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingStart":"xb2o73r",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingTop":"x1s05kqo",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingEnd":"x1t3vnpe",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingBottom":"x1fb7ar5",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingStart":"xjdlplp",":first-child .react-calendar__tile_maxWidth":"xcwe0hv",":first-child .react-calendar__tile_paddingTop":"x1jq7lph",":first-child .react-calendar__tile_paddingEnd":"x8xv2t8",":first-child .react-calendar__tile_paddingBottom":"x80yvro",":first-child .react-calendar__tile_paddingStart":"x1dzsusv",":first-child .react-calendar__tile_background":"x1u43kwp",":first-child .react-calendar__tile_textAlign":"x1ayfghy",":first-child .react-calendar__tile_lineHeight":"x615f3y",":first-child .react-calendar__navigation__prev2-button_visibility":"x4tpv1n",":first-child .react-calendar__navigation__next2-button_visibility":"x1xwpm45",$$css:!0},focusStyles:{":first-child button:focus_boxShadow":"x1hegz0a",$$css:!0}};function a(a){var d=a.maxDate,e=a.minDate;a=a.onDateSelected;var f=c("WAWebUseIsKeyboardUser")();f=f.isKeyboardUser;var g=b("react-calendar")["default"];return j.jsx("div",{className:(i||(i=c("stylex")))(k.calendarOverride,f&&k.focusStyles),children:j.jsx(g,{minDate:e,maxDate:d,onClickDay:a,minDetail:"month",locale:c("WAWebL10N").getFullLocale()})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePicker=a}),98);
__d("WAWebDatePickerContainer.react",["WAWebDatePicker.react","WAWebKeyboardRotateFocusModal.react","WAWebUserPrefsHistorySync","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={overrideRotateFocusStyles:{position:"x1rv4328",$$css:!0}};function a(a){a=a.onDateSelected;var b=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date();b=new Date(b);var f=c("useWAWebFocusOnMount")();return i.jsx(c("WAWebKeyboardRotateFocusModal.react"),{xstyle:j.overrideRotateFocusStyles,children:i.jsx("div",{ref:f,tabIndex:-1,className:"xkxnv7c xtlo18s xg7h5cd x1sr759z x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj",children:i.jsx(d("WAWebDatePicker.react").DatePicker,{maxDate:e,minDate:b,onDateSelected:a})})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePickerContainer=a}),98);
__d("WAWebDBSearchByDate",["WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebSchemaMessage","WAWebViewModeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=1;function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,b);a=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,c);e=(yield d("WAWebSchemaMessage").getMessageTable().between(["messageRangeIndex"],b,a,{lowerInclusive:!0,upperInclusive:!0,reverse:f,limit:h},function(a){return!d("WAWebDBMessageStoreUtils").shouldRenderInUI(a,d("WAWebViewModeUtils").ViewModeSurface.CHAT,void 0)}));return e[0]});return i.apply(this,arguments)}g.getClosestMessageBetweenDates=a}),98);
__d("WAWebSearchByDateUtils",["WALogger","WAWebDBSearchByDate","WAWebMsgKey","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in before search of date"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in after search of date"]);i=function(){return a};return a}function j(a){return Math.floor(a/1e3)}function k(a,b,d){var e=null;a!=null&&b!=null?d?e=a.t>=b.t?a.id:b.id:e=a.t<=b.t?a.id:b.id:a?e=a.id:b&&(e=b.id);return e!=null?c("WAWebMsgKey").fromString(e):null}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!0,e));a=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!1,e));return k(f,a,e)});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=j(b.getTime());var c=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date().getTime();e=(yield l(a,b,e,!1));if(e!=null){d("WALogger").DEV(i());return e}e=(yield l(a,c,b,!0));if(e!=null){d("WALogger").DEV(h());return e}return e});return n.apply(this,arguments)}g.fromMillisecondsToSeconds=j;g.getClosestMessageFromDate=a}),98);
__d("WAWebSearchByTypeAndDateGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_search_by_date_enabled")}g.searchByDateEnabled=a}),98);
__d("WAWebChatSearchDrawer.react",["fbt","Promise","WAAbortError","WAFtsIsSearchQueryEligibleForMessageSearch","WALogger","WAPromiseRaceAbort","WAShiftTimer","WAWebBackendErrors","WAWebChatListSearch.react","WAWebChatMessageSearch","WAWebChatSearchMessageList.react","WAWebCmd","WAWebComposeBoxActions","WAWebContactGetters","WAWebDatePickerContainer.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFlex.react","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebFtsConstants","WAWebFtsMsgsCollection","WAWebHistorySyncComponents.react","WAWebKeyboardHotKeys.react","WAWebMsgCollection","WAWebSearchByDateUtils","WAWebSearchByTypeAndDateGatingUtils","WAWebSingleSelection","WAWebSpinner.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","asyncToGeneratorRuntime","react","useForceUpdate","useLazyRef","useWAWebDebouncedCallback","useWAWebListener","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SBTD] Message not found for getClosestMessageFromDate"]);l=function(){return a};return a}e=k||d("react");var m=j||(j=c("react")),n=e.useEffect,o=e.useRef,p=e.useState,q={flexNone:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",$$css:!0}};function r(a){var b=a.chat,e=a.resultsUnavailable,f=a.searching;a=a.searchText;a=(a||"").trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a)){if(f)return m.jsx(d("WAWebEmptyState.react").SearchingMessages,{});else if(e)return m.jsx(d("WAWebEmptyState.react").SearchMessagesUnavailable,{});return m.jsx(d("WAWebEmptyState.react").SearchMessages,{})}return d("WAWebEmptyState.react").BeforeSearchMessages(b.title(),b.isGroup,d("WAWebContactGetters").getIsMe(b.contact))}r.displayName=r.name+" [from "+f.id+"]";e=m.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.chat;a=c("useForceUpdate")();var g=c("useWAWebUIM")(),j=c("useWAWebUnmountSignal")(),k=p(""),s=k[0],t=k[1];k=p(!1);var u=k[0],v=k[1];k=p(!1);var w=k[0],x=k[1];k=p(null);var y=k[0],z=k[1],A=(k=c("useLazyRef"))(function(){return new(c("WAWebFlatListController"))()}),B=k(function(){return new(c("WAWebFtsMsgsCollection"))(f)}),C=o(null),D=k(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})}),E=o(!1),F=o({}),G=o(null),H=o(null),I=o(null),J=o(null),K=k(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){var a=F.current;a.searchText!==void 0&&t(a.searchText);a.searching!==void 0&&v(a.searching);a.resultsUnavailable!==void 0&&x(a.resultsUnavailable);F.current={}})}),L=function(a,b){b===void 0&&(b=75),Object.assign(F.current,a),a.searching===!0?K.current.debounce(0):K.current.debounce(b)},M=function(a){return a==null||!(a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight)?!1:!(!B.current.hasMoreMsgs||E.current||u||B.current.searchPromise||!c("WAFtsIsSearchQueryEligibleForMessageSearch")((s||"").trim()))},N=function(){var a=F.current;if("searching"in a){return(a=a.searching)!=null?a:!1}return u};k=function(a){if(a.repeat)return;if(!G.current)return;if(C.current&&!C.current.cursorIsAtEnd())return;a.preventDefault();a.stopPropagation();c("WAWebFocusIndicator").shouldIndicateFocus();(a=G.current)==null?void 0:a.focusFirst()};var O=function(a){a.preventDefault();a=B.current.head();if(!a)return;var b=d("WAWebFrontendMsgGetters").getChat(a);a=d("WAWebChatMessageSearch").getSearchContext(b,a);d("WAWebComposeBoxActions").ComposeBoxActions.focus(b);d("WAWebCmd").Cmd.openChatAt(b,a)},P=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(C.current)},Q=function(){g==null?void 0:g.requestDismiss()},R=function(a){c("WAWebFocusIndicator").maybeIndicateFocus(H.current)},S=function(){return Math.round(window.innerHeight/d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT)+1},T=c("useWAWebDebouncedCallback")(function(){var a;E.current=!1;var e=(s||"").trim();if(!c("WAFtsIsSearchQueryEligibleForMessageSearch")(e))return;(a=J.current)==null?void 0:a.abort();J.current=new AbortController();a=J.current.signal;var g=(i||(i=b("Promise"))).resolve().then(function(){N()||L({searching:!0})}).then(function(){return B.current.search({chat:f,count:S(),searchTerm:e})});I.current=c("WAPromiseRaceAbort")(g,a).then(function(a){if(j.aborted)throw new(d("WAAbortError").AbortError)();a&&!a.canceled&&e===s.trim()&&L({searching:!1,resultsUnavailable:!1})})["catch"](d("WAAbortError").catchAbort(function(){}))["finally"](function(){I.current=void 0,J.current=void 0})["catch"](function(a){if(E.current)return;L({searching:!1,resultsUnavailable:a instanceof d("WAWebBackendErrors").E404})})},d("WAWebFtsConstants").FTS_TYPING_DELAY),U=function(){var a;T.cancel();B.current.resetSearch();B.current["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;t("");v(!1)},V=function(a){a=a.trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a))T(),E.current=!0,u||L({searching:!0});else{T.cancel();B.current.resetSearch();B.current["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;u&&L({searching:!1,resultsUnavailable:!1})}},W=function(a){if(!a){U();return}if(a===s)return;var b={searchText:a,resultsUnavailable:!1};V(a);t(a);L(b)},aa=function(a){M(a.currentTarget)&&(T(),E.current=!0)};n(function(){return function(){var a;T.cancel();B.current["delete"](!0);(a=J.current)==null?void 0:a.abort();K.current.cancel()}},[]);d("useWAWebListener").useListener(B.current,["bulk_remove"],a);a=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("search_results");var X=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();a=a&&X;X=B.current.toArray();w=X.length?null:m.jsx(r,{chat:f,searchText:s,searching:u,resultsUnavailable:w});if(w==null){var Y=s?s.trim():null;w=m.jsx(c("WAWebChatSearchMessageList.react"),{ref:G,flatListController:A.current,isSearching:!!Y,searchText:Y,ftsResult:X,selection:D.current,onFocusSearch:P})}Y={down:k};D=u&&X.length?m.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[q.flexNone,d("WAWebUISpacing").uiPadding.vert24],children:m.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})}):null;var Z;P=(s||"").trim();a!==!0&&c("WAFtsIsSearchQueryEligibleForMessageSearch")(P)&&(Z=m.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatSearchIncompletePlaceholder,{}));k=d("WAWebSearchByTypeAndDateGatingUtils").searchByDateEnabled();var $=function(){z(null)},ba=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSearchByDateUtils").getClosestMessageFromDate(f.id.toString(),a));$();if(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.toString());b=d("WAWebChatMessageSearch").getSearchContext(f,b||a);b.highlightMentionMsg=!0;b.enableAnimation=!1;b&&d("WAWebCmd").Cmd.openChatAt(f,b)}else d("WALogger").DEV(l()),d("WAWebCmd").Cmd.openChatBottom(f)});return function(b){return a.apply(this,arguments)}}();X=function(){var a;a=(a=C.current)==null?void 0:a.getCalendarElementRef();z({dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.DatePicker,menu:m.jsx(d("WAWebDatePickerContainer.react").DatePickerContainer,{onDateSelected:function(a){ba(a)}}),flipOnRTL:!0,anchor:a==null?void 0:a.current})};a=y?m.jsx(d("WAWebUimUie.react").UIE,{displayName:"DatePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:$,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:y})}):null;return m.jsxs(c("WAWebDrawer.react"),{ref:e,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__2mjpAs6w3Rr__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:Q}),m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:Y,onFocus:R,ref:H,className:"x1iek97a x1c4vz4f x2lah0s xdl72j9",children:m.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:C,type:d("WAWebChatListSearch.react").ListSearchType.CHAT_MSG_SEARCH,onSearch:W,onEnter:O,loading:u,focusOnMount:!0,showJumpToDateButton:k,onJumpToDateButtonClicked:X})}),a,m.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[A.current],className:"x1vjfegm x78zum5 xdt5ytf x1iyjqo2 x1odjw0f x150wa6m",onScroll:aa,id:"pane-side",children:[w,D,Z]})]},"search-modal")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebShopIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="shop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.9071327,2 C14.0034625,2 15.2227003,3.16428094 15.43674,5.27247106 L15.9324472,5.27272727 C17.9567472,5.27272727 19.6573296,6.79482129 19.8808762,8.80674021 L20.7899671,16.9885584 C21.0322623,19.1692155 19.4609095,21.1334065 17.2802524,21.3757017 C17.1345745,21.3918882 16.9881125,21.4 16.8415381,21.4 L6.97272727,21.4 C4.77865058,21.4 3,19.6213494 3,17.4272727 C3,17.2806983 3.00811182,17.1342363 3.02429825,16.9885584 L3.93338916,8.80674021 C4.14948416,6.86188526 5.7457871,5.37474446 7.68050995,5.27776269 L7.88181818,5.27272727 L8.37752533,5.27247106 C8.59156505,3.16428094 9.81080288,2 11.9071327,2 Z M15.9324472,6.67272727 L7.88181818,6.67272727 L7.71207742,6.67826233 C6.47693062,6.7590403 5.46330025,7.71507958 5.32482639,8.96134435 L4.41573548,17.1431625 C4.40525319,17.2375031 4.4,17.3323516 4.4,17.4272727 C4.4,18.8481508 5.55184923,20 6.97272727,20 L16.8415381,20 C16.9364592,20 17.0313077,19.9947468 17.1256483,19.9842645 C18.5378359,19.8273548 19.5554396,18.5553501 19.3985299,17.1431625 L18.489439,8.96134435 C18.3446708,7.65843118 17.2433783,6.67272727 15.9324472,6.67272727 Z M14.7555208,8.54553713 L14.8506156,8.55002336 C15.2346916,8.59412138 15.5102982,8.94122503 15.4662002,9.32530107 C15.2082527,11.571921 13.9710827,12.8090909 11.9071327,12.8090909 C9.84318262,12.8090909 8.6060127,11.571921 8.34806513,9.32530107 C8.30396711,8.94122503 8.57957375,8.59412138 8.96364979,8.55002336 C9.34772583,8.50592534 9.69482948,8.78153199 9.7389275,9.16560802 C9.91936771,10.7371699 10.5912887,11.4090909 11.9071327,11.4090909 C13.2229767,11.4090909 13.8948976,10.7371699 14.0753379,9.16560802 C14.1120862,8.84554466 14.3592551,8.60080726 14.6628902,8.55363847 L14.7555208,8.54553713 Z M11.9071327,3.4 C10.6172322,3.4 9.94591364,3.96060645 9.78307298,5.27122352 L14.0311924,5.27122352 C13.8683517,3.96060645 13.1970332,3.4 11.9071327,3.4 Z",fill:"currentColor",fillRule:"nonzero"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShopIcon=a}),98);
__d("WAWebCommerceButton.react",["fbt","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebBusinessProfileUtils","WAWebCatalogEntrypointIcon","WAWebDrawerManager","WAWebMenuBar.react","WAWebProductCatalogContext","WAWebProductCatalogSession","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebShopIcon","WAWebTabOrder","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","react","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chat,e=c("useWAWebUIM")();a=b.contact.businessProfile;if(d("WAWebBusinessProfileUtils").hasShop(a)){if(d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(a))return null;var f=function(a){a.preventDefault(),d("WAWebBusinessProfileUtils").goToShop(b.contact.businessProfile)};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebShopIcon").ShopIcon,{}),title:h._("__JHASH__rwhgXpZEUAM__JHASH__"),onClick:f})}if(a==null?void 0:a.isCatalogDisabledDueToMetaLinking)return null;if((a==null?void 0:(f=a.profileOptions)==null?void 0:f.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.CATALOG||(a==null?void 0:a.catalogStatus)===d("WAWebBusinessProfileCollection").CATALOG_EXISTS){f=function(a){a.preventDefault();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});a=d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT);var c=b.contact.id;d("WAWebDrawerManager").DrawerManager.openDrawerRight(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:b,catalogOwnerJid:c.toJid()}),{transition:"slide-left",uim:e,newDrawerContext:a})};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebCatalogEntrypointIcon").CatalogEntrypointIcon,{}),title:h._("__JHASH__OxikoWSe1O9__JHASH__"),onClick:f})}return null}a.displayName=a.name+" [from "+f.id+"]";g.CommerceButton=a}),226);
__d("WAWebDebugConvertToLidChatModal.react",["WAWebApiContact","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebDeleteChatAction","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebFindChatAction","WAWebModalManager","WAWebToast.react","WAWebToastManager","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,addSpacing:!0,action:function(){j(b)},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Convert to LID chat"})},"convertToLid")}a.displayName=a.name+" [from "+f.id+"]";function j(a){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:"Yes",cancelText:"No",onCancel:function(){d("WAWebModalManager").ModalManager.close()},onOK:function(){d("WAWebModalManager").ModalManager.close(),k(a)},children:"'Warning! This will DELETE your existing chat along with all message history and convert it to a new LID-based chat. Do you want to proceed?'"}))}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(a.id));if(b==null){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:"Unable to convert to lid chat: no lid found for "+a.id.toString()}));return}yield d("WAWebDeleteChatAction").sendDelete(a);a=(yield d("WAWebFindChatAction").findOrCreateLatestChat(b,"debugConvertToLidChat"));yield d("WAWebCmd").Cmd.openChatBottom(a);d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return l.apply(this,arguments)}g.DebugConvertToLid=a}),98);
__d("WAWebContactMenuDropdown.react",["fbt","WATimeUtils","WAWebABProps","WAWebBizGatingUtils","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatEphemerality","WAWebChatThreadLogging","WAWebCmd","WAWebContactGetters","WAWebCopyToClipboard","WAWebDebugConvertToLidChatModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFrontendContactGetters","WAWebInboxFiltersGatingUtils","WAWebL10NHelpers","WAWebMessageLogQplEvents","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebReportContactPopup.react","WAWebReportSpamPopup.react","WAWebSendNonMessageDataRequest","WAWebSendSpamChatAction","WAWebSpamConstants","WAWebStateUtils","WAWebStreamModel","WAWebSyncGatingUtils","WAWebUseIsFeatureEnabled","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumPsaMessageRemoveEntryPoint","gkx","react","useForceUpdate","useWAWebContactValues","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){var b,e=a.contact,f=a.onSelectMessages,g=a.enableChatThreadLogging,i=c("useForceUpdate")(),j=d("useWAWebModelValues").useModelValues(a.chat,["isPSA","mute","id","contact","isGroup","promises","isNewsletter","isParentGroup","isUser","tcToken","tcTokenTimestamp","msgs","isFavorite"]);b=d("useWAWebContactValues").useContactValues(a.contact.id,[(b=d("WAWebContactGetters")).getId,b.getIsBusiness,b.getName,d("WAWebFrontendContactGetters").getIsContactBlocked,b.getIsMe,b.getIsMyContact,d("WAWebFrontendContactGetters").getBusinessProfile]);var n=b[0],o=b[1];b[2];var p=b[3],q=b[4];b[5];var r=b[6],s=m(null);d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",i);l(function(){g===!0&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:j.id}])},[g,j.id]);var t=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION"),u=function(){d("WAWebSendSpamChatAction").sendReport({chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}),d("WAWebModalManager").ModalManager.close()},v=function(){d("WAWebSendSpamChatAction").sendSpamBlockClear(j,d("WAWebSpamConstants").SpamFlow.OverflowMenuReport),d("WAWebModalManager").ModalManager.close()},w=function(){if(d("WAWebBlocklistUtils").isRBIRevampedBlockReportDesignEnabled()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}));return}d("WAWebModalManager").ModalManager.open((r==null?void 0:r.isBizBot3p)===!0?k.jsx(c("WAWebReportSpamPopup.react"),{isBizBot3p:!0,isMessage:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}):k.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isBusiness:o,isGroupChat:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))},x=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a.chat),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};b=function(){var b=[];t&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(j,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));j.isPSA||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){o&&d("WAWebMessageLogQplEvents").qplStartProfileView("ToolsMenu"),d("WAWebCmd").Cmd.chatInfoDrawer(j)},testid:void 0,children:h._("__JHASH__ocgQKO3F0P8__JHASH__")},"info"));o&&(d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(n)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.merchantDetailsDrawer(n)},children:h._("__JHASH__GEW-b_5vLT1__JHASH__")},"merchantDetails")));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(j)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));j.mute.canMute()&&b.push(k.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(a){j.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(j,a,3):d("WAWebCmd").Cmd.muteChat(j,a)},mute:j.mute,chat:j},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a.chat)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:x,children:h._("__JHASH__SbyuHS547u5__JHASH__")},"disappearingMessages"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(j)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b.push(k.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChatFromEntryPoint(j,d("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONVERSATION)},chat:j},"delete"));if(j.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()){var g;j.isFavorite?g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__DFo75fEWgYZ__JHASH__"):h._("__JHASH__JwzX1VIdfl0__JHASH__"):g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__T4TCB5zMNOD__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__");b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(j,!j.isFavorite)},children:g},"favorite"))}q||(!j.isPSA&&!j.id.isBot()&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:w,children:h._("__JHASH__0LWVgvzVjNg__JHASH__")},"report")),j.id.isBot()||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:p?function(){return d("WAWebBlockContactUtils").handleUnblock(e,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)}:function(){return d("WAWebBlockContactUtils").handleBlock(j,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)},children:p?h._("__JHASH__ql6Ff5i9w6g__JHASH__"):h._("__JHASH__vYOcznEwFoX__JHASH__")},"block")));!c("gkx")("26258")&&!j.isGroup&&!j.id.isLid()&&b.push(k.jsx(d("WAWebDebugConvertToLidChatModal.react").DebugConvertToLid,{chat:j},"convertToLid"));c("gkx")("26258")||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(j.id.toString())},children:k.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id"));return b};return a.toContextMenuManager?k.jsx("div",{ref:s,"data-testid":void 0,children:b()}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){s.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:b()},"ContactMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebVideoCallIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="video-call";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M3.27096 7.31042C3 7.82381 3 8.49587 3 9.84V14.16C3 15.5041 3 16.1762 3.27096 16.6896C3.5093 17.1412 3.88961 17.5083 4.35738 17.7384C4.88916 18 5.58531 18 6.9776 18H13.1097C14.502 18 15.1982 18 15.7299 17.7384C16.1977 17.5083 16.578 17.1412 16.8164 16.6896C17.0873 16.1762 17.0873 15.5041 17.0873 14.16V9.84C17.0873 8.49587 17.0873 7.82381 16.8164 7.31042C16.578 6.85883 16.1977 6.49168 15.7299 6.26158C15.1982 6 14.502 6 13.1097 6H6.9776C5.58531 6 4.88916 6 4.35738 6.26158C3.88961 6.49168 3.5093 6.85883 3.27096 7.31042Z",fill:"currentColor"}),j.jsx("path",{d:"M18.7308 9.60844C18.5601 9.75994 18.4629 9.97355 18.4629 10.1974V13.8026C18.4629 14.0264 18.5601 14.2401 18.7308 14.3916L20.9567 16.3669C21.4879 16.8384 22.3462 16.4746 22.3462 15.778V8.22203C22.3462 7.52542 21.4879 7.16163 20.9567 7.63306L18.7308 9.60844Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.VideoCallIcon=a}),98);
__d("WAWebDesktopUpsellCallingUnavailable.react",["fbt","WANullthrows","WAWebChevronCustomIcons","WAWebDesktopUpsellCallingPopover.react","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebPopover.react","WAWebTabOrder","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebVideoCallIcon","WAWebWDSDropdown.react","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcNativeUpsellCtaWamEvent","react","stylex","useWAWebDesktopUpsellWamImpression","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o={menuBarBtnContainer:{position:"x1n2onr6",height:"x5yr21d",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3","@media screen and (max-width: 720px)_paddingTop":"xj8bxqt","@media screen and (max-width: 720px)_paddingEnd":"x1o9mn2u","@media screen and (max-width: 720px)_paddingBottom":"xpbnuc5","@media screen and (max-width: 720px)_paddingStart":"x2btq54","@media screen and (max-width: 720px)_marginTop":"x86at4b","@media screen and (max-width: 720px)_marginEnd":"xzl7c9v","@media screen and (max-width: 720px)_marginBottom":"x1ad89wd","@media screen and (max-width: 720px)_marginStart":"x1i1grao",$$css:!0},videoCallIconGroup:{color:"x2jp5ct",$$css:!0},videoCallBtnShaded:{backgroundColor:"x1786zcw",$$css:!0},videoCallBtnOutlined:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10vq5hr",borderEndColor:"xbi89o0",borderBottomColor:"x1goaxin",borderStartColor:"x1ux35ld",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=n(null);a=d("WAWebWDSDropdown.react").useWDSDropdown({target:b,alignment:d("WAWebPopover.react").PopoverAlignment.End,position:d("WAWebPopover.react").PopoverPosition.Bottom,buffer:6,material:!0,children:l.jsx(p,{userDesktopOs:c("WANullthrows")(a)})});var e=a.popover,f=a.popoverIsVisible;a=r();m(function(){f&&s()},[f]);var g=h._("__JHASH__9FJLuFNCgJZ__JHASH__");return l.jsx("div",{className:(j||(j=c("stylex")))(o.menuBarBtnContainer,d("WAWebUISpacing").uiMargin.start10,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.bottom3,!f&&!a&&o.videoCallBtnOutlined,f&&o.videoCallBtnShaded),ref:b,children:l.jsxs(c("WAWebUnstyledButton.react"),{title:g,"aria-label":g,dataTab:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,children:[l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:o.videoCallIconGroup,children:[l.jsx(d("WAWebVideoCallIcon").VideoCallIcon,{xstyle:d("WAWebUISpacing").uiMargin.end6}),l.jsx(d("WAWebChevronCustomIcons").ChevronDownCustomIcon,{height:10})]}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.userDesktopOs;var b=d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CALL_BTN_MODAL_2;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:!0,source:b});c("useWAWebOnUnmount")(function(){new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.CTA_DISMISS,webcNativeUpsellCtaSource:b}).commit()});return l.jsx(d("WAWebDesktopUpsellCallingPopover.react").WAWebDesktopUpsellCallingPopover,{title:q(a),body:a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__ELcfZfzrNUW__JHASH__"):h._("__JHASH__Rx_sntM1NHc__JHASH__"),onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(b)}})}p.displayName=p.name+" [from "+f.id+"]";function q(a){return a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__OcHC7PsDGpP__JHASH__"):h._("__JHASH__ofHZPK8jxoC__JHASH__")}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL);return!!a}function s(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL,!0)}g.WAWebDesktopCallingMenuButton=a}),226);
__d("WAWebGroupMenuDropdown.react",["WATimeUtils","WAWebChatThreadLogging","WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;k(function(){d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:c.id}])},[c.id]);e=d("WAWebConversationMenus").groupMenu(c,e);return a.toContextMenuManager?j.jsx("div",{ref:b,children:e}):j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:e},"GroupMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebGroupSubtitle.react",["fbt","WAWebChatAssignmentLogEvents","WAWebChatCollection","WAWebChatSubtitleText","WAWebElevatedPushNamesFlag","WAWebFrontendContactGetters","WAWebGroupQueryJob","WAWebGroupType","WAWebHostedGroupUtils","WAWebParticipantsList.react","WAWebPresenceEnum","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.assignmentSubtitle,e=a.chatId,f=a.chatstate,g=a.groupMetadata,i=a.location,j=a.placeholder;a=a.presence;d("useWAWebModelValues").useModelValues(f,["id","type","deny","t"]);var m=d("useWAWebModelValues").useModelValues(g,["announce","participants","groupType","size","id","hasCapi"]),n=d("useWAWebModelValues").useModelValues(a,["forceDisplay","withholdDisplayStage"]),o=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&m.participants.iAmMember()&&!m.participants.iAmAdmin()};l(function(){o()&&!m.size&&d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById(m.id)},[]);l(function(){b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment&&d("WAWebChatAssignmentLogEvents").logChatStatusTickerShown(e)},[e,n.withholdDisplayStage,b]);var p=d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebChatCollection").ChatCollection.get(e));f=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?{text:h._("__JHASH__dhHo5hWiU_Z__JHASH__")}:n.getGroupSubtitleText({elevatedPushNamesEnabled:p})};var q,r;g=!1;if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.CommunityName){a=d("WAWebChatCollection").ChatCollection.get(e);a=a==null?void 0:(a=a.groupMetadata)==null?void 0:a.getParentGroupChat();a=a==null?void 0:a.contact;a=a!=null?d("WAWebFrontendContactGetters").getFormattedName(a):null;q=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)])}else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.OnlyAdminsCanSend)q=h._("__JHASH__8QEb6bbwR8F__JHASH__");else if(d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&m.hasCapi===!0)q=b;else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.E2EE)q=d("WAWebChatSubtitleText").e2eChatSubtitleText(),g=!0;else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.Info)q=j;else if(b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment)q=b;else{a=f();a!=null&&(q=a.text,r=a.ariaLabel)}return k.jsx(c("WAWebParticipantsList.react"),{groupMetadata:m,overridingText:q,placeholder:j,ariaLabel:r,location:i,showLockIcon:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebHeader.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatControls:"_ami8",chatAvatar:"_ami9",chatHeader:"_amid",chatHeaderBorderOverride:"_aqbz",chatHeaderMaterial:"_aqy6",chatBody:"_amie",chatMain:"_amif",chatTitle:"_amig",menuItemContainer:"_amih"};b=a;g["default"]=b}),98);
__d("WAWebNewsletterChatMenuDropdown.react",["fbt","WAWebCmd","WAWebDrawerManager","WAWebDropdown.react","WAWebDropdownItem.react","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebModalManager","WAWebNewsletterMembershipUtil","WAWebReportNewsletterPopup.react","WAWebSpamConstants","WAWebStateUtils","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWamEnumChannelEventSurface","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useRef;function a(a){var b,e=a.chat,f=a.onSelectMessages;a=a.toContextMenuManager;var g=m(null),i=e.newsletterMetadata,j=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebReportNewsletterPopup.react"),{chat:e,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}))},[e]),n=l(function(){d("WAWebCmd").Cmd.chatInfoDrawer(e)},[e]),o=l(function(){d("WAWebCmd").Cmd.closeChat(e)},[e]),p=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),q=l(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterSettings}))},[e]);b=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(e==null?void 0:e.newsletterMetadata)&&!((b=e.newsletterMetadata)==null?void 0:b.isSuspendedOrTerminated)?k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:q,testid:void 0,children:h._("__JHASH__O51Yt7QP6vN__JHASH__")},"newsletter-overflow-menu-newsletter-settings"):null;q=((q=e.newsletterMetadata)==null?void 0:q.isSuspendedOrTerminated)?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,children:h._("__JHASH__JI9hJ6sBMW7__JHASH__")},"newsletter-overflow-menu-select-messages");f=((f=e.newsletterMetadata)==null?void 0:f.isSuspendedOrTerminated)?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:j,testid:void 0,children:h._("__JHASH__PzRrGSXWySw__JHASH__")},"newsletter-overflow-menu-report");j=[k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:n,testid:void 0,children:h._("__JHASH__eHd-O5fErG4__JHASH__")},"newsletter-overflow-menu-newsletter-info"),b,q,k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:o,testid:void 0,children:h._("__JHASH__lraDtbLxULJ__JHASH__")},"newsletter-overflow-menu-close-channel"),f];d("WAWebNewsletterMembershipUtil").iAmSubscriber(i)&&j.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:p,testid:void 0,children:h._("__JHASH__w8sgsp-yDuW__JHASH__")},"newsletter-overflow-menu-unfollow"));return a!=null?k.jsx("div",{ref:g,"data-testid":void 0,children:j}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){g.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:j},"NewsletterMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatMenuDropdown=a}),226);
__d("WAWebNewsletterSubscribeButton.react",["fbt","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.isLoading;a=a.onClick;return j.jsx(d("WAWebWDSButton").WDSButtonPrimary,{testid:void 0,onClick:a,spinner:b,disabled:b,children:h._("__JHASH__fwxpTAEyfpc__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNotificationsOffIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-off";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-.775.188-1.5.187-.725.562-1.4L8.125     8.35q-.175.425-.275.862-.1.438-.1.913v7.25l7.275-.025L2.55 4.9q-.2-.2-.2-.513 0-.312.2-.537.225-.225.538-.225.312 0 .537.225L20.4 20.625q.2.225.213.525.012.3-.213.55-.225.2-.525.2-.3     0-.525-.2l-2.85-2.825Zm12.75-3.725-1.5-1.5v-3.525q0-1.775-1.25-3.013-1.25-1.237-3-1.237-.7 0-1.387.237-.688.238-1.213.688L8.325 5.725q.525-.45 1.15-.763.625-.312     1.275-.462v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q1.875.425 3.188 1.963Q17.75 8 17.75 10.125Zm-6.35-1.375ZM12 21.8q-.75     0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm.825-11.525Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOffIcon=a}),98);
__d("WAWebNotificationsOnIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-on";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M3.25 10q-.325 0-.537-.225-.213-.225-.188-.525.15-1.675.85-3.213Q4.075 4.5 5.25 3.3q.2-.2.525-.2t.55.225q.2.2.213.5.012.3-.213.55-1 1-1.587 2.237Q4.15 7.85     4.025 9.25q-.025.325-.237.537Q3.575 10 3.25 10Zm17.5 0q-.3 0-.525-.213-.225-.212-.25-.537-.125-1.4-.712-2.638-.588-1.237-1.588-2.237-.2-.25-.2-.55 0-.3.225-.5.225-.225.538-.225.312     0 .512.2 1.175 1.2 1.875 2.737.7 1.538.85 3.213.025.3-.187.525-.213.225-.538.225ZM5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-2     1.25-3.588Q8.75 4.95 10.75 4.5v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q2 .45 3.25 2.037 1.25 1.588 1.25 3.588v7.25H19q.325 0 .538.212.212.213.212.538     0 .3-.212.525-.213.225-.538.225Zm7-7.25ZM12 21.8q-.75 0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm-4.25-4.425h8.5v-7.25q0-1.775-1.25-3.013-1.25-1.237-3-1.237T9     7.112Q7.75 8.35 7.75 10.125Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOnIcon=a}),98);
__d("WAWebNewsletterConversationPanelHeader.react",["fbt","Promise","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerManager","WAWebFollowNewsletter","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebKeyboardTabUtils","WAWebLinkIcon","WAWebMenuBar.react","WAWebModalManager","WAWebNewsletterDirectorySearchAction","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNewsletterModelUtils","WAWebNewsletterSubscribeButton.react","WAWebNewsletterToggleMuteStateAction","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebSpinner.react","WAWebStateUtils","WAWebTabOrder","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWDSButton","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelLinkShareEntryPoint","asyncToGeneratorRuntime","react","useWAWebModelValues","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useState;function a(a){var e=a.chat,f=d("useWAWebModelValues").useModelValues(e,["isNewsletter","newsletterMetadata","muteExpiration"]);c("useWAWebOnUnmount")(function(){var a;(a=f.newsletterMetadata)==null?void 0:a.resetRecentlyFollowedFrom()});a=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated","canBeMuted"]);var g=n(!1),j=g[0],k=g[1];g=n(!1);var p=g[0],q=g[1];g=c("useWAWebPrevious")(f.muteExpiration);g!==f.muteExpiration&&p&&q(!1);g=m(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){k(!0),yield (i||(i=b("Promise"))).allSettled([d("WAWebFollowNewsletter").followNewsletter(d("WAWebStateUtils").unproxy(f),{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}),d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()&&d("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(d("WAWebStateUtils").unproxy(f))]),k(!1)}),[f]);var r=m(function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),s=m(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterLink,newsletterLinkShareScreenEntryPoint:d("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT.CHANNEL_THREAD}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})},[e]),t=m(function(){q(!0),d("WAWebNewsletterToggleMuteStateAction").muteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return q(!1)})},[e]),u=m(function(){q(!0),d("WAWebNewsletterToggleMuteStateAction").unmuteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return q(!1)})},[e]);if(!f.isNewsletter||a==null)return null;if(a.isSuspendedOrTerminated)return a.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber?l.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:r,testid:void 0,children:h._("__JHASH__ipSVtCOZYk0__JHASH__")}):null;r=null;a.canBeMuted&&(r=d("WAWebNewsletterModelUtils").isMuted(f.muteExpiration)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:p?l.jsx(o,{}):l.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}),onClick:u,disabled:p,title:h._("__JHASH__WP0hnGFe6Jr__JHASH__")}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:p?l.jsx(o,{}):l.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),onClick:t,disabled:p,title:h._("__JHASH__Trvawc6j0QE__JHASH__")}));u=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:l.jsx(d("WAWebLinkIcon").LinkIcon,{}),onClick:s,title:d("WAWebCommonNewsletterStrings").getShareText()}):null;t=d("WAWebNewsletterMembershipUtil").iAmGuest(a)?l.jsx(c("WAWebNewsletterSubscribeButton.react"),{onClick:g,isLoading:j}):null;return l.jsxs(l.Fragment,{children:[u,r,t]})}a.displayName=a.name+" [from "+f.id+"]";function o(){return l.jsx(d("WAWebSpinner.react").Spinner,{color:"wdsSecondaryLighter",size:20})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSubgroupSwitcherIcon.react",["fbt","WAWebChevronCustomIcons","WAWebCommunityFeatureUsageWamEvent","WAWebCommunityGroupJourneyEventImpl","WAWebCommunitySubgroupSwitcher.react","WAWebDetailImage.react","WAWebMenuBar.react","WAWebModalManager","WAWebUISpacing","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumCommunityFeatureUiActionTakenType","WAWebWamEnumCommunityUiFeatureType","WAWebWamEnumSurfaceType","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{height:"x1fgtraw",width:"xgd8bvy",position:"x1n2onr6",$$css:!0},parentGroupImage:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},chevron:{height:"x5yr21d",width:"xh8yej3",color:"x10gus5o",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",backgroundColor:"xkgd8lh",$$css:!0}};function a(a){var b=a.chat,e=(a=b.groupMetadata)==null?void 0:a.parentGroup;if(e==null)return null;a=function(a){a.stopPropagation(),new(d("WAWebCommunityFeatureUsageWamEvent").CommunityFeatureUsageWamEvent)({communityId:e.toString(),communityUiAction:d("WAWebWamEnumCommunityFeatureUiActionTakenType").COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE.ENTRY,communityUiFeature:d("WAWebWamEnumCommunityUiFeatureType").COMMUNITY_UI_FEATURE_TYPE.SUBGROUP_SWITCH}).commit(),new(d("WAWebCommunityGroupJourneyEventImpl").CommunityGroupJourneyEvent)({action:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.SUBGROUP_SWITCHER_CLICK,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.CHAT,chat:b}).commit(),d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebCommunitySubgroupSwitcher.react"),{chat:b}))};var f=j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,size:28,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle,xstyle:k.parentGroupImage}),j.jsx("div",{className:"x10l6tqk xyzs4uy x1tk7jg1 xlup9mm x1kky2od xamhcws xol2nv xlxy82 x19p7ews x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xls5kiu x1vektf3 x1uy4w22 x1cte7vi x14yjl9h xudhj91 x18nykt9 xww2gxu",children:j.jsx(d("WAWebChevronCustomIcons").ChevronDownCustomIcon,{xstyle:k.chevron,height:16,width:16})})]});return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{xstyle:[k.container,d("WAWebUISpacing").uiPadding.all0],buttonStyle:[k.container,d("WAWebUISpacing").uiPadding.all0],onClick:a,title:h._("__JHASH__mpIGPHqNNXG__JHASH__"),testid:void 0,icon:f})}a.displayName=a.name+" [from "+f.id+"]";g.SubgroupSwitcherIcon=a}),226);
__d("WAWebHeader.react",["fbt","WAWebABProps","WAWebBotGating","WAWebBroadcastMenuDropdown.react","WAWebBusinessProfileCollection","WAWebChatAssignmentNux.react","WAWebChatAssignmentUtils","WAWebChatGroupUtils","WAWebChatSearchDrawer.react","WAWebClassnames","WAWebCmd","WAWebCommerceButton.react","WAWebConnModel","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebDesktopUpsellCallingUnavailable.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDetailImage.react","WAWebDrawerManager","WAWebDropdown.react","WAWebFrontendContactGetters","WAWebGroupChatImage.react","WAWebGroupMenuDropdown.react","WAWebGroupSubtitle.react","WAWebGroupType","WAWebHeader.scss","WAWebHostedGroupUtils","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebL10N","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageLogQplEvents","WAWebMuteGetters","WAWebName.react","WAWebNewsletterChatHeaderSubtitle.react","WAWebNewsletterChatMenuDropdown.react","WAWebNewsletterConversationPanelHeader.react","WAWebNewsletterGatingUtils","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebSearchAltIcon","WAWebStackedCirclesImage.react","WAWebStateUtils","WAWebSubgroupSwitcherIcon.react","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUimUieMenu.react","WAWebUseBusinessProfile.react","WAWebUserSubtitle.react","WAWebWDSGatingUtils","WAWebWamEnumProfileEntryPoint","asyncToGeneratorRuntime","react","useForceUpdate","useWAWebContactValues","useWAWebListener","useWAWebModelValues","useWAWebMuteValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState;function o(a){var b,c;b=(a==null?void 0:(b=a.groupMetadata)==null?void 0:b.participants.iAmAdmin())&&((b=a.groupMetadata)==null?void 0:b.announce)?h._("__JHASH__8QEb6bbwR8F__JHASH__"):h._("__JHASH__jv1LMoRSLOC__JHASH__");var e;if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP){(a==null?void 0:(c=a.groupMetadata)==null?void 0:c.participants.iAmAdmin())?e=h._("__JHASH__TD6qdA9zn5C__JHASH__"):e=h._("__JHASH__dhHo5hWiU_Z__JHASH__")}else if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP&&((c=a.groupMetadata)==null?void 0:c.participants.iAmMember())){a=(c=a.groupMetadata)==null?void 0:c.getParentGroupChat();c=a==null?void 0:a.contact;a=c!=null?d("WAWebFrontendContactGetters").getFormattedName(c):null;a!=null&&(e=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)]))}return(c=e)!=null?c:b}function p(a,b,c){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(e){if(e)return;a.contact.isBusiness&&d("WAWebMessageLogQplEvents").qplStartProfileView("Header");(a.isUser||a.isBroadcast||a.isGroup||a.isNewsletter)&&d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:d("WAWebStateUtils").unproxy(a),profileEntryPoint:c,sourceGroupChatOrNewsletter:a.isGroup?a:void 0},"info-"+a.id.toString()),{transition:"slide-left",uim:b,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})}function q(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})}function a(a){var e,f=a.chat,g=a.contact;a=a.onSelectMessages;var i=c("useWAWebUIM")(),j=c("useForceUpdate")(),r=m(null),s=m(null),t=d("useWAWebModelValues").useModelValues(f,["id","formattedTitle","presence","isUser","isNewsletter","isGroup","isBroadcast","groupMetadata","isPSA","contact","name","assignedAgent","isAssignedToMe","mute","newsletterMetadata"]),u=d("useWAWebMuteValues").useMuteValues(t.mute.id,[d("WAWebMuteGetters").getIsMuted]),v=u[0];u=d("useWAWebModelValues").useModelValues(t.presence.chatstate,["type"]);e=d("useWAWebContactValues").useContactValues(g.id,[(e=d("WAWebContactGetters")).getIsMe,e.getShowBusinessCheckmarkAsPrimary,e.getShowBusinessCheckmarkAsSecondary,e.getShouldForceBusinessUpdate,e.getShowBiz3pBotVerifiedNameAsSecondary]);var w=e[0],x=e[1],y=e[2],z=e[3];e=e[4];g=(g=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?g.id:null,["isBizBot3p"]))!=null?g:{};g=g.isBizBot3p;e=e&&g===!0;g=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated"]);f=c("useWAWebUnmountSignal")();var A=n(null),B=A[0];A=A[1];l(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(t.contact.id),j()});return c.apply(this,arguments)}z&&a()},[]);var C=n(!0),D=C[0],E=C[1],F=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})};C=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a||d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(c("WAWebChatSearchDrawer.react"),{chat:d("WAWebStateUtils").unproxy(t)},"chat-search-"+t.id.toString()),{transition:"slide-left",uim:i,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})};var G=function(){if(d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()){var a;if(((a=t.groupMetadata)==null?void 0:a.hasCapi)===!0)return!0}return!1},H=function(a){a((a=r.current)==null?void 0:a.getBoundingClientRect())};d("useWAWebListener").useListener(t.contact.businessProfile,["change:profileOptions","change:catalogStatus"],j);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"get_conversation_header_offset",H);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",function(){return q()});H=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("call_btn");var I=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();H=H&&I;I=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);I=I.pushname;var J=n(null),K=J[0],L=J[1];l(function(){if(d("WAWebChatAssignmentUtils").canAssignChats()&&t.assignedAgent!=null){var a=t.isAssignedToMe?h._("__JHASH__9n8jUt1pVOX__JHASH__"):h._("__JHASH__mAyf2Xfxd_w__JHASH__",[h._param("agentName",t.assignedAgent.name)]);L(a)}},[I,t,t.assignedAgent,t.isAssignedToMe]);var M,N;if(t.isUser)M=k.jsx(c("WAWebContactMenuDropdown.react"),{chat:t,contact:t.contact,onSelectMessages:a,toContextMenuManager:!0,enableChatThreadLogging:!0}),N=k.jsx(c("WAWebUserSubtitle.react"),{contact:t.contact,presence:t.presence,chatstate:t.presence.chatstate,location:"title",showBusinessCheckmark:y,showVerifiedName:e,assignmentSubtitle:K,chatId:t.id});else if(t.isBroadcast)M=k.jsx(c("WAWebBroadcastMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(t),onSelectMessages:a,toContextMenuManager:!0}),N=null;else if(t.isGroup){M=k.jsx(c("WAWebGroupMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(t),onSelectMessages:a,toContextMenuManager:!0});((J=t.groupMetadata)==null?void 0:J.isSuspendedOrTerminated())?N=null:d("WAWebABProps").getABPropConfigValue("ugr_enabled")&&((I=t.groupMetadata)==null?void 0:I.isUnnamed)?u.type==="typing"?N=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:t.presence.chatstate,groupMetadata:t.groupMetadata,presence:t.presence,placeholder:o(t),location:"title",assignmentSubtitle:K,chatId:t.id}):N=null:N=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:t.presence.chatstate,groupMetadata:t.groupMetadata,presence:t.presence,placeholder:o(t),location:"title",assignmentSubtitle:K,chatId:t.id})}else t.isNewsletter&&(M=k.jsx(d("WAWebNewsletterChatMenuDropdown.react").NewsletterChatMenuDropdown,{chat:t,toContextMenuManager:!0,onSelectMessages:a}),N=(g==null?void 0:g.suspended)===!0?null:k.jsx(c("WAWebNewsletterChatHeaderSubtitle.react"),{newsletterMetadata:g}));var O;if(B&&M){e={menu:M,anchor:B,autoFocus:!0,dirX:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,offsetY:5,type:d("WAWebDropdown.react").MenuType.DropdownMenu};O=k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:e})}J=null;((I=t.groupMetadata)==null?void 0:I.groupType)!==d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!G()&&!w&&!t.isNewsletter&&!t.id.isBot()&&H===!0&&(J=k.jsx(d("WAWebDesktopUpsellCallingUnavailable.react").WAWebDesktopCallingMenuButton,{}));u=null;if(t.isGroup&&t.mute.canMute()&&d("WAWebABProps").getABPropConfigValue("quick_mute_enabled")){K=function(){var a=!1;t.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(t,!v,3,a):d("WAWebCmd").Cmd.muteChat(t,!v,a)};a=v?h._("__JHASH__SlVd64D7N5W__JHASH__"):h._("__JHASH__lE0p69898Df__JHASH__");u=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:v?k.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}):k.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),title:a,onClick:K})}B=((g=t.groupMetadata)==null?void 0:g.parentGroup)!=null&&t.groupMetadata.participants.iAmMember();e=B?k.jsx(d("WAWebSubgroupSwitcherIcon.react").SubgroupSwitcherIcon,{chat:t}):null;I=t.isNewsletter||d("WAWebChatGroupUtils").isSuspendedGroup(t)?null:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:k.jsx(d("WAWebSearchAltIcon").SearchAltIcon,{}),title:h._("__JHASH__mTVgM6PYlov__JHASH__"),onClick:C});t.isPSA&&(N=k.jsx(c("WAWebUserSubtitle.react"),{contact:t.contact,presence:t.presence,chatstate:t.presence.chatstate,location:"title",showBusinessCheckmark:y,chatId:t.id}));var P;D&&(P=k.jsx(c("WAWebChatAssignmentNux.react"),{targetRef:s,chat:t}));return f.aborted?null:k.jsxs("header",{ref:r,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((G={},G[c("WAWebHeader.scss").chatHeader]=!0,G[c("WAWebHeader.scss").chatHeaderMaterial]=d("WAWebWDSGatingUtils").materialRefreshEnabled(),G[c("WAWebHeader.scss").chatHeaderBorderOverride]=d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled(),G)),"data-testid":void 0,children:[k.jsx("div",{className:"x1c4vz4f x2lah0s xdl72j9 x1i4ejaq x1y332i5",onClick:function(){return p(t,i,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},title:h._("__JHASH__M94AwrcVrNV__JHASH__"),role:t.isPSA?null:"button",children:k.jsx(c("WAWebGroupChatImage.react"),{chat:t,theme:d("WAWebStackedCirclesImage.react").SubgroupImageTheme.CHAT_HEADER,regularChatImage:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:t.id,size:40,ephemeralIcon:"conversation-header",enableDataSharingIcon:!0}),showCommunityInfo:!0})}),k.jsxs("div",{className:c("WAWebHeader.scss").chatBody,onClick:function(){return p(t,i,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},role:t.isPSA?null:"button","data-testid":void 0,children:[k.jsx("div",{className:c("WAWebHeader.scss").chatMain,children:k.jsx("div",{className:c("WAWebHeader.scss").chatTitle,children:k.jsx(d("WAWebName.react").Name,{chat:t,ellipsify:!0,showBusinessCheckmark:x,testid:void 0,showMessageYourselfName:w})})}),N]}),k.jsx("div",{className:c("WAWebHeader.scss").chatControls,children:k.jsxs(d("WAWebMenuBar.react").MenuBar,{children:[e,J,k.jsx(d("WAWebCommerceButton.react").CommerceButton,{chat:t}),d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&k.jsx(c("WAWebNewsletterConversationPanelHeader.react"),{chat:t}),I,u,M!=null&&k.jsx("div",{className:c("WAWebHeader.scss").menuItemContainer,ref:A,children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:s,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,icon:k.jsx(d("WAWebMenuIcon").MenuIcon,{xstyle:d("WAWebUISpacing").uiMargin.top2}),title:h._("__JHASH__hskmX_lsgx4__JHASH__"),onClick:function(a){E(!1),F(a)},testid:void 0,children:O})})]},"conversation-header")}),P]})}a.displayName=a.name+" [from "+f.id+"]";g.openInfoPanel=p;g.ConversationHeader=a}),226);
__d("WAWebWamEnumDeleteActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_FOR_ME:0,DELETE_FOR_EVERYONE:1});f.DELETE_ACTION_TYPE=a}),66);
__d("WAWebMessageDeleteActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumDeleteActionType","WAWebWamEnumMediaType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MessageDeleteActions:[3626,{deleteActionType:[1,d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE],isAGroup:[2,a.TYPES.BOOLEAN],mediaType:[6,d("WAWebWamEnumMediaType").MEDIA_TYPE],messagesDeleted:[3,a.TYPES.INTEGER],threadId:[4,a.TYPES.STRING]},[1,1,1],"regular"]},{MessageDeleteActions:[]});g.MessageDeleteActionsWamEvent=b}),98);
__d("WAWebMuteExpirations",["fbt","WAWeb-moment","WAWebClock"],(function(a,b,c,d,e,f,g,h){var i=[{getLabel:function(){return h._("__JHASH__YW0GMyGg5TG__JHASH__")},duration:8,radioId:"8-hours"},{getLabel:function(){return h._("__JHASH__hSf1oX_Xq3Y__JHASH__")},duration:7*24,radioId:"1-week"},{getLabel:function(){return h._("__JHASH__OCt3i8YXKoP__JHASH__")},duration:Number.POSITIVE_INFINITY,radioId:"always"}];function a(){return i[0].duration}function b(a){return a===Number.POSITIVE_INFINITY?d("WAWebClock").MUTE_ALWAYS_EXPIRATION_SENTINEL:a*60*60+c("WAWeb-moment")().unix()}g.ALL_MUTE_DURATIONS=i;g.getDefaultMuteDuration=a;g.calculateMuteExpiration=b}),226);
__d("WAWebMutePopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","WAWebMuteExpirations","WAWebRadio.react","WAWebUserPrefsGeneral","WAWebWDSText.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function n(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.onMute,c=a.children,e=d("useWAWebModelValues").useModelValues(a.mute,["id","expiration","callExpiration"]),f=m(null),g=f[0],i=f[1],j=function(a){i(a)},o=function(){return g!=null&&g!==0?g:d("WAWebUserPrefsGeneral").getLastChatMuteDuration()||d("WAWebMuteExpirations").getDefaultMuteDuration()};f=function(){d("WAWebModalManager").ModalManager.close();var c=o();d("WAWebUserPrefsGeneral").setLastChatMuteDuration(c);b(d("WAWebMuteExpirations").calculateMuteExpiration(c),c,a.entryPoint==null?0:a.entryPoint)};l(function(){e.expiration!=null&&e.expiration!==0&&e.callExpiration!=null&&e.callExpiration!==0&&n()},[e.callExpiration,e.expiration,a]);var p=a.onCancel||n,q=o();q=k.jsx(d("WAWebRadio.react").RadioGroup,{name:"ractionMuteDuration",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.LARGE,checkedValue:q,options:d("WAWebMuteExpirations").ALL_MUTE_DURATIONS.map(function(a){var b=a.getLabel,c=a.duration;a=a.radioId;return{value:c,label:b(),testid:a,onChange:function(){return j(c)}}})});return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{title:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.title}),okText:h._("__JHASH__AySi36Pq4Yv__JHASH__"),onOK:f,onCancel:p,testid:void 0,children:[c!=null&&k.jsx(d("WAWebWDSText.react").WDSTextMuted,{paddingBottom:12,children:c}),q]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterRevokeMsgAction",["Promise","WAAckLevel","WALogger","WATimeUtils","WAWebChatSendMessages","WAWebDBStoreRevokeMsgs","WAWebMsgActionCapability","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebNewsletterSendMessageJob","WAWebNewsletterValidationUtils","WAWebSendMsgResultAction","WAWebUpdateNewsletterMsgUIAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to send message"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to send message, "," from server"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Sent revoke message "," -> ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sendNewsletterRevokeMsg] missing serverId"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendNewsletterRevokeMsg: msg cannot be revoked"]);m=function(){return a};return a}function a(a,c,d){return(h||(h=b("Promise"))).all(c.map(function(b){return n(a,b,d)}))}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(!d("WAWebMsgActionCapability").canRevokeNewsletterMsg(b)){d("WALogger").LOG(m()).devConsole(b);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_CANCELLED}}var e=b.serverId;if(e==null){d("WALogger").ERROR(l()).devConsole(b).tags("newsletter").sendLogs("newsletter-revoke-missing-id");return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_CANCELLED}}var f=d("WAWebUserPrefsMeUser").getMeUser(),g=p(b,c,f);try{var h=d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a.id.toJid());h=(yield d("WAWebNewsletterSendMessageJob").sendNewsletterMessageJob({newsletterJid:h,messageId:b.id.id,isContentMedia:b.mediaObject!=null,type:"revoke"}));if(h.success){d("WALogger").DEV(k(),e,a.id.toJid());return yield q({chat:a,msgToBeRevoked:b,revokeMsg:g,me:f})}else if(h.ack.error==="404")return s({chat:a,msgToBeRevoked:b,clearMedia:c});d("WALogger").ERROR(j(),h.ack.error).tags("newsletter").devConsole(h.ack.error).sendLogs("newsletter-send-revoke-message-fail-server");g.updateAck(d("WAAckLevel").ACK.FAILED,!0);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_NETWORK}}catch(a){d("WALogger").ERROR(i()).tags("newsletter").devConsole(a).sendLogs("newsletter-send-revoke-message-fail-client");g.updateAck(d("WAAckLevel").ACK.FAILED,!0);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_UNKNOWN}}});return o.apply(this,arguments)}function p(a,b,e){var f=new(c("WAWebMsgKey"))({id:c("WAWebMsgKey").newId_DEPRECATED(),remote:a.id.remote,fromMe:!0}),g="admin_revoke",h=d("WATimeUtils").unixTime();f={id:f,from:e,to:a.id.remote,t:h,type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,subtype:g,protocolMessageKey:a.id,clearMedia:b,local:!0,revokeDuration:h-a.t,revokeTimestamp:h,serverId:a.serverId};return new(d("WAWebMsgModel").Msg)(f)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,c=a.msgToBeRevoked,e=a.revokeMsg;a=a.me;yield d("WAWebDBStoreRevokeMsgs").processRevokeMsgs([{revokeMsgKey:c.id,newMsgKey:e.id,timestamp:c.t,revokeTimestamp:e.t,subtype:e.subtype,sender:a,disappearingModeInitiator:c.disappearingModeInitiator,ephemeralDuration:c.ephemeralDuration,ephemeralSettingTimestamp:c.ephemeralSettingTimestamp}]);void d("WAWebUpdateNewsletterMsgUIAction").updateNewsletterMessageUI(e,b.id);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.OK}});return r.apply(this,arguments)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,c=a.msgToBeRevoked;a=a.clearMedia;yield d("WAWebChatSendMessages").sendDeleteMsgs(b,{type:"message",list:[c]},a);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.OK}});return t.apply(this,arguments)}g.sendNewsletterRevokeMsgs=a;g.sendNewsletterRevokeMsg=n}),98);
__d("WAWebProductCatalogProductImageViewFlow.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={thumbsContainer:"_ahrf",scrollContainer:"_ahrh",viewerThumbs:"_ahri",thumbPadding:"_ahrj"};b=a;g["default"]=b}),98);
__d("WAWebPipOgVideoPlayer.react",["WAWebPipConst","WAWebPipSharedVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){return i.jsx(d("WAWebPipSharedVideoPlayer.react").WrappedSharedVideoPlayer,{type:d("WAWebPipConst").PlayerType.OG_FLOATER,ogVideoInfo:a.ogVideoInfo,startTime:a.startTime,onClose:a.onClose,onVideoEnded:a.onVideoEnded,onError:a.onError,onAspectRatio:a.onAspectRatio,onVideoDimensions:a.onVideoDimensions,autoPlay:a.autoPlay,disablePiPControls:a.disablePiPControls,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewerHeader.react",["WAWebBusinessDescriptionIcon","WAWebCellFrame.react","WAWebContactCollection","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebMenuBar.react","WAWebName.react","WAWebUISpacing","WAWebWDSText.react","WAWebXViewerIcon","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={productNameIcon:{color:"xt16idv",$$css:!0},mediaPanelHeader:{display:"x78zum5",flexGrow:"x1c4vz4f",flexDirection:"x15zctf7",alignItems:"x6s0dn4",height:"xng8ra",backgroundColor:"x114d0zl",transitionProperty:"xeg851g",transitionDuration:"x1d8287x",transitionTimingFunction:"xeerw82",$$css:!0},mediaPanelHeaderZoomed:{visibility:"xlshs6z",opacity:"xg01cxk",$$css:!0},info:{flexGrow:"x1iyjqo2",order:"x14yy4lh",marginEnd:"x194xeti",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},mediaPanelTools:{order:"x9ek82g",$$css:!0}};function a(a){var b=a.isImgZoomedIn,e=a.onClose;a=a.product;a=d("useWAWebModelValues").useModelValues(a,["name","catalogWid"]);var f=j.jsx(d("WAWebXViewerIcon").XViewerIcon,{}),g=d("WAWebContactCollection").ContactCollection.get(a.catalogWid);if(g){var h=j.jsx(d("WAWebName.react").Name,{contact:g,selectable:!0,useVerifiedName:!0});g=j.jsx(d("WAWebDetailImage.react").DetailImage,{id:g.id,size:40});var l=j.jsxs("div",{children:[j.jsx(d("WAWebBusinessDescriptionIcon").BusinessDescriptionIcon,{xstyle:[k.productNameIcon,d("WAWebUISpacing").uiMargin.end2],displayInline:!0,width:17,height:20}),j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,titlify:!0,ellipsify:!0})]});g=j.jsx(c("WAWebCellFrame.react"),{idle:!0,image:g,primary:h,secondary:l,theme:"media"})}else g=j.jsx(d("WAWebWDSText.react").WDSTextLarge,{as:"span",paddingStart:12,children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,titlify:!0,ellipsify:!0})});return j.jsxs("div",{className:(i||(i=c("stylex")))(k.mediaPanelHeader,b&&k.mediaPanelHeaderZoomed),children:[j.jsx("div",{className:i(k.info,d("WAWebUISpacing").uiMargin.start5),children:g}),j.jsx("div",{className:i(k.mediaPanelTools,d("WAWebUISpacing").uiMargin.end18),children:j.jsx(d("WAWebMenuBar.react").MenuBar,{theme:"strong",children:j.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:f,title:c("WAWebFbtCommon")("Close"),onClick:e})},"media-panel-header")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewerModal.react",["WANullthrows","WATypeUtils","WAWebChevronButton.react","WAWebEmojiText.react","WAWebMediaData","WAWebMediaImage.react","WAWebMediaTypes","WAWebMediaViewerConstants","WAWebObjectFit.react","WAWebPipOgVideoPlayer.react","WAWebProductCatalogProductImageViewerHeader.react","WAWebTextSizeUtils","WAWebUISpacing","WAWebUimUie.react","WAWebVelocityAnimate","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={mediaCaption:{flexShrink:"xs83m0k",width:"x14atkfc",maxWidth:"x14r61f",minHeight:"xisnujt",maxHeight:"x569fbc",overflowY:"x10wlt62",color:"x16cd2qt",wordWrap:"x1vvkbs",whiteSpace:"x126k92a",transitionProperty:"xeg851g",transitionDuration:"x1d8287x",transitionTimingFunction:"xeerw82",$$css:!0},imgZoomedInMediaCaption:{visibility:"xlshs6z",opacity:"xg01cxk",$$css:!0},btnMediaNext:{position:"x1n2onr6",marginStart:"xczobcr",$$css:!0},btnMediaPrev:{position:"x1n2onr6",marginEnd:"xf6nle2",$$css:!0},mediaContent:{boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",justifyContent:"x1qughib",height:"x4t50tc",$$css:!0},media:{position:"x1n2onr6",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",minWidth:"xeuugli",height:"x5yr21d",$$css:!0},mediaWithCaption:{flexDirection:"xdt5ytf",$$css:!0},mediaViewerAnimate:{animationName:"x127lhb5",animationDuration:"xfbpl4g",animationTimingFunction:"x1alahoq",$$css:!0},cursorZoomOut:{cursor:"xzuqxi3",$$css:!0},mediaViewer:{zIndex:"x1oyvh86",display:"x78zum5",flexDirection:"xdt5ytf",paddingBottom:"xn4wywj",backgroundColor:"x1ecsr37",$$css:!0},overlay:{position:"xixxii4",top:"x13vifvy",start:"x17qophe",left:null,right:null,boxSizing:"x9f619",width:"xh8yej3",height:"x5yr21d",$$css:!0},captionHidden:{opacity:"xg01cxk",$$css:!0}},o=800;function a(a){var b=a.getZoomNode,e=a.zoomIn,f=a.onImgZoomIn,g=a.onExitAnimation,h=a.onBack,j=l(null),p=l(!1),q=l(!1),r=l(!1),s=l(null),t=d("useWAWebModelValues").useModelValues(a.mediaData,["mediaStage","renderableUrl","isGif","type"]),u=d("useWAWebModelValues").useModelValues(a.product,["description"]),v=d("useWAWebModelValues").useModelValues(a.productImage,["videoUrl","mediaUrl"]),w=m(!1),x=w[0],y=w[1];w=m(function(){return t.mediaStage===d("WAWebMediaTypes").MediaDataStage.RESOLVED&&e&&b?b():null});var z=w[0];w=m({width:o,height:o});var A=w[0];w=w[1];var B=d("WAWebTextSizeUtils").getWAWebTextSizeStyles(),C=function(a,b){var e=b.getBoundingClientRect(),f=a.getBoundingClientRect(),g=f.top-e.top;f=f.left-e.left;e=a.clientWidth/b.clientWidth;var h=(b.clientHeight-a.clientHeight)/2;a=(b.clientWidth-a.clientWidth)/2;g-=h;f-=a;void c("WAWebVelocityAnimate")(b,{opacity:[1,0],translateX:[0,f],translateY:[0,g],scale:[1,e]},{duration:d("WAWebMediaViewerConstants").ANIMATION_DURATION,easing:[.1,.82,.25,1]});j.current&&void c("WAWebVelocityAnimate")(j.current,{opacity:[1,0]},{duration:d("WAWebMediaViewerConstants").ANIMATION_DURATION})},D=function(a){if(p.current)return;p.current=!0;var b=z;a=a.currentTarget;if(!b||!a||!e)return;if(!(a instanceof HTMLElement))return;C(b,a)},E=function(a){var b=s.current;a&&b&&(r.current=b.getHeightOverflow()>0||b.getWidthOverflow()>0);y(a);f(a)},F=function(a){var b=s.current;b&&x&&b.onClick(a)},G=function(a,b){var e=s.current;if(!e)return;var f=e.getInsideContainer();if(!f||!(f instanceof HTMLElement))return;var g=e.getOutsideContainer();if(!g||!(g instanceof HTMLElement))return;e=e.getTranslatePosition(g,a,b);g=e.translateX;a=e.translateY;void c("WAWebVelocityAnimate")(f,"stop");void c("WAWebVelocityAnimate")(f,{translateX:g,translateY:a,scale:d("WAWebMediaViewerConstants").ZOOM_IN_FACTOR},{duration:0})},H=function(a){G(a.pageX,a.pageY)},I=function(){if(q.current)return;q.current=!0;d("WATypeUtils").isFunction(g)&&g();if(!b)return h();var a=b();if(!a)return h();if(!(s==null?void 0:s.current))return h();var e=c("WANullthrows")(s.current.getInsideContainer()),f=e.getBoundingClientRect(),i=a.getBoundingClientRect(),j=i.top-f.top;i=i.left-f.left;f=a.clientWidth/e.clientWidth;var k=(e.clientHeight-a.clientHeight)/2;a=(e.clientWidth-a.clientWidth)/2;j-=k;i-=a;void c("WAWebVelocityAnimate")(e,{translateX:[i,0],translateY:[j,0],scale:[f,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){h()})},J=function(a){Math.abs(a.deltaY)>7&&I()};v.videoUrl!=null?A=k.jsx(c("WAWebObjectFit.react"),{type:"scaleDown",position:"relative",objectPosition:"relative",size:A,children:k.jsx(c("WAWebPipOgVideoPlayer.react"),{autoPlay:!0,ogVideoInfo:{videoUrl:v.videoUrl,previewUrl:""},onVideoDimensions:w,onClose:I,startTime:0})}):A=k.jsx(c("WAWebMediaImage.react"),{mediaData:t,onLoad:D,onImgZoomIn:E,ref:s,preventDownload:!1},t.renderableUrl);var K;if(u.description!=null&&u.description!==""){v=a.zoomIn&&(t.isGif||t.type===c("WAWebMediaData").TYPE.IMAGE);K=k.jsx("span",{className:(i||(i=c("stylex")))(v&&n.captionHidden),ref:j,children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:u.description,className:i(n.mediaCaption,d("WAWebUISpacing").uiMargin.top12,a.isImgZoomedIn&&n.imgZoomedInMediaCaption,B.mediaCaptionTextSize)})})}w=function(b){a.onPrev==null?void 0:a.onPrev(b)};D=function(b){a.onNext==null?void 0:a.onNext(b)};E=k.jsx("div",{className:(i||(i=c("stylex")))(n.btnMediaNext,d("WAWebUISpacing").uiMargin.end18),children:k.jsx(d("WAWebChevronButton.react").ChevronButton,{type:d("WAWebChevronButton.react").ButtonType.Next,onClick:D,onKeyDown:D,disabled:!a.onNext||x})});v=k.jsx("div",{className:i(n.btnMediaPrev,d("WAWebUISpacing").uiMargin.start18),children:k.jsx(d("WAWebChevronButton.react").ChevronButton,{type:d("WAWebChevronButton.react").ButtonType.Prev,onClick:w,onKeyDown:w,disabled:!a.onPrev||x})});B=x?null:J;D=x?null:I;w=x&&r.current?H:null;J=x?F:null;return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ProductViewer",escapable:!0,requestDismiss:I,children:k.jsxs("div",{className:i(a.zoomIn&&n.mediaViewerAnimate,x&&n.cursorZoomOut,n.mediaViewer,n.overlay),"data-animate-media-viewer":!0,onClick:J,onMouseMove:w,children:[k.jsx(c("WAWebProductCatalogProductImageViewerHeader.react"),{onClose:I,product:u,isImgZoomedIn:a.isImgZoomedIn}),k.jsxs("div",{className:i(n.mediaContent,d("WAWebUISpacing").uiPadding.top10,d("WAWebUISpacing").uiPadding.bottom15),dir:"ltr",onWheel:B,onClick:D,children:[v,k.jsxs("div",{className:i(!!K&&n.mediaWithCaption,n.media),children:[k.jsx("div",{className:"x1n2onr6 x78zum5 x6s0dn4 xl56j7k xh8yej3 xeuugli x5yr21d",children:A}),K]}),E]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewFlow.react",["Keys","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCatalogProductImageViewFlow.scss","WAWebProductCatalogProductImageViewerModal.react","WAWebProductCatalogProductThumb.react","WAWebStateUtils","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","react","useWAWebListener","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.product,e=a.productImageCollection,f=a.activeProductImage,g=a.sessionId,h=l(!1),i=l(null),n=l(null),o=l(null),p=m(function(){return e.toArray().indexOf(f)}),q=p[0],r=p[1];p=m(!1);var s=p[0],t=p[1];p=c("useWAWebPrevious")(b);var u=c("useWAWebPrevious")(g),v=c("useWAWebPrevious")(q),w=function(a){a!==q&&(d("WAWebProductCatalogLogEvents").logImageNavigate({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g}),d("WAWebProductCatalogLogEvents").logImageListClick({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g})),r(a)},x=function(a){a&&a.stopPropagation();if(s)return;a=e.length;a=(q+1)%a;w(a)},y=function(a){a&&a.stopPropagation();if(s)return;a=e.length;a=q-1<0?a-1:(q-1)%a;w(a)},z=function(a){a.keyCode===c("Keys").LEFT?y(a):a.keyCode===c("Keys").RIGHT&&x(a)};d("useWAWebListener").useListener(window,"keydown",z);var A=function(a){var b;a===void 0&&(a=!1);var d=n.current;b=(b=o.current)==null?void 0:b.firstChild;var e=i.current;if(!d||!b||!e)return;var f=0;e instanceof HTMLElement&&(f=e.clientWidth/2-d.clientWidth/2);c("WAWebVelocityAnimate")(e,"stop");d=0;a&&(d=300);c("WAWebVelocityAnimate")(e,"scroll",{duration:d,container:b,offset:f,axis:"x",easing:[.1,.82,.25,1]})};k(function(){A(),n.current&&c("WAWebVelocityAnimate")(n.current,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}),d("WAWebProductCatalogLogEvents").logImageCarouselModalView({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g})},[]);z=function(a){t(a)};var B=function(){d("WAWebModalManager").ModalManager.closeMedia()},C=function(){if(!n.current)return;c("WAWebVelocityAnimate")(n.current,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})};k(function(){v!==q&&(A(!0),d("WAWebProductCatalogLogEvents").logFullImageView({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g}))},[q,v,p,u,b,g]);p=e.length;u=q>0?y:null;p=q+1<p?x:null;return j.jsxs("div",{className:s?"img-zoomed-in":null,children:[j.jsx("div",{className:c("WAWebProductCatalogProductImageViewFlow.scss").thumbsContainer,ref:n,children:j.jsx("div",{ref:o,className:c("WAWebProductCatalogProductImageViewFlow.scss").scrollContainer,dir:"ltr",children:j.jsxs(c("WAWebVelocityTransitionGroup"),{className_DONOTUSE:c("WAWebProductCatalogProductImageViewFlow.scss").viewerThumbs,transitionName:"thumb-scale",children:[j.jsx("div",{className:c("WAWebProductCatalogProductImageViewFlow.scss").thumbPadding},"padding-left"),e.toArray().map(function(a,b){var c=b===q;return j.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{theme:"viewerFlow",active:c,ref:c?i:null,mediaData:a.mediaData,onClick:function(){return w(b)}},"product-image-"+b)}),j.jsx("div",{className:c("WAWebProductCatalogProductImageViewFlow.scss").thumbPadding},"padding-right")]})})}),j.jsx(c("WAWebProductCatalogProductImageViewerModal.react"),{mediaData:e.toArray()[q].mediaData,productImage:e.toArray()[q],onBack:B,onExitAnimation:C,onNext:p,onPrev:u,onImgZoomIn:z,getZoomNode:a.getZoomNode,zoomIn:h.current,isImgZoomedIn:s,product:b,sessionId:a.sessionId})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebRemoveFromFavoritesAction",["fbt","WALogger","WATimeUtils","WAWebActionToast.react","WAWebAddToFavoritesAction","WAWebDBFavoriteDatabaseApi","WAWebFavoriteCollection","WAWebFavoritesSync","WAWebL10NHelpers","WAWebSchemaFavorite","WAWebSyncd","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Favorites] removeFromFavoritesAction, mutation generated"]);j=function(){return a};return a}var k=i||c("react");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e===void 0&&(e={suppressToast:!1});var f=(yield d("WAWebSchemaFavorite").getFavoriteTable().all()),g=a.toJid();f=f.filter(function(a){a=a.id;return a!==g});var i=d("WATimeUtils").unixTime();f=c("WAWebFavoritesSync").getFavoritesMutation(f,i);d("WALogger").LOG(j()).devConsole(f);i=d("WAWebSyncd").lockForSync(["favorite"],[f],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebDBFavoriteDatabaseApi").removeFavorites([g])})).then(function(){return d("WAWebFavoriteCollection").FavoriteCollection.remove([g])});if(e.suppressToast)yield i;else{f=new(d("WAWebActionToast.react").ActionType)(d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__6zhgAN2hyu1__JHASH__"):h._("__JHASH__m5o3Oy3Si7s__JHASH__"));e=i.then(function(){return new(d("WAWebActionToast.react").ActionType)(d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__pifz_vaKCSp__JHASH__"):h._("__JHASH__whnsedosYdI__JHASH__"),{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return d("WAWebAddToFavoritesAction").addToFavoritesAction([a])}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:d("WAWebActionToast.react").genId(),initialAction:f,pendingAction:e}))}});return l.apply(this,arguments)}g.removeFromFavoritesAction=a}),226);
__d("WAWebSendProductModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizSendProductModal.react").__setRef("WAWebSendProductModalLoadable").load());return a}),"SendProductModal");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__Pz11_y6jv6u__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.SendProductModalLoadable=d}),226);
__d("WAWebChatArchiveBridge",["WALogger","WASyncdConst","WATimeUtils","WAWebApiActiveMessageRanges","WAWebArchiveChatSync","WAWebMessageRangeUtils","WAWebMiscErrors","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["update chat table failed"]);h=function(){return a};return a}function a(a,e,f){f=d("WATimeUtils").unixTimeMs();return c("WAWebArchiveChatSync").getMutationsForArchive(f,e,a).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){try{yield d("WAWebMessageRangeUtils").lockForMessageRangeSync(["chat"],f,function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(f[0].action!==d("WASyncdConst").Actions.Archive)throw c("err")("syncd: expected archive action from getMutationsForArchive");yield d("WAWebApiActiveMessageRanges").addActiveMessageRange(a.toString(),"archive",f[0].binarySyncAction);return b.merge(a.toString(),i(e))});return function(a){return g.apply(this,arguments)}}());return{status:200}}catch(a){if(a instanceof d("WAWebMiscErrors").DbOnLogoutAbort)throw a;d("WALogger").ERROR(h()).verbose().devConsole(a).sendLogs("update chat table failed when send conversation to archive");throw c("err")("update chat table failed")}});return function(a){return f.apply(this,arguments)}}())}function i(a){var b={archive:a};a&&(b.pin=void 0);return b}g.sendConversationArchive=a}),98);
__d("WAWebSetArchiveChatAction",["fbt","Promise","WAAbortError","WALogger","WAWebActionToast.react","WAWebChatArchiveBridge","WAWebMiscErrors","WAWebStateUtils","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["models:chat:setArchive dropped"]);k=function(){return a};return a}var l=j||c("react");function a(a,b,c){return m(d("WAWebStateUtils").unproxy(a),b,c)}function m(a,c,e,f){f===void 0&&(f=d("WAWebActionToast.react").genId());if(a.archive===c)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var g=a.promises;if(g.setArchive)return g.setArchive.promise;var j=a.getLastMsgKeyForAction(),n=new AbortController(),o=n.signal;j=d("WAWebChatArchiveBridge").sendConversationArchive(a.id,c,j);var p=c?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__TbdFR9SFyko__JHASH__")):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__aafThUMTB5r__JHASH__")),q=j.then(function(b){if(o.aborted)throw new(d("WAAbortError").AbortError)();var g;if(b.status===200){g=c?h._("__JHASH__Dk9cAZTATJ5__JHASH__"):h._("__JHASH__71z-T1_c3m6__JHASH__");return new(d("WAWebActionToast.react").ActionType)(g,{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return m(a,!c,e,f)}})}else if(b.status>=400)return c?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__uHolzO1t-s4__JHASH__")):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__Gi641J940rP__JHASH__"))})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(b){d("WALogger").WARN(k()).devConsole(b);b=c?h._("__JHASH__uHolzO1t-s4__JHASH__"):h._("__JHASH__Gi641J940rP__JHASH__");return new(d("WAWebActionToast.react").ActionType)(b,{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return m(a,c,e,f)}})});e&&d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebActionToast.react").ActionToast,{id:f,initialAction:p,pendingAction:q}));p=j.then(function(b){b.status===200&&(a.archive=c,c&&(a.pin=void 0))})["finally"](function(){delete g.setArchive});q={promise:p,abortController:n,archive:c};g.setArchive=q;return p}g.setArchive=a}),226);
__d("WAWebSetPinChatAction",["fbt","WAAbortError","WALogger","WATimeUtils","WAWebActionToast.react","WAWebChatPinBridge","WAWebStateUtils","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["models:chat:setPin dropped"]);j=function(){return a};return a}var k=i||c("react");function a(a,b){return l(d("WAWebStateUtils").unproxy(a),b)}function l(a,b,c){c===void 0&&(c=d("WAWebActionToast.react").genId());var e=a.promises;e.setPin&&e.setPin.abortController.abort();var f=0,g,i=d("WATimeUtils").unixTimeMs();b?f=i:g=a.pin;var n=new AbortController(),o=n.signal;i=d("WAWebChatPinBridge").setPin(a.id,f,g,i);var p=b?new(d("WAWebActionToast.react").ActionType)(m.getPinningText(a)):new(d("WAWebActionToast.react").ActionType)(m.getUnpinningText(a)),q=i.then(function(){if(o.aborted)throw new(d("WAAbortError").AbortError)();var e=b?m.getPinnedText(a):m.getUnpinnedText(a);return new(d("WAWebActionToast.react").ActionType)(e,{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return l(a,!b,c)}})})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(e){if(e.status===405)return new(d("WAWebActionToast.react").ActionType)(m.getPinLimitExceededText(a));else if(e.status>=400)return b?new(d("WAWebActionToast.react").ActionType)(m.getFailedToPinText(a)):new(d("WAWebActionToast.react").ActionType)(m.getFailedToUnpinText(a));d("WALogger").WARN(j()).devConsole(e);e=b?m.getFailedToPinText(a):m.getFailedToUnpinText(a);return new(d("WAWebActionToast.react").ActionType)(e,{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return l(a,b,c)}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:c,initialAction:p,pendingAction:q}));p=i.then(function(){a.pin=f})["finally"](function(){e.setPin=null});e.setPin={promise:p,abortController:n};return p}var m={getPinnedText:function(a){return a.isNewsletter?h._("__JHASH__oExNR-vYIRW__JHASH__"):h._("__JHASH__-r9TRFJ5S0y__JHASH__")},getUnpinnedText:function(a){return a.isNewsletter?h._("__JHASH__U_A9KUVuL68__JHASH__"):h._("__JHASH__3fp6z6wLXhg__JHASH__")},getPinningText:function(a){return a.isNewsletter?h._("__JHASH__6kf7hJTMpcl__JHASH__"):h._("__JHASH__2SOVYSlhH0t__JHASH__")},getUnpinningText:function(a){return a.isNewsletter?h._("__JHASH__Y5SM9N52ved__JHASH__"):h._("__JHASH__70gJ-_86QzW__JHASH__")},getFailedToPinText:function(a){return a.isNewsletter?h._("__JHASH__7WWnmgbi4JR__JHASH__"):h._("__JHASH__1ywGip8Prrx__JHASH__")},getFailedToUnpinText:function(a){return a.isNewsletter?h._("__JHASH__WOhDs6smwXn__JHASH__"):h._("__JHASH__QVJOwwes6r5__JHASH__")},getPinLimitExceededText:function(a){if(a.isNewsletter){a=d("WAWebChatPinBridge").getPinLimit(a.id);return h._("__JHASH__wxMBmGOC57S__JHASH__",[h._plural(a,"number")])}return h._("__JHASH__UzeP8hBnHlZ__JHASH__")}};g.setPin=a}),226);
__d("WAWebWamEnumSnackbarActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({SNACKBAR_SHOWN:0,MESSAGE_UNDELETE:1});f.SNACKBAR_ACTION_TYPE=a}),66);
__d("WAWebSnackbarDeleteUndoWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumSnackbarActionType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({SnackbarDeleteUndo:[3628,{isAGroup:[1,a.TYPES.BOOLEAN],mediaType:[6,d("WAWebWamEnumMediaType").MEDIA_TYPE],messagesUndeleted:[2,a.TYPES.INTEGER],snackbarActionType:[3,d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE],threadId:[4,a.TYPES.STRING]},[1,1,1],"regular"]},{SnackbarDeleteUndo:[]});g.SnackbarDeleteUndoWamEvent=b}),98);
__d("WAWebUseNewsletterActionListeners",["WAWebChatEntryPoint","WAWebCmd","WAWebDrawerManager","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebNewsletterCollection","WAWebNewsletterTabFlowLoadable","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a=c("useWAWebUIM")(),b=function(b){b=c("WAWebNewsletterCollection").get(b);if(b==null)return;d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebNewsletterTabFlowLoadable").NewsletterTabFlowLoadable,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"slide-left",uim:a});void d("WAWebCmd").Cmd.openChatBottom(b,d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCreationFlow)},e=function(a,b){d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:a,initialStep:b}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_created_newsletter",b);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_newsletter_profile",e)}g["default"]=a}),98);
__d("WAWebGroupInviteRevokeModal.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={confirmationText:{display:"x1lliihq",fontSize:"x6prxxf",lineHeight:"x1fc57z9",color:"xzwifym",$$css:!0}};function a(a){var b=a.onConfirm;a=a.chat;var e=function(){d("WAWebModalManager").ModalManager.close()},f=function(){b(),d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__xwPr7MwJ9LO__JHASH__"),onOK:f,okText:h._("__JHASH__xwPr7MwJ9LO__JHASH__"),onCancel:e,cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),children:k.jsx("div",{className:(j||(j=c("stylex")))(l.confirmationText,d("WAWebUISpacing").uiPadding.top4,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.horiz0),children:h._("__JHASH__tAVaWTdQvtM__JHASH__",[h._param("community",a.contact.name)])})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebRevokeIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="revoke";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M7.7,11.1v1.8h8.7v-1.8H7.7z M12,3.3c-4.7,0-8.7,3.8-8.7,8.7 s3.8,8.7,8.7,8.7s8.7-3.9,8.7-8.7S16.7,3.3,12,3.3z M12,18.9c-3.9,0-6.9-3.1-6.9-6.9s3-6.9,6.9-6.9s6.9,3.1,6.9,6.9 S15.9,18.9,12,18.9z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RevokeIcon=a}),98);
__d("WAWebSendGroupInviteFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebSendGroupInviteFlow.react").__setRef("WAWebSendGroupInviteFlowLoadable").load());return a}),"SendGroupInviteFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__LenP8XNVLj1__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.SendGroupInviteFlowLoadable=d}),226);
__d("WAWebGroupInviteLinkDrawer.react",["fbt","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAPromiseRaceAbort","WAWebABProps","WAWebBackendErrors","WAWebCellFrame.react","WAWebCopyLinkButton.react","WAWebCopyPasteSelectable.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebEmptyState.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebGroupInviteAction","WAWebGroupInviteRevokeModal.react","WAWebGroupInviteUtils.react","WAWebGroupQueryJob","WAWebGroupType","WAWebMiscErrors","WAWebModalManager","WAWebPendingParticipantsIcon","WAWebRevokeIcon","WAWebSendGroupInviteFlowLoadable","WAWebSendLinkButton.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebFocusOnMount","useWAWebListener","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected admin"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected group of type community, found: ",""]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useState,p={groupInfo:{backgroundColor:"x15g3fpr",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},groupInfoAvatar:{minWidth:"x900493",$$css:!0},groupInfoName:{fontSize:"x1jchvi3",lineHeight:"x1xet1wb",color:"xzwifym",$$css:!0},groupInfoLink:{maxWidth:"x193iq5w",$$css:!0},link:{color:"x1eqckd8",lineHeight:"x37zpob",$$css:!0},descText:{fontSize:"x1f6kntn",lineHeight:"x37zpob",$$css:!0},icon:{color:"xt16idv",$$css:!0},iconContainer:{minWidth:"xnei2rj",$$css:!0},linkButton:{color:"x1n68mz9",$$css:!0}},q="group-invite-link-anchor",r={LOADING:0,REVOKING:1,SUCCESS:2};e=m.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onBack,f=a.chat,g=a.isCommunity;g=g===void 0?!1:g;var i=a.fromInfo;i=i===void 0?!1:i;var j=a.onGroupSettings,s=o(r.LOADING),t=s[0],u=s[1],v=c("useWAWebUnmountSignal")(),w=c("useWAWebFocusOnMount")();d("useWAWebListener").useListener(d("WAWebModalManager").ModalManager,["close_modal"],function(){return c("WAWebFocusTracer").focus(w.current)});var x=d("useWAWebModelValues").useModelValues(a.groupMetadata,["inviteCode","groupInviteLink","groupType","membershipApprovalMode","participants"]);g&&x.groupType!==d("WAWebGroupType").GroupType.COMMUNITY&&d("WALogger").ERROR(l(),x.groupType).sendLogs("group-invite-link-drawer-invalid-group-type");var y=function(a){switch(a){case 401:return h._("__JHASH__8Cc9cKzyeuu__JHASH__");case 403:return h._("__JHASH__sZeZ5wbgW23__JHASH__");case 404:return h._("__JHASH__lSUPMAXKsae__JHASH__");case 436:return h._("__JHASH__GRJIQssw7fy__JHASH__");default:return h._("__JHASH__9Nk5GyWM0mC__JHASH__")}},z=function(a){var b=y(a);e();a===436&&(d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById(f.id),d("WAWebGroupInviteUtils.react").openGrowthLockedModal(!0));d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:b}))};n(function(){if(!x.participants.iAmAdmin()){d("WALogger").LOG(k()).sendLogs("group-invite-link-drawer-user-not-admin");var a=401;z(a);return}c("WAPromiseRaceAbort")(d("WAWebGroupInviteAction").queryGroupInviteCode(x),v).then(function(){u(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){z(a.statusCode)}))["catch"](d("WAAbortError").catchAbort(function(){}))},[]);var A=function(a){a=y(a);e();d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:a}))},B=function(){u(r.REVOKING);var a=d("WAWebGroupInviteAction").revokeGroupInvite(x);d("WAPromiseDelays").delayMs(500).then(function(){return a}).then(function(){d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__1tyjfal6acv__JHASH__")})),u(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){A(a.statusCode)}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,function(){}))};s=function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebGroupInviteRevokeModal.react"),{chat:f,onConfirm:B}),{transition:"modal-flow"})};var C=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebSendGroupInviteFlowLoadable").SendGroupInviteFlowLoadable,{chat:f}),{transition:"modal-flow"})},D=x.groupType===d("WAWebGroupType").GroupType.COMMUNITY?h._("__JHASH__bohlJxHOCnu__JHASH__"):h._("__JHASH__uiYYYxMi4Uu__JHASH__"),E;if(t===r.LOADING)E=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._("__JHASH__2I-O6g8WUCn__JHASH__")});else if(t===r.REVOKING)E=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._("__JHASH__CvYD24HVJ88__JHASH__",[h._param("groupName",f.contact.name)])});else{t=x.groupInviteLink;var F=null;document.queryCommandSupported("copy")&&(F=m.jsx(c("WAWebCopyLinkButton.react"),{elementId:q,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}));var G=x.groupType===d("WAWebGroupType").GroupType.COMMUNITY||x.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP,H=m.jsx(d("WAWebDetailImage.react").DetailImage,{id:f.id,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?48:82,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:G?d("WAWebDetailImage.react").DetailImageShape.Squircle:d("WAWebDetailImage.react").DetailImageShape.Circle});t=m.jsx("span",{className:"x1vvkbs xeaf4i8",children:m.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{id:q,href:t,selectable:!0,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")&&p.link,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"13":"15",color:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"link":void 0,children:t})})});if(d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){var I,J;J=m.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[p.groupInfo,(J=d("WAWebUISpacing")).uiMargin.top16,J.uiMargin.horiz16,J.uiPadding.vert12,J.uiPadding.horiz8],align:"center",children:[m.jsx(I=c("WAWebFlexItem.react"),{xstyle:[p.groupInfoAvatar,J.uiPadding.horiz8],children:H}),m.jsx(I,{xstyle:J.uiPadding.horiz8,children:m.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"start",children:[m.jsx(I,{children:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto",xstyle:p.groupInfoName})}),m.jsx(I,{xstyle:p.groupInfoLink,children:t})]})})]})}else J=m.jsx(c("WAWebCellFrame.react"),{image:H,primary:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto"}),theme:"identity",secondary:t});var K;G?I=m.jsx("div",{className:"xjv05ge xqmxbcd xieb3on x8vdgqj x1f6kntn x37zpob",children:h._("__JHASH__iG4pEnc5PG1__JHASH__")}):d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?(I=m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.vert16,children:[m.jsx(c("WAWebFlexItem.react"),{xstyle:[p.iconContainer,d("WAWebUISpacing").uiPadding.horiz25],children:m.jsx(d("WAWebPendingParticipantsIcon").PendingParticipantsIcon,{xstyle:p.icon})}),m.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end24,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"dark",xstyle:p.descText,children:x.membershipApprovalMode?h._("__JHASH__WdF7KWmPw0t__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:j,xstyle:p.linkButton,children:h._("__JHASH__HLnQehpmtSF__JHASH__")}))]):h._("__JHASH__Y6_X1u83fuK__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:j,xstyle:p.linkButton,children:h._("__JHASH__8Izdwh7rOor__JHASH__")}))])})})]}),K=m.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz24],children:m.jsx("div",{className:"xh8yej3 xjm9jq1 xxnau4b"})})):I=m.jsx("div",{className:"xjv05ge xqmxbcd xieb3on x8vdgqj x1f6kntn x37zpob",children:h._("__JHASH__czoO0DYVxve__JHASH__")});E=m.jsxs(c("WAWebDrawerBody.react"),{children:[J,I,K,m.jsx(c("WAWebSendLinkButton.react"),{onClick:C,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}),F,m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:m.jsx(d("WAWebRevokeIcon").RevokeIcon,{xstyle:p.icon}),onClick:s,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3"),children:h._("__JHASH__xwPr7MwJ9LO__JHASH__")})]})}return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"invite":void 0,testid:void 0,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:D,onBack:a.onBack,rtlFixIfOnDarwin:!0,type:g&&!(i||d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled())?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),m.jsx("div",{ref:w,tabIndex:"-1",children:E})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("useWAWebCommunityActionListeners",["WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityDailyUtils","WAWebCommunityFlow.react","WAWebCommunityFlowLoadable","WAWebCommunityGatingUtils","WAWebCommunityHomeWrapper.react","WAWebCommunitySettingsDrawer.react","WAWebCommunityTabbedInfoDrawer.react","WAWebDrawerManager","WAWebGroupMetadataCollection","WAWebKeyboardTabUtils","WAWebManageCommunityGroupsFlowLoadable","WAWebModalManager","WAWebNewGroupFlow.react","WAWebNewGroupFlowLoadable","WAWebNewSubgroupSuggestionFlowLoadable","WAWebSubgroupJoinModal.react","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a,b,e=c("useWAWebUIM")(),f=function(a,b){d("WAWebCommunityDailyUtils").incrementCommunityHomeEvent(a,d("WAWebCommunityDailyUtils").CommunityDailyHomeMetricsType.HOME_VIEWS),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,hasFetchedSubgroups:b,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.CommunityHome},"community-nav-"+a.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},g=function(a,b,c,f){b===void 0&&(b=d("WAWebCommunityTabbedInfoDrawer.react").CommunityInfoTabs.Community),d("WAWebCommunityDailyUtils").incrementCommunityHomeEvent(a,d("WAWebCommunityDailyUtils").CommunityDailyHomeMetricsType.HOME_VIEWS),d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.CommunityHome,initialTab:b,homeTheme:d("WAWebCommunityHomeWrapper.react").CommunityHomeTheme.TabbedInfo,scrollToMemberList:f,showFullDescription:c,onBack:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"community-info-"+a.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},h=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.PendingGroups,onBack:function(){d("WAWebCmd").Cmd.openCommunityHome(a)}}),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},j=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebManageCommunityGroupsFlowLoadable").ManageCommunityGroupsFlowLoadable,{parentGroupMetadata:c("WAWebGroupMetadataCollection").assertGet(a),onBack:function(){return f(a,!1)}}))},k=function(a){var b,e=d("WAWebChatCollection").ChatCollection.get(a);if(!e||!((b=e.groupMetadata)==null?void 0:b.hasJoined()))return;d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(c("WAWebCommunitySettingsDrawer.react"),{chat:e,onBack:function(){return f(a,!1)}}),{transition:"flow-transition-drawer-push",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},l=function(a,b,e){var g=c("WAWebGroupMetadataCollection").assertGet(a).participants.iAmAdmin(),h;if(d("WAWebChatCommunityUtils").isSubgroupSuggestionCreation(a))h=i.jsx(d("WAWebNewSubgroupSuggestionFlowLoadable").NewSubgroupSuggestionFlowLoadable,{parentGroup:a,onBack:function(){return f(a,!1)}});else{var j=d("WAWebCommunityGatingUtils").communityShortGroupCreationEnabled();h=i.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:b,parentGroupWid:a,onEnd:function(){return f(a,!1)},initialSelectedSubgroup:e,initialStep:g&&!j?d("WAWebNewGroupFlow.react").NewGroupFlowStep.ADD_PARTICIPANTS_DRAWER:d("WAWebNewGroupFlow.react").NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:j})}d("WAWebDrawerManager").DrawerManager.openDrawerLeft(h,{transition:"flow-transition-drawer-push",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},m=function(a,b){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebSubgroupJoinModal.react"),{subgroupMetadata:a,onSuccess:function(){},source:b}))};(a=d("useWAWebListener")).useListener((b=d("WAWebCmd")).Cmd,"open_subgroup_join_modal",m);a.useListener(b.Cmd,"open_community_home",f);a.useListener(b.Cmd,"open_community_tabbed_info",g);a.useListener(b.Cmd,"open_community_pending_groups_drawer",h);a.useListener(b.Cmd,"open_community_home_manage_groups",j);a.useListener(b.Cmd,"open_community_add_new_group",l);a.useListener(b.Cmd,"open_community_settings_drawer",k)}g["default"]=a}),98);
__d("WAWebActionListener",["fbt","JSResourceForInteraction","Promise","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAWebActionToast.react","WAWebAddToFavoritesAction","WAWebBackendErrors","WAWebBizChatAssignmentModal.react","WAWebBizMerchantDetailsEntityTypePopup.react","WAWebBotGating","WAWebBusinessMuteWamEvent","WAWebBusinessUnmuteWamEvent","WAWebChatAssignmentLogEvents.flow","WAWebChatEphemerality","WAWebChatSendMessages","WAWebChatThreadLogging","WAWebClearChatPopup.react","WAWebCmd","WAWebCommandPalette.react","WAWebConfirmPopup.react","WAWebCountrySelectorPopup.react","WAWebCurrentUser","WAWebDeleteChatPopup.react","WAWebDrawerManager","WAWebEventInfoFlowLoadable","WAWebGroupsV4InviteFlowLoadable","WAWebHeader.react","WAWebKeyboardTabUtils","WAWebLazyLoadedRetriable","WAWebMessageDeleteActionsWamEvent","WAWebMiscErrors","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgDataFromModel","WAWebMsgGetters","WAWebMsgType","WAWebMuteExpirations","WAWebMutePopup.react","WAWebNewsletterRevokeMsgAction","WAWebOTPLoggingHelper","WAWebProductCatalogProductImageViewFlow.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRemoveFromFavoritesAction","WAWebSendMsgResultAction","WAWebSendProductModalLoadable","WAWebSetArchiveChatAction","WAWebSetPinChatAction","WAWebSnackbarDeleteUndoWamEvent","WAWebToast.react","WAWebToastManager","WAWebUpdateUnreadChatAction","WAWebUseNewsletterActionListeners","WAWebWamChatPSALogger","WAWebWamEnumDeleteActionType","WAWebWamEnumMuteEntryPoint","WAWebWamEnumProfileEntryPoint","WAWebWamEnumSnackbarActionType","WAWebWamMsgUtils","asyncToGeneratorRuntime","err","lodash","react","useWAWebCommunityActionListeners","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendRevokeMsgs fail"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendDeleteMsgs dropped"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendUnstarMsgs dropped"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendStarMsgs dropped"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:",""]);o=function(){return a};return a}var p=j||c("react"),q=4e3;function r(a){switch(a){case 1:return h._("__JHASH__UY0l4BaAyyK__JHASH__");case 8:return h._("__JHASH__CDQe2IY-7Cw__JHASH__");case 24:return h._("__JHASH__bxqz5u2On3d__JHASH__");case 168:return h._("__JHASH__o3r8Vlv5p_r__JHASH__");default:d("WALogger").LOG(o(),a);return h._("__JHASH__WxwVAH6fVo9__JHASH__")}}function s(a,c,e,f){f===void 0&&(f="LEFT");if(!c)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());if(c.some(function(a){return!a.id}))return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var g=e||d("WAWebActionToast.react").genId(),j=c.length;if(a.isPSA){e=0;for(e;e<j;e++)d("WAWebWamChatPSALogger").logChatPSAStar(c[e])}e=new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__XY3GWBIFXUC__JHASH__",[h._plural(j)]));var k=d("WAWebChatSendMessages").sendStarMsgs(a,c,!0).then(function(){return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__rabZUFZ2g_M__JHASH__",[h._plural(j,"count")]),{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return t(a,c,g,f)}})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(b){return b.status>=400?d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__aDLrcUUZzSU__JHASH__",[h._plural(j)])):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__zefk-okWtXu__JHASH__",[h._plural(j)])):void 0}))["catch"](function(b){d("WALogger").WARN(n()).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__zefk-okWtXu__JHASH__",[h._plural(j)]),{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return s(a,c,g,f)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:g,toastPosition:f,initialAction:e,pendingAction:k}));return k}function t(a,c,e,f){f===void 0&&(f="LEFT");if(!c)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());if(c.some(function(a){return!a.id}))return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var g=e||d("WAWebActionToast.react").genId(),j=c.length;e=new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__U4gYH7U8aRS__JHASH__",[h._plural(j)]));var k=d("WAWebChatSendMessages").sendStarMsgs(a,c,!1).then(function(){return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH___4XQ1PiDG26__JHASH__",[h._plural(j,"count")]),{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return s(a,c,g,f)}})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(b){return b.status>=400?d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__zc68NSpuvJb__JHASH__",[h._plural(j)])):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__Ky9mWG_8L-j__JHASH__",[h._plural(j)])):void 0}))["catch"](function(b){d("WALogger").WARN(m()).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__Ky9mWG_8L-j__JHASH__",[h._plural(j)]),{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return t(a,c,g,f)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:g,toastPosition:f,initialAction:e,pendingAction:k}));return k}function u(a){a=c("lodash").uniq(a.map(function(a){return d("WAWebWamMsgUtils").getWamMediaType(a)}));return a.length===1?a[0]:void 0}function v(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.type==="message"){if(a.isPSA){var e=0;for(e;e<b.list.length;e++)d("WAWebWamChatPSALogger").logChatPSADelete(b.list[e])}b.list.filter(d("WAWebMsgGetters").getIsAuthenticationMessage).forEach(function(a){void d("WAWebOTPLoggingHelper").logOTPMessageDeleted(d("WAWebMsgDataFromModel").msgDataFromMsgModel(a))})}return new(d("WAWebMessageDeleteActionsWamEvent").MessageDeleteActionsWamEvent)({deleteActionType:c?d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE.DELETE_FOR_EVERYONE:d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE.DELETE_FOR_ME,isAGroup:a.isGroup,messagesDeleted:b.list.length,threadId:yield d("WAWebChatThreadLogging").getChatThreadID(a.id.toJid()),mediaType:u(b.list)}).commitAndWaitForFlush()});return w.apply(this,arguments)}function x(a,b,c){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){return new(d("WAWebSnackbarDeleteUndoWamEvent").SnackbarDeleteUndoWamEvent)({snackbarActionType:c==="shown"?d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE.SNACKBAR_SHOWN:d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE.MESSAGE_UNDELETE,isAGroup:a.isGroup,messagesUndeleted:b.list.length,threadId:yield d("WAWebChatThreadLogging").getChatThreadID(a.id.toJid()),mediaType:u(b.list)}).commitAndWaitForFlush()});return y.apply(this,arguments)}function a(){var a,e,f=c("useWAWebUIM")(),g=function(a){var b=a.product;a=a.onSend;d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebSendProductModalLoadable").SendProductModalLoadable,{product:b,onSend:a}),{transition:"modal-flow",uim:f})},j=function(a,b){d("WAWebModalManager").ModalManager.openMedia(p.jsx(c("WAWebProductCatalogProductImageViewFlow.react"),{activeProductImage:a.activeProductImage,productImageCollection:a.productImageCollection,getZoomNode:a.getZoomNode,product:a.product,sessionId:b}),{transition:"media-viewer",uim:f})},m=function(a,b,c,e){d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebGroupsV4InviteFlowLoadable").GroupsV4InviteFlowLoadable,{participantNeedInvite:a,groupGid:b,subject:c,groupDesc:e}))},n=function(a){d("WAWebHeader.react").openInfoPanel(a,f,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.NOTIFICATION_BLOCK_ACTION)},o=function(a,b,e,g){g===void 0&&(g=!0);if(b){b=function(c,f,g){if(a.isPSA&&e!==0){var b;switch(g){case 1:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CHAT_LIST_SCREEN;break;case 2:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONTACT_INFO;break;default:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONVERSATION_SCREEN;break}d("WAWebWamChatPSALogger").logChatPSAMute(b,f===Infinity?-1:f)}a.pendingAction++;a.mute.mute({expiration:c,sendDevice:!0})["finally"](function(){a.pendingAction--});(a.isBusinessGroup||a.contact.isBusiness)&&new(d("WAWebBusinessMuteWamEvent").BusinessMuteWamEvent)().commit()};if(g){g=h._("__JHASH__ZMe4kYxcowI__JHASH__");d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{title:g,mute:a.mute,onMute:b,entryPoint:e,children:h._("__JHASH__Q4B6e6ALmHY__JHASH__")}),{transition:"modal",uim:f})}else{g=Number.POSITIVE_INFINITY;var i=d("WAWebMuteExpirations").calculateMuteExpiration(g);b(i,g,(b=e)!=null?b:0)}}else{a.pendingAction++;a.mute.unmute({sendDevice:!0})["finally"](function(){a.pendingAction--});if(a.isPSA&&e!==0){var j;switch(e){case 1:j=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CHAT_LIST_SCREEN;break;case 2:j=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONTACT_INFO;break;default:j=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONVERSATION_SCREEN;break}d("WAWebWamChatPSALogger").logChatPSAUnmute(j)}(a.isBusinessGroup||a.contact.isBusiness)&&new(d("WAWebBusinessUnmuteWamEvent").BusinessUnmuteWamEvent)().commit()}},u=function(a,b,e){if(!a)return;var g=h._("__JHASH__CWnkDmWMasg__JHASH__",[h._plural(a.length)]);if(b){b=function(b,c,d){a.forEach(function(a){a.pendingAction++,a.mute.mute({expiration:b,sendDevice:!0,fromMultiselect:!0})["finally"](function(){a.pendingAction--})}),e()};d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{title:g,mute:a[0].mute,onMute:b}),{transition:"modal",uim:f})}else a.forEach(function(a){a.pendingAction++,a.mute.unmute({sendDevice:!0,fromMultiselect:!0})["finally"](function(){a.pendingAction--})}),e()},w=function(a,b,c){return o(a,b,0,c)},y=function(a,b,e,g){g===void 0&&(g=!1);var i=h._("__JHASH__N8_tlcFiOuj__JHASH__"),j=h._("__JHASH__0sWOkmM3KYg__JHASH__"),k=h._("__JHASH__E6ejWVgM4xM__JHASH__");e&&(i=h._("__JHASH__RgFcG4N2pN___JHASH__"),j=h._("__JHASH__kmBQJ7MWPri__JHASH__"),k=h._("__JHASH__TXi8hHFBxyl__JHASH__"));if(b){e=function(b,c){a.mute({expiration:b}),d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:r(c),id:d("WAWebToast.react").genId()}))};d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{mute:a,title:i,onMute:e,muteAll:!0}),{transition:"modal",uim:f})}else{if(g){a.unmute();return}b=function(){a.unmute(),d("WAWebModalManager").ModalManager.close(),d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:j,id:d("WAWebToast.react").genId()}))};i=function(){return d("WAWebModalManager").ModalManager.close()};d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:h._("__JHASH__zQjxkyzbkik__JHASH__"),onCancel:i,cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),children:k}))}},z=function(a,b){var c=function(c){a.pendingAction++;if(a.isPSA&&b!==0){var e=a.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(e,6,b)}c["finally"](function(){a.pendingAction--})};d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebDeleteChatPopup.react").DeleteChatPopup,{chat:a,onDeleteOrExit:c}),{transition:"modal",uim:f})},A=function(a){z(a,0)},B=function(a,b){a.pendingAction++,d("WAWebSetPinChatAction").setPin(a,b)["catch"](function(){})["finally"](function(){a.pendingAction--})},C=function(a,b){a.pendingAction++,b?d("WAWebAddToFavoritesAction").addToFavoritesAction([a.id])["catch"](function(){})["finally"](function(){a.pendingAction--}):d("WAWebRemoveFromFavoritesAction").removeFromFavoritesAction(a.id)["catch"](function(){})["finally"](function(){a.pendingAction--})},D=function(a){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebClearChatPopup.react"),{chat:a}),{transition:"modal",uim:f})},E=function(a,b,c,e){if(a.isPSA&&c!==0&&a.msgs.length>0){var f=a.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(f,b?3:4,c)}a.pendingAction++;d("WAWebSetArchiveChatAction").setArchive(a,b,e)["catch"](function(){})["finally"](function(){a.pendingAction--})},F=function(a,b,c){E(a,b,0,c)},G=function(a,b){a.pendingAction++,d("WAWebUpdateUnreadChatAction").markUnread(a,b)["finally"](function(){a.pendingAction--})},H=function(a,b){if(!a)throw new(d("WAWebMiscErrors").ActionError)();if(a.some(function(a){return!a.id}))throw new(d("WAWebMiscErrors").ActionError)();b=b||d("WAWebActionToast.react").genId();d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{id:b,msg:h._("__JHASH__rIfJvPWPiQi__JHASH__",[h._plural(a.length)])}))},I=function(a,b){var e=d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.getName(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_FETCH_ASSIGN_CHAT_AGENT_LIST,{annotations:{string:{CHAT_ASSIGNMENT_ENTRY_POINT:e}}});d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizChatAssignmentModal.react"),{chats:[a],entryPoint:b}))},J=function a(c,e,f,g,j){j===void 0&&(j="LEFT");var k=e.list;if(!k)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());if(k.some(function(a){return!a.id}))return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var m=k.length,n=g||d("WAWebActionToast.react").genId(),o=new AbortController(),r=o.signal;if(e.type!=="addon"){x(c,e,"shown");e.list.forEach(function(a){a.pendingDeleteForMe=!0;if(d("WAWebBotGating").isBotReceiveEnabled()){var b=d("WAWebMsgGetters").getBotPluginSearchProvider(a),c=Boolean(!b&&d("WAWebMsgGetters").getBotPluginMaybeParent(a));a=d("WAWebMsgGetters").getBotResponseTargetId(a);(c||b!=null&&a!=null)&&d("WAWebCmd").Cmd.botTogglePluginSearchDetailsToggle(a,!1)}});c.pendingDeleteForMeCount+=e.list.length;k=m===1?h._("__JHASH__ow_nIJa9x2s__JHASH__"):h._("__JHASH__ToEZVdqxlNW__JHASH__",[h._plural(m,"number_of_messages")]);g=new(d("WAWebActionToast.react").ActionType)(k,{actionText:h._("__JHASH___gWecnZvd3i__JHASH__"),actionHandler:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){o.abort(),e.list.forEach(function(a){a.pendingDeleteForMe=!1}),c.pendingDeleteForMeCount-=e.list.length,void x(c,e,"undo"),yield H(e.list,n)});function d(){return a.apply(this,arguments)}return d}()})}else g=new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__puyjZ8S5KX7__JHASH__",[h._plural(m)]));k=(i||(i=b("Promise"))).resolve();e.type!=="addon"&&(k=k.then(function(){return d("WAPromiseDelays").delayMs(q)}));k=k.then(function(){if(r.aborted)throw new(d("WAAbortError").AbortError)();return d("WAWebChatSendMessages").sendDeleteMsgs(c,e,f)}).then(function(a){c.pendingDeleteForMeCount-=a;if(a===m){void v(c,e,!1);return e.type!=="addon"?null:new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__lpt7hEvGjFY__JHASH__",[h._plural(m,"count")]))}a=m-a;return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__ZpAmSO5CaCb__JHASH__",[h._plural(a)]))})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(b){d("WALogger").WARN(l()).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__ZpAmSO5CaCb__JHASH__",[h._plural(m)]),{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return a(c,e,!1,n,j)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:n,toastPosition:j,initialAction:g,pendingAction:k}));return k},K=function(a,b){throw c("err")("This call is not supported")},L=function(a,e,f){var g,j=f.clearMedia;g=(g=f.toastId)!=null?g:d("WAWebActionToast.react").genId();f=(f=f.toastPosition)!=null?f:"LEFT";var l=e.list;if(!l)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var m=l.reduce(function(a,b){var c=d("WAWebMsgActionCapability").canSenderRevokeMsg(b)||d("WAWebMsgActionCapability").canAdminRevokeMsg(b)||d("WAWebMsgActionCapability").canBotResponseBeRevokeByInvoker(b);b=b.type===d("WAWebMsgType").MSG_TYPE.GROUPS_V4_INVITE&&!d("WAWebMsgGetters").getIsGroupsV4InviteExpired(b)?b:null;return[a[0]||!c,a[1]||b]},[!1,null]),n=m[0];m=m[1];if(n)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());m&&K(a,m);var o=l.length;n=new(d("WAWebActionToast.react").ActionType)(a.isNewsletter?h._("__JHASH__gK2BZoKbZfU__JHASH__",[h._plural(o)]):h._("__JHASH__puyjZ8S5KX7__JHASH__",[h._plural(o)]));e.type==="addon"?m=d("WAWebChatSendMessages").sendRevokeMsgs(a,e,j):a.isNewsletter?m=d("WAWebNewsletterRevokeMsgAction").sendNewsletterRevokeMsgs(a,e.list,j):m=d("WAWebChatSendMessages").sendRevokeMsgs(a,e,j);l=m.then(function(b){var f=b.filter(function(a){return a.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK}).length;if(f>0)throw c("err")(f+" / "+b.length+" dropped");void v(a,e,!0);return new(d("WAWebActionToast.react").ActionType)(a.isNewsletter?h._("__JHASH__JTIWcHCO-t7__JHASH__",[h._plural(o,"number_of_updates")]):h._("__JHASH__lpt7hEvGjFY__JHASH__",[h._plural(o,"count")]))})["catch"](function(b){d("WALogger").WARN(k()).devConsole(b);return d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__om03U1-CRFa__JHASH__",[h._plural(o,"count")])):new(d("WAWebActionToast.react").ActionType)(a.isNewsletter?h._("__JHASH__gK9K8cvGxk2__JHASH__",[h._plural(o,"number_of_updates")]):h._("__JHASH__ZpAmSO5CaCb__JHASH__",[h._plural(o)]))});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:g,toastPosition:f,initialAction:n,pendingAction:l}));return l},M=function(a,b){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizMerchantDetailsEntityTypePopup.react"),{legalEntityDetails:a,onSave:b}),{transition:"modal",uim:f})},N=function(a,b,e,g){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebCountrySelectorPopup.react"),{title:a,countryCode:b,countries:e,onSave:g}),{transition:"modal",uim:f})},O=function(){d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebCommandPalette.react").CommandPaletteModal,{}),{transition:"modal",uim:f})},P=function(a){d("WAWebCurrentUser").isEmployee()&&void c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBugnubV2Popup.react").__setRef("WAWebActionListener").load());return a.openBugNubV2Popup}),"bugnub_v2_popup")().then(function(b){b(a)})},Q=function(a,b,c,e){d("WAWebDrawerManager").DrawerManager.openDrawerRight(p.jsx(d("WAWebEventInfoFlowLoadable").EventInfoFlowLoadable,{chat:a,msg:b,onBack:c,onEnd:e},"event-info-drawer-"+b.id.toString()),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})};(a=d("useWAWebListener")).useListener((e=d("WAWebCmd")).Cmd,["mute_all"],y);a.useListener(e.Cmd,["mute_chat"],w);a.useListener(e.Cmd,["mute_chat_multiselect"],u);a.useListener(e.Cmd,["mute_chat_from_entrypoint"],o);a.useListener(e.Cmd,["archive_chat"],F);a.useListener(e.Cmd,["archive_chat_from_entrypoint"],E);a.useListener(e.Cmd,["clear_chat"],D);a.useListener(e.Cmd,["mark_chat_unread"],G);a.useListener(e.Cmd,["pin_chat"],B);a.useListener(e.Cmd,["assign_chat"],I);a.useListener(e.Cmd,["favorite_chat"],C);a.useListener(e.Cmd,["send_star_msgs"],s);a.useListener(e.Cmd,["send_unstar_msgs"],t);a.useListener(e.Cmd,["send_delete_msgs"],J);a.useListener(e.Cmd,["send_revoke_msgs"],L);a.useListener(e.Cmd,["delete_or_exit_chat"],A);a.useListener(e.Cmd,["delete_or_exit_chat_from_entrypoint"],z);a.useListener(e.Cmd,["product_image_viewer_modal"],j);a.useListener(e.Cmd,["mute_all"],y);a.useListener(e.Cmd,["attach_product"],g);a.useListener(e.Cmd,["show_country_selector_popup"],N);a.useListener(e.Cmd,"show_merchant_details_entity_type_popup",M);a.useListener(e.Cmd,["open_groups_v4_invite_request_flow"],m);a.useListener(e.Cmd,["open_profile"],n);a.useListener(e.Cmd,["open_command_palette"],O);c("useWAWebCommunityActionListeners")();c("WAWebUseNewsletterActionListeners")();a.useListener(e.Cmd,["trigger_bugreport_v2"],P);a.useListener(e.Cmd,["open_event_info_drawer"],Q);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizAdCreationIconTooltip.react",["fbt","WAWebAdCreationLogger","WAWebNux","WAWebWDSTooltip.react","WAWebWamEnumTooltipAction","react","useWAWebNux","useWAWebOnOutsideClick"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useEffect;function a(a){a=a.refAnchorElement;var b=c("useWAWebNux")(d("WAWebNux").NUX.TOOLTIP_AD_CREATION),e=b[0],f=b[1];b=d("WAWebWDSTooltip.react").useWDSTooltip({target:a,element:k.jsx("div",{className:"xqyf9gi",children:h._("__JHASH__k99FPbeySqt__JHASH__")}),position:d("WAWebWDSTooltip.react").PopoverPosition.Bottom,alignment:d("WAWebWDSTooltip.react").PopoverAlignment.Center});var g=b.tooltip,i=b.showTooltip,j=b.hideTooltip,n=b.tooltipIsVisible,o=a.current;d("useWAWebOnOutsideClick").useOnOutsideClick(a,l(function(a,b){n&&(d("WAWebAdCreationLogger").logAdCreationIconTooltip(d("WAWebWamEnumTooltipAction").TOOLTIP_ACTION.DISMISS),f(),j()),b()},[f,j,n]));m(function(){if(!e)return;var a=function(){d("WAWebAdCreationLogger").logAdCreationIconTooltip(d("WAWebWamEnumTooltipAction").TOOLTIP_ACTION.ENTER_AD_CREATION_FLOW),f(),j()};o==null?void 0:o.addEventListener("mousedown",a);return function(){o==null?void 0:o.removeEventListener("mousedown",a)}},[o,e,f,j]);m(function(){if(!e||o==null||g!=null)return;i()},[f,e,g,o,i,j]);m(function(){if(e&&n){var a=self.setTimeout(function(){if(!n)return;f();j();d("WAWebAdCreationLogger").logAdCreationIconTooltip(d("WAWebWamEnumTooltipAction").TOOLTIP_ACTION.IGNORE)},5e3);return function(){self.clearTimeout(a)}}},[e,n,f,j]);return g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumWebcNavbarItemLabel",[],(function(a,b,c,d,e,f){a=Object.freeze({CHATS:1,COMMUNITIES:2,NEWSLETTERS:3,STATUS:4,STARRED:5,ARCHIVED:6,SETTINGS_HELP:7,SETTINGS:8,PROFILE:9,ADS_CREATION:10,BUSINESS_TOOLS:11});f.WEBC_NAVBAR_ITEM_LABEL=a}),66);
__d("WAWebWebcNavbarWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcNavbarItemLabel"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcNavbar:[5258,{webcNavbarItemLabel:[1,d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL]},[1,1,1],"regular"]},{WebcNavbar:[]});g.WebcNavbarWamEvent=a}),98);
__d("WAWebNavBarLogEvents",["WAWebWebcNavbarWamEvent"],(function(a,b,c,d,e,f,g){function a(a){a=new(d("WAWebWebcNavbarWamEvent").WebcNavbarWamEvent)({webcNavbarItemLabel:a});a.commit()}g.logNavBarEvent=a}),98);
__d("WAWebAdCreationMenuBarItem.react",["fbt","WAWebAdCreationLogger","WAWebBizAdCreationIconTooltip.react","WAWebBusinessAdvertiseOutlineIcon","WAWebChatlistUtils","WAWebMenuBar.react","WAWebNavBarLogEvents","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","WAWebWamEnumLwiEntryPoint","WAWebWamEnumWebcNavbarItemLabel","react","useMergeRefs"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.activeAccountInfo,f=a.iconStyle,g=a.vertical;a=a.ctaText;var i=m(null);b=c("useMergeRefs")(b,i);l(function(){d("WAWebAdCreationLogger").logAdCreationImpression(d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_ICON,e!=="not-linked"&&e.hasFacebookPage)},[e]);a=(a=a)!=null?a:h._("__JHASH__ITHmMGn1hwx__JHASH__");g=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,vertical:g,testid:void 0,icon:k.jsx(d("WAWebBusinessAdvertiseOutlineIcon").BusinessAdvertiseOutlineIcon,{directional:!0,width:26,height:26}),title:a,onClick:function(){d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.ADS_CREATION),d("WAWebChatlistUtils").handleAdCreation({adCreationUrlInput:{activeAccountInfo:e,sourceAdCreation:"whatsapp_smb_web_ad_creation_home_screen_icon"},lwiEntryPoint:d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_ICON})},showHoverTooltip:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()});a=k.jsx(c("WAWebBizAdCreationIconTooltip.react"),{refAnchorElement:i});return k.jsxs("div",{ref:b,className:f,children:[a,g]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebAdEntryPointsConfigurationAction",["Promise","WAWebAdEntryPointsConfigurationModel"],(function(a,b,c,d,e,f,g){var h;function a(a){d("WAWebAdEntryPointsConfigurationModel").notifyAdEntryPointsConfigurationLoaded(a);a.type==="success"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.entryPoints,locale:a.locale}):a.type==="recovery-required"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration("failed-to-load-recovery-required"):(a.type,a.expiredConfiguration!=null&&d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.expiredConfiguration,locale:a.locale}));return(h||(h=b("Promise"))).resolve()}g.loadedAdEntryPointsConfiguration=a}),98);
__d("WAWebCommentAction",["WAAbortError","WALogger","WAWebChatCollection","WAWebCommentCollection","WAWebMsgType","WAWebNotificationBackend"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Comments] Aborted notification ",""]);h=function(){return a};return a}function i(a){return!a.read&&a.parentMsgKey.fromMe&&!a.id.fromMe}function a(a,b){var c=[];b=b?[].concat(b):[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;switch(g.type){case d("WAWebMsgType").MSG_TYPE.REVOKED:c.push(d("WAWebCommentCollection").createCommentModelFromRevoke(g));g.protocolMessageKey!=null&&b.push(g.protocolMessageKey);break;case d("WAWebMsgType").MSG_TYPE.CIPHERTEXT:c.push(d("WAWebCommentCollection").createCommentModelFromPlaceholder(g));break;case d("WAWebMsgType").MSG_TYPE.COMMENT:c.push(d("WAWebCommentCollection").createCommentModel(g))}}d("WAWebCommentCollection").CommentCollection.remove(b);d("WAWebCommentCollection").CommentCollection.set(c,{remove:!1})}function b(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.id,f=c.t;if(e==null)continue;e=d("WAWebChatCollection").ChatCollection.get(e);if(e!=null){e.t=f;e.unreadCount=(f=c.unreadCount)!=null?f:e.unreadCount}}}function c(a,b){for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;i(f)&&d("WAWebNotificationBackend").showCommentNotification(f)["catch"](d("WAAbortError").catchAbort(function(a){d("WALogger").LOG(h(),a)}))}for(f=b,e=Array.isArray(f),c=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(c>=f.length)break;a=f[c++]}else{c=f.next();if(c.done)break;a=c.value}b=a;d("WAWebNotificationBackend").removeCommentNotification(b)}}g.upsertCommentModelCollection=a;g.updateChatToLatest=b;g.handleCommentNotification=c}),98);
__d("WAWebDeleteExpiredPinsJob",["WALogger","WAWebAddonDeleteMsgs","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Expired pins deletion failed"]);h=function(){return a};return a}function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("deleteExpiredPins",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebAddonDeleteMsgs").deleteAddonMsgsByParentKeys({parentMsgKeys:a})}catch(a){d("WALogger").ERROR(h());throw a}})).waitUntilCompleted()}g.deleteExpiredPins=a}),98);
__d("WAWebPinMessageAction",["WALogger","WANullthrows","WAWebDeleteExpiredPinsJob","WAWebMsgGetters","WAWebPinInChatCollection","WAWebPinMsgConstants","WAWebPinMsgGatingUtils","WAWebProtobufsE2E.pb","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins: error deleting expired pins from DB: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins Success"]);i=function(){return a};return a}function j(a){if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.PIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.PIN;else if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.UNPIN;return d("WAWebPinMsgConstants").PIN_STATE.INVALID}function k(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a));a={msgKey:a.id,parentMsgKey:c("WANullthrows")(a.pinParentKey),senderTimestampMs:c("WANullthrows")(a.pinSenderTimestampMs),sender:d("WAWebWidFactory").toUserWid(b),pinType:j(a.pinMessageType),pinExpiryDuration:a.pinExpiryDuration,t:a.t,chatId:d("WAWebWidFactory").toChatWid(a.id.remote),ack:a.ack,read:d("WAWebUserPrefsMeUser").isMeAccount(b)};return a}function a(a,b){var c=new Map(),e=[];for(a of a){var f=k(a);if(f!=null){e.push(f);f=f.msgKey.remote;c.has(f.toString())||c.set(f.toString(),d("WAWebWidFactory").toChatWid(f))}}f=e.map(function(a){return babelHelpers["extends"]({id:d("WAWebPinInChatCollection").getPinInChatId(a.parentMsgKey)},a)});d("WAWebPinInChatCollection").PinInChatCollection.add(f,{merge:!0});a=[];for(f of b){b=d("WAWebPinInChatCollection").PinInChatCollection.getByMsgKey(f);if(b!=null){a.push(b.parentMsgKey);b=b.msgKey.remote;c.has(b.toString())||c.set(b.toString(),d("WAWebWidFactory").toChatWid(b))}}a.length&&d("WAWebPinInChatCollection").PinInChatCollection.remove(a.map(d("WAWebPinInChatCollection").getPinInChatId));for(b of c.values())d("WAWebPinInChatCollection").PinInChatCollection.byChatId(b).filter(function(a){return a.pinType===d("WAWebPinMsgConstants").PIN_STATE.PIN}).sort(function(a,b){return b.senderTimestampMs-a.senderTimestampMs}).slice(d("WAWebPinMsgGatingUtils").getMaxPins()).forEach(function(a){a.pinType=d("WAWebPinMsgConstants").PIN_STATE.UNPIN});return e}function l(a){var b=[],c=[];for(a of a)d("WAWebPinInChatCollection").isPinExpired(a)?c.push(a.parentMsgKey):b.push(a);return{validPins:b,expiredPinParentKeys:c}}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=l(a);var b=a.validPins;a=a.expiredPinParentKeys;if(a.length>0)try{yield d("WAWebDeleteExpiredPinsJob").deleteExpiredPins(a.map(function(a){return a.toString()})),d("WALogger").LOG(i()),a.forEach(function(a){return d("WAWebPinInChatCollection").PinInChatCollection.deleteByParentMessageKey(a)})}catch(a){d("WALogger").ERROR(h(),a)}return b});return m.apply(this,arguments)}g.craftPinMessage=k;g.updatePinCollection=a;g.checkPinExpiration=l;g.seekAndDestroyExpiredPins=e}),98);
__d("WAWebUpsertEventResponsesModelCollectionAction",["WAAckLevel","WANullthrows","WAWebEventResponseCollection","WAWebMsgGetters","WAWebPrepareEventResponsesToUpsert","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a,b){var e=(b||[]).map(function(a){return d("WAWebEventResponseCollection").EventResponseCollection.get(a)}).filter(Boolean),f=[];b=d("WAWebPrepareEventResponsesToUpsert").getNewestEventResponses(a);b.forEach(function(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a)),g=d("WAWebEventResponseCollection").EventResponseCollection.byParent(a.parentMsgKey).findFirst(function(a){a=a.sender;return a.equals(b)});g!=null&&!g.id.equals(a.id)&&e.push(g);f.push(d("WAWebEventResponseCollection").createEventResponseModel(babelHelpers["extends"]({},a,{isSendFailure:a.ack!=null&&a.ack<d("WAAckLevel").ACK.CLOCK&&d("WAWebUserPrefsMeUser").isMeAccount(b)})))});f.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.add(f,{merge:!0});e.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.remove(e)}g.upsertEventResponsesModelCollection=a}),98);
__d("WAWebAddOnsBridgeApi",["WAWebAddOnsUpdateSendStatesAction","WAWebCommentAction","WAWebMarkAddOnsAsReadAction","WAWebPinMessageAction","WAWebPollsPollVoteCollection","WAWebPollsUpsertVotesModelCollectionMsgAction","WAWebReactionsMsgAction","WAWebUpsertEventResponsesModelCollectionAction"],(function(a,b,c,d,e,f,g){a={updateAddOnCollectionAcks:function(a){a=a.updatesByType;d("WAWebAddOnsUpdateSendStatesAction").updateAddOnCollectionsSendStatesAction(a)},upsertVotesModelCollection:function(a){var b=a.votes,c=a.votesToRemove;a=a.restoredFromDb;d("WAWebPollsUpsertVotesModelCollectionMsgAction").upsertVotesModelCollection(b,c,a)},markAddOnsAsReadUi:function(a){a=a.updatedMsgKeys;d("WAWebMarkAddOnsAsReadAction").markAddOnsAsReadUiAction(a)},updatePinCollection:function(a){var b=a.msgs;a=a.removeMsgs;return d("WAWebPinMessageAction").updatePinCollection(b,a)},hasPollVotesInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebPollsPollVoteCollection").PollVoteCollection.getByMsgKey(a))})},handleCommentNotification:function(a){var b=a.comments;a=a.revokes;d("WAWebCommentAction").handleCommentNotification(b,a)},upsertEventResponsesModelCollection:function(a){var b=a.eventResponses;a=a.eventResponsesToRemove;return d("WAWebUpsertEventResponsesModelCollectionAction").upsertEventResponsesModelCollection(b,a)},upsertCommentModelCollection:function(a){var b=a.comments;a=a.commentsToRemove;return d("WAWebCommentAction").upsertCommentModelCollection(b,a)},handleReactionNotification:function(a){a=a.reactions;d("WAWebReactionsMsgAction").handleReactionNotification(a)}};g.AddOnsBridgeApi=a}),98);
__d("WAWebAnimationGroup",["invariant","Promise","WAAbortError","WAPromiseDelays","WAPromiseRaceAbort","WAWebCmd","WAWebIdleTaskRunner","WAWebResizeObserver.react","WAWebSetRefCache","WAWebVelocityAnimate","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k;a=k||d("react");var l=j||(j=c("react"));e=a.Component;var m=a.cloneElement,n={duration:300,easing:[.1,.82,.25,1]};f=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.containerHeight=0,d.$1=[],d.didCancel=!1,d.$2=!1,d.state={children:d.props.children},d.$3=new Map(),d.$4=function(a,b){b?d.$3.set(a,b):d.$3["delete"](a)},d.$5=new(c("WAWebSetRefCache"))(d.$4),d.$10=new Map(),b)||babelHelpers.assertThisInitialized(d)}var f=e.prototype;f.componentWillUnmount=function(){this.$2=!0};f.$6=function(a,b){var c=this;return a.reduce(function(a,d){if(d<b)return a;d=c.$3.get(""+d);return!d?a:a+d.clientHeight},0)};f.$7=function(a,e,f,g){var h,j=this;this.$1[a]&&(this.didCancel=!0,this.$1[a].controller.abort());var k=f>0?[0,f]:[-f,0],l=new AbortController();h=(((h=this.$1[a])==null?void 0:h.promise)||(i||(i=b("Promise"))).resolve()).then(function(){return c("WAWebVelocityAnimate")(e,{translateY:k},n)}).then(function(){return d("WAPromiseDelays").delayMs(100)});h=c("WAPromiseRaceAbort")(h,l.signal).then(function(){if(l.signal.aborted)throw new(d("WAAbortError").AbortError)();f<0&&(!g.includes(a)?e.style.transform="":e.style.opacity="0");return a})["catch"](d("WAAbortError").catchAbort(function(){c("WAWebVelocityAnimate")(e,"stop",!0);e.style.transform="";return!1}))["finally"](function(b){if(j.didCancel)j.didCancel=!1;else{delete j.$1[a];d("WAWebCmd").Cmd.setUiBusy(!1);return b}});this.$1[a]={promise:h,controller:l};return h};f.$8=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(!a)return(i||(i=b("Promise"))).resolve(new Set());var d=[],e=a.slice(-1);e=e[0];for(var f=0;f<=e;++f){var g=this.$3.get(""+f);if(!g)continue;d.push(this.$7(f,g,(c?1:-1)*this.$6(a,f),a))}g=(yield (i||(i=b("Promise"))).all(d));return new Set(g.reduce(function(a,b){b!==!1&&a.push(b);return a},[]))});function c(b,c){return a.apply(this,arguments)}return c}();f.$9=function(a,b){if(!a.length||!this.props.onHeightChange)return;this.props.onHeightChange((b?1:-1)*this.$6(a,0))};e.getDerivedStateFromProps=function(a,b){var c=a.children;a=b.children;b=!1;a=a.map(function(a,d){d=(d=c[d])!=null?d:a;d!==a&&(b=!0);return d});return b?{children:a}:null};f.componentDidUpdate=function(a,b){var c=this,e=this.state.children;b=b.children;e.length===b.length&&this.props.children.length===e.length||h(0,56374);b=e.map(function(a,b){return b});e=b.filter(function(b){return c.props.children[b]!=null&&a.children[b]==null});b=b.filter(function(b){return c.props.children[b]==null&&a.children[b]!=null});b.length>0&&(b.forEach(function(){c.busyId=d("WAWebIdleTaskRunner").UIBusyTasks.setBusy(c.busyId),d("WAWebCmd").Cmd.setUiBusy(!0)}),this.$9(b,!1),this.$8(b,!1).then(function(a){if(c.$2)return;if(a.size===0)return;c.setState(function(b){b=b.children.map(function(b,c){return a.has(c)?null:b});return{children:b}},function(){d("WAWebIdleTaskRunner").UIBusyTasks.decBusy(c.busyId)})}));e.length>0&&(e.forEach(function(){c.busyId=d("WAWebIdleTaskRunner").UIBusyTasks.setBusy(c.busyId),d("WAWebCmd").Cmd.setUiBusy(!0)}),this.$9(e,!0),this.$8(e,!0).then(function(){d("WAWebIdleTaskRunner").UIBusyTasks.decBusy(c.busyId)}))};f.componentDidMount=function(){var a=this,b=this.state.children.reduce(function(b,c,d){c=a.$3.get(""+d);if(!c)return b;c.style.transform="translateY(0)";return b+c.clientHeight},0);this.props.onHeightChange(b,!0)};f.$11=function(a){var b=this,c=this.$10.get(a);if(c)return c;c=this.$3.get(""+a);var d=c?c.clientHeight:0;c=function(a){a=a.height;if(!d||!a||a===d){d=a;return}b.props.onHeightChange(a-d);d=a};this.$10.set(a,c);return c};f.$12=function(a,b){if(!a)return a;var c=this.$5.getRefSetter(""+b);b=function(b){c(b);var d=a.ref;if(!d)return;typeof d==="function"?d(b):d.current=b};return m(a,{ref:b})};f.render=function(){var a=this;return this.state.children.map(function(b,d){return l.jsx(c("WAWebResizeObserver.react"),{onResize:a.$11(d),children:a.$12(b,d)},"."+d)})};return e}(e);g["default"]=f}),98);
__d("WAWebAnimationGroupItem.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=a.children;return i.jsx("div",{ref:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";d=b;g["default"]=d}),98);
__d("WAWebAttachMediaFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAttachMediaFlow.react").__setRef("WAWebAttachMediaFlowLoadable").load());return a}),"AttachMediaFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.AttachMediaFlowLoadable=d}),98);
__d("WAWebAttachMenuPopupItem.react",["WAWebDropdownItem.react","WAWebFlex.react","WAWebTag.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{cursor:"x1ypdohk",height:"x1vqgdyp",$$css:!0},icon:{minWidth:"xt4ypqs",$$css:!0}};function a(a){var b=a.action,e=a.testid;e=a.icon;var f=a.text,g=a.children;a=a.showcase;a=a===void 0?!1:a;return j.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.horiz8),children:j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,type:"attach-menu-popup",children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[k.container,d("WAWebUISpacing").uiMargin.start8,d("WAWebUISpacing").uiMargin.end32],children:[j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[k.icon,d("WAWebUISpacing").uiMargin.end12],children:e}),j.jsx("span",{className:"xdod15v xzwifym x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:f}),g,a?j.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.start8),children:j.jsx(d("WAWebTag.react").Tag,{theme:d("WAWebTag.react").TagTheme.PrimaryPill,children:j.jsx("span",{children:"New"})})}):void 0]})})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItem=a}),98);
__d("WAWebAttachMenuStrings",["fbt","WAWebBizGatingUtils"],(function(a,b,c,d,e,f,g,h){a=function(){return h._("__JHASH__vBBzBdxVAUq__JHASH__")};b=function(){return h._("__JHASH__GA0RDhsuo7p__JHASH__")};c=function(){return h._("__JHASH__W2r7MD1wI_x__JHASH__")};e=function(){return h._("__JHASH__E9ENGkXmHBW__JHASH__")};f=function(){return d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__bdV_YEjX9wV__JHASH__"):h._("__JHASH__i9gnkBhzxGe__JHASH__")};var i=function(){return h._("__JHASH__vWL3pR6QPV0__JHASH__")},j=function(){return h._("__JHASH__EQCv9IbBguC__JHASH__")},k=function(){return h._("__JHASH__wwViWu-hrcH__JHASH__")},l=function(){return h._("__JHASH__4vFEWcdb4Fe__JHASH__")},m=function(){return h._("__JHASH__tVhGIzG6OEY__JHASH__")},n=function(){return h._("__JHASH__lDY4sfdE2KU__JHASH__")};g.CameraText=a;g.CatalogText=b;g.ContactText=c;g.DocumentText=e;g.OrderText=f;g.PhotosAndVideosText=i;g.PollText=j;g.QuickRepliesText=k;g.StickerMakerText=l;g.AudioText=m;g.EventText=n}),226);
__d("WAWebWamEnumActionThreadTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_CHAT:1,P2P_THREAD:2,MESSAGE_YOURSELF:3,META_AI:4,TO_CHARACTER:5,TO_UGC:6});f.ACTION_THREAD_TYPE_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionTargetType",[],(function(a,b,c,d,e,f){a=Object.freeze({ATTACHMENT_TRAY:1,DOCUMENT:2,CAMERA:3,CAMERA_LIBRARY:4,GALLERY:5,PHOTO_AND_VIDEO_LIBRARY:6,AUDIO:7,LOCATION:8,CONTACT:9,POLL:10,PAYMENT:11,SHOP:12,ORDER:13,CATALOG:14,QUICK_REPLY:15,STICKER_MAKER:16,IMAGINE_EDIT:17});f.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:1,SEND:2,CANCEL:3});f.ATTACHMENT_TRAY_ACTION_TYPE=a}),66);
__d("WAWebWamEnumSendMediaTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTO:1,VIDEO:2,MIXED:3});f.SEND_MEDIA_TYPE_TYPE=a}),66);
__d("WAWebAttachmentTrayActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionThreadTypeType","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamEnumClientGroupSizeBucket","WAWebWamEnumSendMediaTypeType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({AttachmentTrayActions:[3980,{actionDurationMs:[1,a.TYPES.INTEGER],actionThreadType:[9,d("WAWebWamEnumActionThreadTypeType").ACTION_THREAD_TYPE_TYPE],attachmentTrayAction:[2,d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE],attachmentTrayActionTarget:[3,d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE],groupSizeBucket:[4,d("WAWebWamEnumClientGroupSizeBucket").CLIENT_GROUP_SIZE_BUCKET],isAGroup:[5,a.TYPES.BOOLEAN],isSuccessful:[6,a.TYPES.BOOLEAN],sendMediaType:[7,d("WAWebWamEnumSendMediaTypeType").SEND_MEDIA_TYPE_TYPE],sendTime:[8,a.TYPES.INTEGER]},[1,1,1],"regular"]},{AttachmentTrayActions:[]});g.AttachmentTrayActionsWamEvent=b}),98);
__d("WAWebAttachmentMenuLogger",["$InternalEnum","WANullthrows","WAWebABProps","WAWebAttachmentTrayActionsWamEvent","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamNumberToClientGroupSizeBucket"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["OPEN","CLOSE"]),i=b("$InternalEnum").Mirrored(["SEND","CANCEL"]);a=function(){function a(){this.$1=null}var b=a.prototype;b.logAttachmentMenuOpen=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.OPEN,a),{actionDurationMs:0}));this.$2();m()&&a.commit()};b.logAttachmentMenuClose=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.CLOSE,a),{actionDurationMs:this.$3()}));this.$2();m()&&a.commit()};b.logAttachMenuClick=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK},l(a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentSend=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.SEND,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentCancel=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.CANCEL,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.$2=function(){this.$1=Date.now()};b.$3=function(){return Date.now()-c("WANullthrows")(this.$1)};return a}();function j(a,b){return babelHelpers["extends"]({attachmentTrayActionTarget:d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE.ATTACHMENT_TRAY,attachmentTrayAction:a===h.OPEN?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(b))}function k(a,b,c){return babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:a===i.SEND?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.SEND:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(c))}function l(a){return{isAGroup:a.isGroup,groupSizeBucket:a.isGroup?c("WAWebWamNumberToClientGroupSizeBucket")(a.getParticipantCount()):void 0}}function m(){return d("WAWebABProps").getABPropConfigValue("attachment_tray_logging_enabled")}e=new a();g.AttachmentMenuTarget=d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE;g.AttachmentMenuLogger=e}),98);
__d("WAWebAttachMenuPopupItemAudio.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebMsgAudioIcon","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={icon:{color:"x10wjepd",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.multiple,g=a.onMediaPick,h=k();a=function(a){a.preventDefault();if(h.current!=null){h.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO);return!1}return!0};var i=function(a){if(!a){e();return}a.preventDefault();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;g(a.map(function(a){return{file:a}}))};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j.jsx(d("WAWebMsgAudioIcon").MsgAudioIcon,{height:20,width:20,iconXstyle:l.icon}),text:d("WAWebAttachMenuStrings").AudioText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:h,mimes:d("WAWebMimeTypes").AUDIO_MIMES,onChange:i,multiple:f})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemAudio=a}),98);
__d("WAWebAttachMenuPopupItemCamera.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,c=a.onCaptureClick;a=function(){c();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsxs("svg",{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9.9999 13.04C8.16657 13.04 6.67479 11.5482 6.67479 9.71486C6.67479 7.88153 8.16657 6.38976 9.9999 6.38976C11.8332 6.38976 13.325 7.88153 13.325 9.71486C13.325 11.5482 11.8332 13.04 9.9999 13.04Z",fill:"var(--attachment-type-camera-color)"}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.606 1.6763C14.9347 2.23849 15.5121 2.60821 16.1634 2.60821H16.2429C18.3177 2.60821 20 4.29014 20 6.36531V14.8157C20 16.8902 18.3177 18.5725 16.2429 18.5725H3.7571C1.68226 18.5725 0 16.8902 0 14.8157V6.36531C0 4.29014 1.68226 2.60821 3.7571 2.60821H3.83661C4.48792 2.60821 5.06535 2.23849 5.39398 1.6763C5.98035 0.673833 7.06697 0 8.3126 0H11.6874C12.933 0 14.0193 0.673833 14.606 1.6763ZM9.9999 4.73333C7.25322 4.73333 5.01837 6.96818 5.01837 9.71486C5.01837 12.4615 7.25322 14.6964 9.9999 14.6964C12.7466 14.6964 14.9814 12.4615 14.9814 9.71486C14.9814 6.96818 12.7466 4.73333 9.9999 4.73333Z",fill:"var(--attachment-type-camera-color)"})]}),text:d("WAWebAttachMenuStrings").CameraText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCamera=a}),98);
__d("WAWebAttachProductModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizAttachProductModal.react").__setRef("WAWebAttachProductModalLoadable").load());return a}),"AttachProductModal");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__g_Xg1UUzHmM__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachProductModalLoadable=d}),226);
__d("WAWebAttachMenuPopupItemCatalog.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachProductModalLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPrepareMessageSendingAction","WAWebProductCatalogLogEvents","WAWebProductCatalogSession","WAWebUtilsLogQplEvents","react","useLazyRef"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,e=c("useLazyRef")(function(){return new(d("WAWebProductCatalogSession").ProductCatalogSession)()});a=function(a){a.preventDefault();a=e.current.toString();if(a==null)return!0;d("WAWebProductCatalogLogEvents").logCatalogAttachmentButtonClick(a);d("WAWebUtilsLogQplEvents").qplStartCatalogView("Attachment");d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachProductModalLoadable").AttachProductModalLoadable,{chat:b,sessionId:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00007 2H17.0001C17.5501 2 18.0001 1.55 18.0001 1C18.0001 0.45 17.5501 0 17.0001 0H3.00007C2.45007 0 2.00007 0.45 2.00007 1C2.00007 1.55 2.45007 2 3.00007 2ZM18.1601 3.8C18.0701 3.34 17.6601 3 17.1801 3H2.82007C2.34007 3 1.93007 3.34 1.84007 3.8L0.840074 8.8C0.720074 9.42 1.19007 10 1.82007 10H2.00007V15C2.00007 15.55 2.45007 16 3.00007 16H11.0001C11.5501 16 12.0001 15.55 12.0001 15V10H16.0001V15C16.0001 15.55 16.4501 16 17.0001 16C17.5501 16 18.0001 15.55 18.0001 15V10H18.1801C18.8101 10 19.2801 9.42 19.1601 8.8L18.1601 3.8ZM4.00007 14H10.0001V10H4.00007V14Z",fill:"var(--attachment-type-catalog-color)"})}),text:d("WAWebAttachMenuStrings").CatalogText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCatalog=a}),98);
__d("WAWebAttachVcardsFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAttachVcardsFlow.react").__setRef("WAWebAttachVcardsFlowLoadable").load());return a}),"AttachVcardsFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__0FKlgfRZkxG__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachVcardsFlowLoadable=d}),226);
__d("WAWebAttachMenuPopupItemContacts.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachVcardsFlowLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,c=a.onMenuComplete;a=function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachVcardsFlowLoadable").AttachVcardsFlowLoadable,{chat:b,onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)},onContactsSent:function(){c==null?void 0:c(!0,{initCaptionUsed:!1}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C12 6.21 10.21 8 8 8C5.79 8 4 6.21 4 4C4 1.79 5.79 0 8 0C10.21 0 12 1.79 12 4ZM0 14C0 11.34 5.33 10 8 10C10.67 10 16 11.34 16 14V15C16 15.55 15.55 16 15 16H1C0.45 16 0 15.55 0 15V14Z",fill:"var(--attachment-type-contacts-color)"})}),text:d("WAWebAttachMenuStrings").ContactText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemContacts=a}),98);
__d("WAWebAttachMenuPopupItemDocuments.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebFileUtils","WAWebMimeTypes","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function a(a){var b=a.chat,e=a.dismissMenu,f=a.onDocumentPick,g=k();a=function(a){a.preventDefault();if(g.current){g.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT);return!1}return!0};var h=function(a){a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;a=a.map(function(a){return{file:a,type:d("WAWebFileUtils").FILETYPE.DOCUMENT}});f(a)};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j.jsx("svg",{height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0C0.9 0 0.01 0.9 0.01 2L0 18C0 19.1 0.89 20 1.99 20H14C15.1 20 16 19.1 16 18V6.83C16 6.3 15.79 5.79 15.41 5.42L10.58 0.59C10.21 0.21 9.7 0 9.17 0H2ZM9 6V1.5L14.5 7H10C9.45 7 9 6.55 9 6ZM4 10C3.44772 10 3 10.4477 3 11C3 11.5523 3.44772 12 4 12H12C12.5523 12 13 11.5523 13 11C13 10.4477 12.5523 10 12 10H4ZM10 15C10 14.4477 9.55228 14 9 14H4C3.44772 14 3 14.4477 3 15C3 15.5523 3.44772 16 4 16H9C9.55228 16 10 15.5523 10 15Z",fill:"var(--attachment-type-documents-color)"})}),text:d("WAWebAttachMenuStrings").DocumentText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").DOC_MIMES,onChange:h})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemDocuments=a}),98);
__d("WAWebCalendarFilledIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="calendar-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=20;m=18;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 18 20",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.4306 15.8334C10.75 15.8334 10.1748 15.5984 9.70486 15.1285C9.23495 14.6586 9 14.0834 9 13.4028C9 12.7223 9.23495 12.147 9.70486 11.6771C10.1748 11.2072 10.75 10.9723 11.4306 10.9723C12.1111 10.9723 12.6863 11.2072 13.1562 11.6771C13.6262 12.147 13.8611 12.7223 13.8611 13.4028C13.8611 14.0834 13.6262 14.6586 13.1562 15.1285C12.6863 15.5984 12.1111 15.8334 11.4306 15.8334ZM2.19444 19.7223C1.65972 19.7223 1.20197 19.5319 0.821181 19.1511C0.440394 18.7703 0.25 18.3126 0.25 17.7778V4.16672C0.25 3.632 0.440394 3.17424 0.821181 2.79346C1.20197 2.41267 1.65972 2.22228 2.19444 2.22228H3.16667V1.25005C3.16667 0.974591 3.25984 0.743688 3.44618 0.557346C3.63252 0.371003 3.86343 0.277832 4.13889 0.277832C4.41435 0.277832 4.64525 0.371003 4.8316 0.557346C5.01794 0.743688 5.11111 0.974591 5.11111 1.25005V2.22228H12.8889V1.25005C12.8889 0.974591 12.9821 0.743688 13.1684 0.557346C13.3547 0.371003 13.5856 0.277832 13.8611 0.277832C14.1366 0.277832 14.3675 0.371003 14.5538 0.557346C14.7402 0.743688 14.8333 0.974591 14.8333 1.25005V2.22228H15.8056C16.3403 2.22228 16.798 2.41267 17.1788 2.79346C17.5596 3.17424 17.75 3.632 17.75 4.16672V17.7778C17.75 18.3126 17.5596 18.7703 17.1788 19.1511C16.798 19.5319 16.3403 19.7223 15.8056 19.7223H2.19444ZM2.19444 17.7778H15.8056V8.05561H2.19444V17.7778Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CalendarFilledIcon=a}),98);
__d("WAWebAttachMenuPopupItemEvents",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebCalendarFilledIcon","WAWebEventsCreateEventModal","WAWebModalManager","WAWebNux","WAWebPrepareMessageSendingAction","react","useWAWebNux"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j={icon:{color:"xkgndj",$$css:!0}};function a(a){var b=a.chat;a=c("useWAWebNux")(d("WAWebNux").NUX.EVENT_CREATE);var e=a[0],f=a[1];function g(a){a.preventDefault();f();d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebEventsCreateEventModal"),{chat:b}),{blockClose:!0});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);return!0}return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:g,icon:i.jsx(d("WAWebCalendarFilledIcon").CalendarFilledIcon,{iconXstyle:j.icon,height:20,"aria-hidden":!0}),text:d("WAWebAttachMenuStrings").EventText(),showcase:e})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemEvents=a}),98);
__d("WAWebAttachMenuPopupItemOrders.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebBizEntryPoint","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebDrawerManager","WAWebModalManager","WAWebOrderCreationFlowLoadable","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrdersExpansionUtils","WAWebSmbDataSharingOptInModalDialog","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;a=function(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_ORDER_FROM_ICON_MENU,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_CREATION),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").MERCHANT_INITIATED),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser()))}).commit();var a=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:c("WAWebBizEntryPoint").MERCHANT_INITIATED,chat:b,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)}}),{transition:"slide-left"}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(b,a,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.NEW_ORDER);return!0};var e=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(b)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(b);e||(a=function(){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:b}));return!1});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx("svg",{opacity:e?1:.3,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M20 3.29721C19.8845 3.29721 19.7689 3.34169 19.6889 3.43055L18.9867 4.13282C18.8089 4.31055 18.5333 4.31055 18.3555 4.13282L17.6533 3.43055C17.4755 3.25282 17.2 3.25282 17.0222 3.43055L16.32 4.13282C16.1422 4.31055 15.8667 4.31055 15.6889 4.13282L14.9867 3.43055C14.8089 3.25282 14.5333 3.25282 14.3555 3.43055L13.6533 4.13282C13.4755 4.31055 13.2 4.31055 13.0222 4.13282L12.32 3.43055C12.1422 3.25282 11.8667 3.25282 11.6889 3.43055L10.9867 4.13282C10.8089 4.31055 10.5333 4.31055 10.3555 4.13282L9.64447 3.42168C9.46667 3.24388 9.19114 3.24388 9.01333 3.42168L8.31114 4.13282C8.13333 4.31055 7.85781 4.31055 7.68 4.13282L6.97781 3.42168C6.8 3.24388 6.52447 3.24388 6.34667 3.42168L5.64447 4.13282C5.46667 4.31055 5.19114 4.31055 5.01333 4.13282L4.31114 3.42168C4.23114 3.34168 4.11553 3.29721 4 3.29721V20.7106C4.11553 20.7106 4.23114 20.6662 4.31114 20.5772L5.01333 19.875C5.19114 19.6972 5.46667 19.6972 5.64447 19.875L6.34667 20.5772C6.52447 20.755 6.8 20.755 6.97781 20.5772L7.68 19.875C7.85781 19.6972 8.13333 19.6972 8.31114 19.875L9.01333 20.5772C9.19114 20.755 9.46667 20.755 9.64447 20.5772L10.3467 19.875C10.5245 19.6972 10.8 19.6972 10.9778 19.875L11.68 20.5772C11.8578 20.755 12.1333 20.755 12.3111 20.5772L13.0133 19.875C13.1911 19.6972 13.4667 19.6972 13.6445 19.875L14.3467 20.5772C14.5245 20.755 14.8 20.755 14.9778 20.5772L15.68 19.875C15.8578 19.6972 16.1333 19.6972 16.3111 19.875L17.0133 20.5772C17.1911 20.755 17.4667 20.755 17.6445 20.5772L18.3467 19.875C18.5245 19.6972 18.8 19.6972 18.9778 19.875L19.68 20.5772C19.7689 20.6662 19.8845 20.7106 19.9911 20.7106V3.29721H20ZM16.4445 16.4439H7.55553C7.06667 16.4439 6.66667 16.0439 6.66667 15.555C6.66667 15.0662 7.06667 14.6662 7.55553 14.6662H16.4445C16.9333 14.6662 17.3333 15.0662 17.3333 15.555C17.3333 16.0439 16.9333 16.4439 16.4445 16.4439ZM16.4445 12.8884H7.55553C7.06667 12.8884 6.66667 12.4884 6.66667 11.9995C6.66667 11.5106 7.06667 11.1106 7.55553 11.1106H16.4445C16.9333 11.1106 17.3333 11.5106 17.3333 11.9995C17.3333 12.4884 16.9333 12.8884 16.4445 12.8884ZM16.4445 9.33283H7.55553C7.06667 9.33283 6.66667 8.93283 6.66667 8.44388C6.66667 7.95502 7.06667 7.55502 7.55553 7.55502H16.4445C16.9333 7.55502 17.3333 7.95502 17.3333 8.44388C17.3333 8.93283 16.9333 9.33283 16.4445 9.33283Z",fill:"var(--attachment-type-orders-color)"})}),text:d("WAWebAttachMenuStrings").OrderText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemOrders=a}),98);
__d("WAWebAttachMenuPopupItemPhotos.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l=[d("WAWebMimeTypes").IMAGE_MIMES,d("WAWebMimeTypes").VIDEO_MIMES].join(",");function a(a){var b=a.chat,e=a.dismissMenu,f=a.multiple,g=a.onMediaPick,h=k();a=function(a){a.preventDefault();if(h.current!=null){h.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY);return!1}return!0};var i=function(a){if(!a){e();return}a.stopPropagation();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;g(a.map(function(a){return{file:a}}))};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14V2C20 0.9 19.1 0 18 0H6C4.9 0 4 0.9 4 2V14C4 15.1 4.9 16 6 16H18C19.1 16 20 15.1 20 14ZM9.4 10.53L11.03 12.71L13.61 9.49C13.81 9.24 14.19 9.24 14.39 9.49L17.35 13.19C17.61 13.52 17.38 14 16.96 14H7C6.59 14 6.35 13.53 6.6 13.2L8.6 10.53C8.8 10.27 9.2 10.27 9.4 10.53ZM0 18V5C0 4.45 0.45 4 1 4C1.55 4 2 4.45 2 5V17C2 17.55 2.45 18 3 18H15C15.55 18 16 18.45 16 19C16 19.55 15.55 20 15 20H2C0.9 20 0 19.1 0 18Z",fill:"var(--attachment-type-photos-color)"})}),text:d("WAWebAttachMenuStrings").PhotosAndVideosText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:h,mimes:l,onChange:i,multiple:f})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPhotos=a}),98);
__d("WAWebPollsOptionInput",["fbt","WAWebPollsGatingUtils","WAWebRichTextField.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.error,c=a.initialText,e=a.onChange,f=a.onDragThumbMouseDown,g=a.onInputBlur,i=a.onInputFocus,k=a.onTextInputRef;a=a.testid;return j.jsx("div",{className:"xh8yej3",children:j.jsx("div",{className:"xh8yej3 x78zum5 x6s0dn4",children:j.jsx("div",{className:"xh8yej3",children:j.jsx(d("WAWebRichTextField.react").RichTextField,{ref:function(a){k(a)},testid:void 0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",textFormatEnabled:!0,value:c,error:(a=b)!=null?a:void 0,maxLength:d("WAWebPollsGatingUtils").getMaxPollOptionLength(),maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollOptionLengthForIncomingMessages(),placeholder:h._("__JHASH__8-OxKwrJ4aw__JHASH__"),onChange:function(a){a=a.text;return e(a)},onDragThumbMouseDown:f,onFocus:i,onBlur:g})})})})}a.displayName=a.name+" [from "+f.id+"]";g.OptionInput=a}),226);
__d("WAWebPollsOrderableList",["WANullthrows","react","stylex","useLazyRef","useWAWebDebouncedCallback","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={itemWrapper:{width:"xh8yej3",$$css:!0},itemWrapperEasing:{transitionProperty:"x11xpdln",transitionDuration:"x13dflua",transitionTimingFunction:"xz4gly6",$$css:!0}};function a(a){var b=a.items,e=a.renderItem,f=a.onReordered,g=m(null),h=c("useLazyRef")(function(){return new Map()}),j=m(0);a=n();var l=a[0],r=a[1];a=n(null);var s=a[0],t=a[1];a=n(null);var u=a[0],v=a[1];a=n(null);var w=a[0],x=a[1],y=w!=null,z=w==null||u==null||l==null?b:p({items:w,draggedItemKey:s,getItemHeight:function(a){return(a=(a=l.get(a.key))==null?void 0:a.height)!=null?a:0},dragPosition:u}),A=function(a){var b=g.current;if(b==null)return null;var c=h.current;c=c.get(a);if(c==null)return null;a=b.getBoundingClientRect().y;b=c.getBoundingClientRect();return{clientTop:b.top,startTop:b.top-a,height:b.height}},B=function(){var a=new Map();for(var c=b,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.set(f.key,A(f.key))}r(a)};a=function(a){var b=g.current;if(b==null)return;a=a.clientY-b.getBoundingClientRect().y;v(a)};d("useWAWebListener").useListener(s==null?null:document,"mousemove",a);var C=c("useWAWebDebouncedCallback")(function(){x(null),r(null)},300),D=function(a,c){var d;if(w!=null)return;d=(d=A(a))==null?void 0:d.clientTop;if(d==null)return;j.current=d-c.clientY;B();t(a);x(b)};d("useWAWebListener").useListener(s==null?null:document,"mouseup",function(a){C(),f(z),t(null),v(null)});q(s!=null);var E=null,F=0,G=0;if(l!=null){E=new Map();a=0;for(var H=z,I=Array.isArray(H),J=0,H=I?H:H[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(I){if(J>=H.length)break;K=H[J++]}else{J=H.next();if(J.done)break;K=J.value}K=K;var L=l.get(K.key);if(L==null)continue;var M=a;E.set(K.key,M);F=M;a+=L.height}}M=((K=w)!=null?K:b).map(function(b,d){var a=l==null?void 0:l.get(b.key);if(b.key===s&&u!=null){var f,g=c("WANullthrows")(a==null?void 0:a.startTop);f=(f=j.current)!=null?f:0;f=Math.min(Math.max(G,u+f),F);f=f-g}else{g=a==null?void 0:a.startTop;a=(a=E)==null?void 0:a.get(b.key);f=!y||a==null||g==null?0:a-g}return k.jsx("div",{ref:function(a){a==null?h.current["delete"](b.key):h.current.set(b.key,a)},className:(i||(i=c("stylex")))(o.itemWrapper,s!==b.key&&y?o.itemWrapperEasing:void 0),style:{transform:"translateY("+f+"px)"},children:e({item:b,startDrag:D,index:d})},b.key)});return k.jsx("div",{ref:g,className:"x78zum5 xdt5ytf",children:M})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.items,c=a.draggedItemKey,d=a.getItemHeight;a=a.dragPosition;var e=c!=null?b.find(function(a){return a.key===c}):null;if(e==null||a==null)return b;var f=[].concat(b),g=f.findIndex(function(a){return a.key===c});f.splice(g,1);g=0;var h=0,i=0;for(var b=b,j=Array.isArray(b),k=0,b=j?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=b.length)break;l=b[k++]}else{k=b.next();if(k.done)break;l=k.value}l=l;a>g&&(i=h);l=d(l);g+=l;h++}f.splice(i,0,e);return f}function q(a){l(function(){if(!a)return;var b=document;b=b.body;if(b==null)return;var c=document.createElement("div");c.className="xi9pz9s xixxii4 x13vifvy x17qophe xh8yej3 x5yr21d x1lfen1e";b.appendChild(c);return function(){c.remove()}},[a])}g.OrderableList=a}),98);
__d("WAXplatTrim",[],(function(a,b,c,d,e,f){"use strict";var g=new Set(["\0","\t","\n","\v","\f","\r"," ","\x85","\xa0","\u1680","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200a","\u200b","\u2028","\u2029","\u202f","\u205f","\u3000"]);a=function(a){return h(a,!0,!0)};b=function(a){return h(a,!0,!1)};c=function(a){return h(a,!1,!0)};function h(a,b,c){var d=0,e=a.length;if(b)while(d<e&&g.has(a.charAt(d)))d++;if(c){c=b?d:-1;while(e-1>c&&g.has(a.charAt(e-1)))e--}if(d===e)return"";return d===0&&e===a.length?a:a.slice(d,e)}f.trim=a;f.trimStart=b;f.trimEnd=c}),66);
__d("WAWebPollsSendPollCreationMsgAction",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.poll,f=a.chat;a=a.quotedMsg;a=j({poll:e,chat:f,quotedMsg:a});var g=c("WAWebWid").isNewsletter(f.id);g=g?yield d("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:a,chat:f}):yield (h||(h=b("Promise"))).all(d("WAWebSendMsgChatAction").addAndSendMsgToChat(f,a));a=g[0];d("WAWebPollsActionsMetricUtils").commitPollsActionsMetric({action:d("WAWebWamEnumPollActionType").POLL_ACTION_TYPE.CREATE_POLL,chat:f,creationDateInSeconds:a.t,pollOptionsCount:e.options.length})});return i.apply(this,arguments)}function j(a){var b,e=a.poll,f=a.chat;a=a.quotedMsg;var g=c("WAWebWid").isNewsletter(f.id),h=f.id;b=f.id.isLid()||f.isGroup&&Boolean((b=f.groupMetadata)==null?void 0:b.isLidAddressingMode)?c("WANullthrows")(d("WAWebUserPrefsMeUser").getMaybeMeLidUser()):c("WANullthrows")(d("WAWebUserPrefsMeUser").getMaybeMeUser());a=(a=a==null?void 0:a.msgContextInfo(f.id))!=null?a:{};return babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({from:b,to:h,id:c("WAWebMsgKey").newId_DEPRECATED(),participant:f.isGroup?d("WAWebWidFactory").toUserWid(b):void 0,selfDir:"out"}),type:d("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:d("WAWebMsgType").MsgKind.PollCreation,isSentCagPollCreation:f.isCAG?!0:void 0,t:d("WATimeUtils").unixTime(),from:b,to:h,isNewMsg:!0,local:!0,ack:d("WAWebAck").ACK.CLOCK,pollName:d("WAXplatTrim").trim(e.name),pollOptions:e.options.map(function(a,b){a=a.name;return{name:d("WAXplatTrim").trim(a),localId:b}}),messageSecret:g?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:e.selectableOptionsCount},a,d("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(f))}g.sendPollCreation=a;g.createPollCreationMsg=j}),98);
__d("WAWebPollsCreatePollModal",["fbt","WAWebAttachmentMenuLogger","WAWebBizBotTosUtils","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebPollsActionsMetricUtils","WAWebPollsGatingUtils","WAWebPollsOptionInput","WAWebPollsOrderableList","WAWebPollsSendPollCreationMsgAction","WAWebRichTextField.react","WAWebRound.react","WAWebSendIcon","WAWebSwitch.react","WAWebUISpacing","WAXplatTrim","asyncToGeneratorRuntime","react","stylex","useLazyRef","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useLayoutEffect,o=e.useMemo,p=e.useRef,q=e.useState,r=2,s={bodyContainer:{boxSizing:"x9f619",width:"xs8rnei",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},sectionTitle:{fontSize:"xlm9qay",fontWeight:"xk50ysn",$$css:!0},maxOptionsHint:{fontSize:"x1nxh6w3",$$css:!0},maxOptionsHintHidden:{visibility:"xlshs6z",$$css:!0},createPollButtonContainer:{width:"xh8yej3",display:"x78zum5",justifyContent:"x13a6bvl",height:"xwvwv9b",backgroundColor:"x1jn9dgz",$$css:!0},optionsContainer:{overflowY:"x1odjw0f",$$css:!0},drawer:{backgroundColor:"xtx9xyc",$$css:!0},sendButton:{transform:"x1cb1t30",marginEnd:"xktsk01",marginLeft:null,marginRight:null,transitionProperty:"xs2xxs2",transitionDuration:"x1d8287x",$$css:!0},singleOptionContainer:{display:"x78zum5",alignItems:"x6s0dn4",width:"xh8yej3",fontSize:"x1jchvi3",lineHeight:"xdod15v",$$css:!0},singleOptionLabel:{width:"xh8yej3",display:"x1rg5ohu",cursor:"x1ypdohk",$$css:!0}};function a(a){var e=a.chat,f=a.getComposeBoxEditorRef;a=c("useLazyRef")(function(){var a;return d("WAWebPollsGatingUtils").isPrefillPollQuestionEnabled()?(a=(a=f())==null?void 0:a.getTextContent())!=null?a:"":""}).current;var g=q(a),i=g[0],k=g[1];g=q(!1);var t=g[0],u=g[1];g=q(!1);var y=g[0],z=g[1],A=d("WAWebPollsGatingUtils").getMaxPollOptionCount();g=q(function(){return v([],{maxOptionsCount:A})});var B=g[0],C=g[1],D=p(new Map()),E=p(null),F=function(a,b){C(v(a,{maxOptionsCount:A,focusedKey:b}))};m(function(){d("WAWebPollsActionsMetricUtils").commitPollOpenCreationModal(e)},[]);var G=p(),H=p(B.length);n(function(){var a=E.current,b=H.current,c=B.findIndex(function(a){return a.key===G.current});a!=null&&b<B.length&&c===B.length-2&&B[B.length-1].name===""&&a.scroll({top:a.scrollHeight,behavior:"smooth"});H.current=B.length},[B]);g=function(a){a=a.text;k(a)};var I=B.filter(function(a){return!w(a)}),J=o(function(){return x(B)},[B]);I=d("WAXplatTrim").trim(i).length>0&&I.length>=r&&J.size===0;m(function(){e.isComposingPoll=i.length>0||B.some(function(a){return a.name.length>0})},[e,i,B]);c("useWAWebOnUnmount")(function(){e.isComposingPoll=!1});var K=B[A-2],L=B[A-1];K=B.length===A&&!w(K)&&w(L);var M=p(),N=function(a){a===void 0&&(a=!1),d("WAWebModalManager").ModalManager.close(),a&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)},O=i!==""||B.some(function(a){return a.name!==""}),P=function(){O&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?z(!0):N(!0)};L=function(){O&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?y||z(!0):N(!0)};return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{esc:function(a){a.stopPropagation(),P()}},children:[l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,testid:void 0,onOverlayClick:L,children:l.jsxs(c("WAWebDrawer.react"),{xstyle:s.drawer,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__OPDhp9ykdd3__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:P}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs("div",{className:(j||(j=c("stylex")))(s.bodyContainer,d("WAWebUISpacing").uiPadding.top32),children:[l.jsx("span",{className:"xlm9qay xk50ysn",children:h._("__JHASH__xHxrGB83c4U__JHASH__")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{ref:M,testid:void 0,focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",textFormatEnabled:!0,value:a,maxLength:d("WAWebPollsGatingUtils").getMaxPollNameLength(),maxVisibleLines:5,maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollNameLengthForIncomingMessages(),onChange:g,placeholder:h._("__JHASH__1MzPBVSvr9R__JHASH__")}),l.jsx("span",{className:j(s.sectionTitle,d("WAWebUISpacing").uiMargin.top25),children:h._("__JHASH__0EB0PnAtNqP__JHASH__")}),l.jsx("div",{ref:E,className:j(s.optionsContainer,d("WAWebUISpacing").uiMargin.top2,d("WAWebUISpacing").uiMargin.bottom10),children:l.jsx(d("WAWebPollsOrderableList").OrderableList,{items:B,onReordered:F,renderItem:function(a){var b=a.startDrag,c=a.item,e=a.index;return l.jsx(d("WAWebPollsOptionInput").OptionInput,{initialText:c.name,error:J.get(c.key),testid:void 0,onTextInputRef:function(a){a?D.current.set(c.key,a):D.current["delete"](c.key)},onChange:function(a){var b=[].concat(B);b[e]=babelHelpers["extends"]({},c,{name:a});F(b,c.key)},onDragThumbMouseDown:function(a){if(a.button!==0)return;b(c.key,a)},onInputFocus:function(){G.current=c.key},onInputBlur:function(){G.current=null}})}})}),l.jsx("h3",{"data-testid":void 0,className:j(s.maxOptionsHint,!K&&s.maxOptionsHintHidden),children:h._("__JHASH__zMd54d51ARH__JHASH__")}),d("WAWebPollsGatingUtils").isSingleOptionPollsSendingEnabled(e.id)&&l.jsxs("div",{className:(j||(j=c("stylex")))(s.singleOptionContainer,d("WAWebUISpacing").uiPadding.bottom20),children:[l.jsx("label",{htmlFor:"polls-single-option-switch",className:(j||(j=c("stylex")))(s.singleOptionLabel,d("WAWebUISpacing").uiPadding.vert4),children:h._("__JHASH__WbrLfnEcHa7__JHASH__")}),l.jsx(d("WAWebSwitch.react").Switch,{id:"polls-single-option-switch",checked:!t,onChange:function(){u(!t)},testid:void 0})]})]})}),l.jsx("div",{className:j(s.createPollButtonContainer,d("WAWebUISpacing").uiMargin.top30),children:l.jsx(d("WAWebRound.react").Round,{xstyle:s.sendButton,theme:d("WAWebRound.react").RoundTheme.DrawerFooter,large:!0,onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;N(!1);yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(e);d("WAWebPollsSendPollCreationMsgAction").sendPollCreation({poll:{name:i,options:B.filter(function(a){return!w(a)}).map(function(a){a=a.name;return{name:a}}),selectableOptionsCount:t?1:0},chat:e,quotedMsg:d("WAWebPollsGatingUtils").arePollsFastFollowsEnabled()?e.composeQuotedMsg:null});e.composeQuotedMsg=null;e.setComposeContents({});(a=f())==null?void 0:a.reset();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)}),disabled:!I,label:h._("__JHASH__7ly79q6kyF___JHASH__"),testid:void 0,children:l.jsx(d("WAWebSendIcon").SendIcon,{width:22,height:20,directional:!0})})})]})}),d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()&&y&&l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{theme:d("WAWebConfirmPopup.react").ConfirmPopupTheme.PollsCancellationPrompt,title:h._("__JHASH__kQe72MJaOTJ__JHASH__"),okText:h._("__JHASH__2L5ocmLHOyc__JHASH__"),onOK:function(){var a;z(!1);(a=M.current)==null?void 0:a.restoreFocus()},cancelText:h._("__JHASH__-QKUfhJvclL__JHASH__"),onCancel:function(){N(!0)},onOverlayClick:L,children:h._("__JHASH__gjzS5EsjL1u__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";var t=0;function u(){var a=t.toString();t++;return a}function v(a,b){var c=b.maxOptionsCount;b=b.focusedKey;a=[].concat(a);var d;for(var e of a){var f;if(e.name!=="")continue;if(e.key===b){d=e.key;break}d=(f=d)!=null?f:e.key}f=a.length-1;while(a.length>r&&f>=0){b=a[f];b.key!==d&&b.name===""&&a.splice(f,1);f--}e=Math.max(d==null?1:0,r-a.length);while(e>0&&a.length<c)a.push({name:"",key:u()}),e--;return a}function w(a){return d("WAXplatTrim").trim(a.name)===""}function x(a){var b=new Set(),c=new Map();for(a of a){var e=d("WAXplatTrim").trim(a.name);if(e==="")continue;if(b.has(e)){c.set(a.key,h._("__JHASH__2x_30LE7euS__JHASH__"));continue}b.add(e)}return c}g.CreatePollModal=a;g.formatOptions=v}),226);
__d("WAWebAttachMenuPopupItemPolls.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPollsCreatePollModal","WAWebPollsGatingUtils","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,c=a.getComposeBoxEditorRef;return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebPollsCreatePollModal").CreatePollModal,{chat:b,getComposeBoxEditorRef:c}),{blockClose:d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL);return!0},icon:i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H11C12.1046 0 13 0.895431 13 2C13 3.10457 12.1046 4 11 4H2C0.89543 4 0 3.10457 0 2ZM0 8C0 6.89543 0.895431 6 2 6H14C15.1046 6 16 6.89543 16 8C16 9.10457 15.1046 10 14 10H2C0.895431 10 0 9.10457 0 8ZM2 12C0.895431 12 0 12.8954 0 14C0 15.1046 0.89543 16 2 16H8C9.10457 16 10 15.1046 10 14C10 12.8954 9.10457 12 8 12H2Z",fill:"var(--attachment-type-polls-color)"})}),text:d("WAWebAttachMenuStrings").PollText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPolls=a}),98);
__d("WAWebAttachMenuPopupItemQuickReplies.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebComposeBoxActions","WAWebLightningIcon","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1ev1nr0",$$css:!0}};function a(a){var b=a.chat;a=function(a){a.preventDefault();d("WAWebComposeBoxActions").ComposeBoxActions.toggleQuickReplies();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx(d("WAWebLightningIcon").LightningIcon,{width:20,height:20,iconXstyle:j.icon}),text:d("WAWebAttachMenuStrings").QuickRepliesText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemQuickReplies=a}),98);
__d("WAWebAttachMenuPopupItemStickers.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcStickerMakerEventsWamEvent","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function a(a){var b=a.chat,e=a.dismissMenu,f=a.onMediaPick,g=k();a=function(a){a.preventDefault();a=g.current;if(a){new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit();a.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER);return!1}return!1};var h=function(a){if(!a){e();return}a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit();f(a.map(function(a){return{file:a,stickerMaker:!0}}))};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23C20.7614 23 23 20.7614 23 18C23 15.2386 20.7614 13 18 13C15.2386 13 13 15.2386 13 18C13 20.7614 15.2386 23 18 23ZM17.25 15.75C17.25 15.3358 17.5858 15 18 15C18.4142 15 18.75 15.3358 18.75 15.75V17.25H20.25C20.6642 17.25 21 17.5858 21 18C21 18.4142 20.6642 18.75 20.25 18.75H18.75V20.25C18.75 20.6642 18.4142 21 18 21C17.5858 21 17.25 20.6642 17.25 20.25V18.75H15.75C15.3358 18.75 15 18.4142 15 18C15 17.5858 15.3358 17.25 15.75 17.25H17.25V15.75Z",fill:"var(--attachment-type-stickers-color)"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 4.23858 4.23858 2 7 2H17C19.7614 2 22 4.23858 22 7V12.2547C20.8662 11.4638 19.4872 11 18 11C14.134 11 11 14.134 11 18C11 19.4872 11.4638 20.8662 12.2547 22H7C4.23858 22 2 19.7614 2 17V7ZM14 9.5L14.7812 7.78125L16.5 7L14.7812 6.21875L14 4.5L13.2188 6.21875L11.5 7L13.2188 7.78125L14 9.5ZM8 8.5L9.25 11.25L12 12.5L9.25 13.75L8 16.5L6.75 13.75L4 12.5L6.75 11.25L8 8.5Z",fill:"var(--attachment-type-stickers-color)"})]}),text:d("WAWebAttachMenuStrings").StickerMakerText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:h,multiple:!1})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemStickers=a}),98);
__d("WAWebAttachMenuUtils",["WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebConnModel","WAWebProductCatalogMetaLinkingGatingUtils","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){if(a.isNewsletter)return!1;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return!h()||d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(a)||d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?!1:!0}function b(a){if(!d("WAWebConnModel").Conn.isSMB||a.isGroup||a.isNewsletter)return!1;if(d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())return!0;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()&&d("WAWebBusinessProfileUtils").hasCatalog(a)}function h(){if(!d("WAWebConnModel").Conn.isSMB)return!1;var a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return!d("WAWebBusinessProfileUtils").hasShop(a)}g.shouldShowCatalogOption=a;g.canSendOrder=b}),98);
__d("WAWebAttachMenuPopup.react",["WAWebAttachMenuPopupItemAudio.react","WAWebAttachMenuPopupItemCamera.react","WAWebAttachMenuPopupItemCatalog.react","WAWebAttachMenuPopupItemContacts.react","WAWebAttachMenuPopupItemDocuments.react","WAWebAttachMenuPopupItemEvents","WAWebAttachMenuPopupItemOrders.react","WAWebAttachMenuPopupItemPhotos.react","WAWebAttachMenuPopupItemPolls.react","WAWebAttachMenuPopupItemQuickReplies.react","WAWebAttachMenuPopupItemStickers.react","WAWebAttachMenuUtils","WAWebAttachmentMenuLogger","WAWebBizGatingUtils","WAWebCmd","WAWebDropdown.react","WAWebEventUtils","WAWebMediaGatingUtils","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebUISpacing","WAWebWamEnumMediaPickerOriginType","react","stylex","useWAWebModelValues","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=a.onCaptureClick,g=a.getComposeBoxEditorRef,h=a.getComposeContents,k=a.onMenuComplete;a=d("useWAWebModelValues").useModelValues(a.chat,["isNewsletter"]);a=a.isNewsletter;var m=c("useWAWebUIM")(),n=function(){m==null?void 0:m.requestDismiss()},o=function(a){var b=a.attachments,c=a.sendAsSticker;c=c===void 0?!1:c;var f=a.onSend;a=a.onCancel;d("WAWebCmd").Cmd.attachMediaDrawer({chat:e,attachments:b,fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:h==null?void 0:h(),onComplete:function(a,b){k(a,b)},onSend:f,onCancel:a,sendAsSticker:c})},p=d("WAWebAttachMenuUtils").shouldShowCatalogOption(e),q=d("WAWebBizGatingUtils").canSendQuickReplyInChat(e),r=d("WAWebAttachMenuUtils").canSendOrder(e),s=p||q||r,t=d("WAWebEventUtils").canSendEvent(e),u=d("WAWebMediaGatingUtils").getSupportedMediaTypesForChat(e);return j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.AttachMenuPopup,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.TOP,testid:void 0,children:j.jsxs("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiPadding.vert3),children:[u.has(d("WAWebMsgType").MSG_TYPE.DOCUMENT)&&j.jsx(d("WAWebAttachMenuPopupItemDocuments.react").AttachMenuPopupItemDocuments,{chat:e,dismissMenu:n,onDocumentPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)}})}}),j.jsx(d("WAWebAttachMenuPopupItemPhotos.react").AttachMenuPopupItemPhotos,{chat:e,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(e.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)}})}}),j.jsx(d("WAWebAttachMenuPopupItemCamera.react").AttachMenuPopupItemCamera,{chat:e,onCaptureClick:f}),a&&d("WAWebNewsletterGatingUtils").isNewsletterAudioFileSendingEnabled()&&j.jsx(d("WAWebAttachMenuPopupItemAudio.react").AttachMenuPopupItemAudio,{chat:e,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(e.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)}})}}),!a&&j.jsx(d("WAWebAttachMenuPopupItemContacts.react").AttachMenuPopupItemContacts,{chat:e,onMenuComplete:k}),e.canSendPolls()&&j.jsx(d("WAWebAttachMenuPopupItemPolls.react").AttachMenuPopupItemPolls,{chat:e,getComposeBoxEditorRef:g}),u.has(d("WAWebMsgType").MSG_TYPE.STICKER)&&j.jsx(d("WAWebAttachMenuPopupItemStickers.react").AttachMenuPopupItemStickers,{chat:e,dismissMenu:n,onMediaPick:function(a){o({attachments:a,sendAsSticker:!0,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)}})}}),t&&j.jsx(d("WAWebAttachMenuPopupItemEvents").AttachMenuPopupItemEvents,{chat:e}),s&&j.jsx(l,{}),p&&j.jsx(d("WAWebAttachMenuPopupItemCatalog.react").AttachMenuPopupItemCatalog,{chat:e}),q&&j.jsx(d("WAWebAttachMenuPopupItemQuickReplies.react").AttachMenuPopupItemQuickReplies,{chat:e}),r&&j.jsx(d("WAWebAttachMenuPopupItemOrders.react").AttachMenuPopupItemOrders,{chat:e})]})})}a.displayName=a.name+" [from "+f.id+"]";var k={divider:{height:"xjm9jq1",backgroundColor:"xfw0ycb",$$css:!0}};function l(){return j.jsx("div",{className:(i||(i=c("stylex")))([k.divider,d("WAWebUISpacing").uiMargin.top3,d("WAWebUISpacing").uiMargin.bottom4])})}l.displayName=l.name+" [from "+f.id+"]";g.AttachMenuPopup=b}),98);
__d("WAWebCaptureMediaDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebCaptureMediaDrawer.react").__setRef("WAWebCaptureMediaDrawerLoadable").load());return a}),"CaptureMediaDrawer");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.CaptureMediaDrawerLoadable=d}),98);
__d("WAWebAttachMenuBarItem.react",["fbt","WAFilteredCatch","WAPromiseRaceAbort","WAWebAttachMenuPopup.react","WAWebAttachmentMenuLogger","WAWebCaptureMediaDrawerLoadable","WAWebDrawerManager","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMenuBar.react","WAWebMiscErrors","WAWebModalManager","WAWebPlusIcon","WAWebPrepareMessageSendingAction","WAWebStateUtils","WAWebTabOrder","WAWebUim","WAWebUseBusinessProfile.react","react","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n={iconColor:{color:"xqmb7z",$$css:!0}};function a(a){var b=a.chat,e=a.onMenuComplete,f=a.iconWidth;f=f===void 0?30:f;var g=c("useWAWebUnmountSignal")();d("WAWebUseBusinessProfile.react").useBusinessProfile(b.id,["isBizBot3p"]);var i=m(null),j=c("useWAWebUIM")();l(function(){return function(){i.current==null?void 0:i.current(),d("WAWebDrawerManager").DrawerManager.closeDrawerMid()}},[]);var o=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})},p=function(a){o(a)},q=function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuOpen(b)},r=function(a){a===d("WAWebUim").DismissReason.UIM_INTERACTION&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuClose(b)},s=function(){var a=d("WAWebMediaCapture").start("camera",void 0,3e3),f=a.asyncStream;a=a.disposeStream;i.current=a;c("WAPromiseRaceAbort")(f,g).then(function(a){a&&d("WAWebDrawerManager").DrawerManager.openDrawerMid(k.jsx(d("WAWebCaptureMediaDrawerLoadable").CaptureMediaDrawerLoadable,{chat:d("WAWebStateUtils").unproxy(b),stream:a,disposeStream:i.current,onCaptureSent:function(){e(!0,{initCaptionUsed:!1}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()}}),{transition:"slide-up",uim:j,noFocus:!0})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))},t=function(){s(),void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b)};return k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,theme:"attach-menu-redesign",icon:k.jsx(d("WAWebPlusIcon").PlusIcon,{width:f,xstyle:n.iconColor}),tabOrder:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,title:h._("__JHASH__pDI7cP8OsEp__JHASH__"),transitionName:"dropdown",onClick:p,onOpen:q,onClose:r,children:k.jsx(d("WAWebAttachMenuPopup.react").AttachMenuPopup,{chat:a.chat,onCaptureClick:t,getComposeContents:a.getComposeContents,getComposeBoxEditorRef:a.getComposeBoxEditorRef,onMenuComplete:a.onMenuComplete})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAutoLogoutGating",["WAWebBuildConstants","WAWebEnvironment","WAWebUA","err","gkx"],(function(a,b,c,d,e,f,g){function a(){return c("WAWebEnvironment").isWindows?!1:!1}function b(){return!1}function e(){if(!c("gkx")("26258"))return d("WAWebBuildConstants").DYN_ORIGIN+"?autologout=1";throw c("err")("feature is unsupported")}g.autoLogoutSupported=a;g.autoLogoutInIframFunctionAllowed=b;g.getAutoLogoutIframeUrl=e}),98);
__d("WAWebWamEnumAutoMuteActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({AUTO_MUTE_EXISTING_GROUP:1,AUTO_MUTE_GROWING_GROUP:2,AUTO_MUTE_NEW_GROUP:3,USER_DIALOG_VIEW:4,USER_ADMIT_BY_OK:5,USER_ADMIT_BY_MESSAGE_SEND:6,USER_DISMISS_BY_UNMUTE:7});f.AUTO_MUTE_ACTION_TYPE=a}),66);
__d("WAWebAutoMuteLargeGroupActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAutoMuteActionType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({AutoMuteLargeGroupActions:[3880,{autoMuteAction:[1,d("WAWebWamEnumAutoMuteActionType").AUTO_MUTE_ACTION_TYPE],autoMuteGroupId:[2,d("WAWebWamCodegenUtils").TYPES.STRING],autoMuteGroupSize:[3,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1,1],"regular"]},{AutoMuteLargeGroupActions:[]});g.AutoMuteLargeGroupActionsWamEvent=a}),98);
__d("WAWebBIzLabelReorderAction",["WALogger","WAWebBizGatingUtils","WAWebLabelCollection"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: updated LabelCollection with new label positions"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: label reordering is not enabled"]);i=function(){return a};return a}a=function(a){if(!d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled()){d("WALogger").LOG(i());return}var b=!1;a.forEach(function(a,c){a=d("WAWebLabelCollection").LabelCollection.get(String(a));a&&a.orderIndex!==c&&(a.orderIndex=c,b=!0)});b&&(d("WAWebLabelCollection").LabelCollection.trigger("reorder"),d("WALogger").LOG(h()).devConsole(a))};g.reorderLabelsAction=a}),98);
__d("WAWebQueryCtwaContextJob",["WABase64","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","WAWebProtobufsE2E.pb","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getCtwaContext error: code "," text ",""]);h=function(){return a};return a}function i(a){var b=a&&a.maybeAttrString("code");a=a&&a.maybeAttrString("text");d("WALogger").WARN(h(),b,a)}var j=new(c("WADeprecatedWapParser"))("ctwaContext",function(a){a.assertTag("iq");a.assertFromServer();var b=a.child("context");if(a.hasChild("error")){i(a.child("error"));throw c("err")("invalid response")}a={sourceUrl:b.child("source").child("url").contentString(),sourceId:b.child("source").child("id").contentString(),sourceType:b.child("source").child("type").contentString()};b.hasChild("headline")&&(a.title=b.child("headline").contentString());b.hasChild("body")&&(a.description=b.child("body").contentString());b.hasChild("thumbnail")&&(b.child("thumbnail").hasChild("url")&&(a.thumbnailUrl=b.child("thumbnail").child("url").contentString()),b.child("thumbnail").hasChild("bytes")&&(a.thumbnail=d("WABase64").encodeB64(b.child("thumbnail").child("bytes").contentBytes())),b.hasChild("video")?(a.mediaUrl=b.child("video").child("url").contentString(),a.mediaType=d("WAWebProtobufsE2E.pb").ContextInfo$ExternalAdReplyInfo$MediaType.VIDEO):a.mediaType=d("WAWebProtobufsE2E.pb").ContextInfo$ExternalAdReplyInfo$MediaType.IMAGE);return a});function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;a=d("WAWebWidFactory").createWid(a).toString({legacy:!0});a=(f=d("WAWap")).wap("iq",{xmlns:"fb:thrift_iq",id:f.generateId(),type:"get",to:f.S_WHATSAPP_NET,smax_id:f.SMAX_ID(c("WAWapDeprecatedSmaxID").CtwaGetContext)},f.wap("account_number",null,a),f.wap("code",null,b),f.wap("expected_source_url",null,e));b=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,j));if(b.success)return b.result;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b.errorCode)});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizQueryCtwaContextBridge",["Promise","WAWebQueryCtwaContextJob","err"],(function(a,b,c,d,e,f,g){var h;function a(a){var d=a.phone,e=a.sourceUrl;a=a.context;if(d==null||d===""||e==null||e===""||a==null||a==="")return(h||(h=b("Promise"))).reject(c("err")("Invalid params passed to fetchCtwaContextData"));d=c("WAWebQueryCtwaContextJob")(d,a,e);return d}g.fetchCtwaContextData=a}),98);
__d("WAWebBizSmbTosModal.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSmbLearnMore.react","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["SMB: terms of service modal, user clicked logout"]);j=function(){return a};return a}var k=i||c("react");function a(){var a=h._("__JHASH__M2VmD8xDR_v__JHASH__"),b=function(){d("WAWebConnModel").Conn.smbTos||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:smbTos",b);b=function(){d("WALogger").LOG(j()),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()};var e=h._("__JHASH__3n1bF_cZdZK__JHASH__");b=b;return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:e,children:[a,"\xa0",k.jsx(c("WAWebSmbLearnMore.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizToolsFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizToolsFlow.react").__setRef("WAWebBizToolsFlowLoadable").load());return a}),"BizToolsFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})},render:function(a,b){return i.jsx(a,{adsAccountInfo:b.adsAccountInfo,entryPoint:b.entryPoint})}});g.BizToolsFlowLoadable=d}),98);
__d("WAWebBotCommandSuggestionResult.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={result:"_aopp",selected:"_aopq",commandHighlight:"_ap99",commandText:"_ap9a",desc:"_aopu",image:"_aot5"};b=a;g["default"]=b}),98);
__d("WAWebBotCommandSuggestionResult.react",["WAWebBotCommandSuggestionResult.scss","WAWebBotCommandSuggestions.react","WAWebClassnames","WAWebDetailImage.react","WAWebEmojiText.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.command,e=a.query,f=a.selected,g=a.imageWid,h=a.onMouseDown,j=a.onMouseEnter;a=a.onMouseUp;var k=b.name;b=b.description;var l=k.slice(0,e.length);k=k.slice(e.length);return i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebBotCommandSuggestionResult.scss").selected]=f,e[c("WAWebBotCommandSuggestionResult.scss").result]=!0,e)),onMouseDown:h,onMouseUp:a,onMouseEnter:j,children:[g!=null&&i.jsx("div",{className:c("WAWebBotCommandSuggestionResult.scss").image,children:i.jsx(d("WAWebDetailImage.react").DetailImage,{id:g,size:32})}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:c("WAWebBotCommandSuggestionResult.scss").commandText,text:d("WAWebBotCommandSuggestions.react").QUERY_TRIGGER}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:c("WAWebBotCommandSuggestionResult.scss").commandHighlight,text:l}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:c("WAWebBotCommandSuggestionResult.scss").commandText,text:k}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:c("WAWebBotCommandSuggestionResult.scss").desc,testid:void 0,ellipsify:!0,text:b})]})}a.displayName=a.name+" [from "+f.id+"]";g.BotCommandResult=a}),98);
__d("WAWebBotCommandSuggestions.react",["Lexical","WAWebBotCommandSuggestionResult.react","WAWebLexicalUtils","WAWebListSuggestionsPanel.react","react","useWAWebLexicalTypeAhead","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useMemo,m=b.useState,n="/",o=52,p=25;function a(a){var b,c=a.editor,e=a.kind,f=d("useWAWebModelValues").useOptionalModelValues(a.businessProfile,["id","commands"]);a=d("useWAWebModelValues").useOptionalModelValues(a.botProfile,["id","commands"]);var g=(b=f==null?void 0:f.commands)!=null?b:a==null?void 0:a.commands,h=(b=a==null?void 0:a.id)!=null?b:f==null?void 0:f.id;a=d("useWAWebLexicalTypeAhead").useTypeAhead(c,n,{boundary:!0,maxQueryLength:p});var i=a.query,r=a.replaceQuery,s=a.omitQuery;b=m(function(){return q(c)});var t=b[0],u=b[1];k(function(){return c.registerUpdateListener(function(){u(q(c))})},[c]);f=function(a,b){return j.jsx(d("WAWebBotCommandSuggestionResult.react").BotCommandResult,{command:a.command,query:a.query,selected:b,imageWid:h},a.itemKey)};a=function(a){a=a.command;r(""+n+a.name+" ")};b=function(){s()};var v=l(function(){return i==null||!g||t?null:g.filter(function(a){return a.name.toLowerCase().startsWith(i.toLowerCase())}).map(function(a,b){return{height:o,itemKey:a.name,contentKey:i,index:b,command:a,query:i,selectable:!0}})},[i,g,t]);return j.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:e,editor:c,items:v,renderItem:f,onSelect:a,onDismiss:b})}a.displayName=a.name+" [from "+f.id+"]";function q(a){return a.getEditorState().read(function(){for(var a=d("WAWebLexicalUtils").textNodesIterator(d("Lexical").$getRoot()),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;if((e=e.getStyle())==null?void 0:e.includes("bot-command-text"))return!0}return!1})}g.QUERY_TRIGGER=n;g.BotCommandSuggestions=a}),98);
__d("WAWebBotFeatureNotAvailable.react",["fbt","WAWebBotPictogramIcon","WAWebBox.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebUISpacing","WAWebWDSText.react","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={headerText:{textAlign:"x2b8uid",$$css:!0}};function a(){var a=function(){d("WAWebModalManager").ModalManager.close()},b=c("useWAWebFocusOnMount")(),e=j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(d("WAWebBotPictogramIcon").BotPictogramIcon,{width:112,height:112})}),f=h._("__JHASH__TTgfgYIgQRH__JHASH__");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,type:d("WAWebModal.react").ModalTheme.Promote,ref:b,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[(a=d("WAWebUISpacing")).uiMargin.vertAuto,a.uiPadding.bottom16],children:[e,j.jsx(d("WAWebBox.react").Box,{xstyle:[k.headerText,a.uiMargin.horiz8,a.uiMargin.top16,a.uiMargin.bottom8],children:j.jsx(d("WAWebWDSText.react").WDSTextLarge,{weight:"bold",children:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBotFrontendUtils",["WAWebCmd","WAWebComposeBoxActions","WAWebFindChatAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=d("WAWebWidFactory").createUserWid("13135550002@c.us");function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebFindChatAction").findOrCreateLatestChat(h,"metaBotChatListShortcut"));a=(yield d("WAWebCmd").Cmd.openChatFromUnread(b,a));if(!a)return;d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)});return i.apply(this,arguments)}g.MetaBotWid=h;g.openMetaBotChat=a}),98);
__d("WAWebWamEnumAdditionalCategoryType",[],(function(a,b,c,d,e,f){a=Object.freeze({META_AI_MODEL_BASE:1,META_AI_MODEL_PREMIUM:2});f.ADDITIONAL_CATEGORY_TYPE=a}),66);
__d("WAWebWamEnumBotDiscoveryPathType",[],(function(a,b,c,d,e,f){a=Object.freeze({CURATED_DISPLAY:1,SEARCH:2,VIEW_ALL:3,DEEPLINK_USER_SHARED:4});f.BOT_DISCOVERY_PATH_TYPE=a}),66);
__d("WAWebWamEnumBotEntryPointType",[],(function(a,b,c,d,e,f){a=Object.freeze({WA_CHAT:1,STATUS:2,NEW_CHAT:3,INVOKE:4,SHARED_AI:5,NOTIFICATION:6,BANNER:7,AI_CHATS_LIST_BUTTON:8,AI_CONTACT_ON_WA:9,DEEPLINK_USER_SHARED:10,DEEPLINK_QP:11,AI_SEARCH_CHATS_LIST:12,CHAT_INFO_PAGE:13,AI_VOICE:14,AI_CHAT_SHORTCUT:15,AI_IMAGINE_BOTTOM_SHEET:16,AI_HOME_PREVIEW:17});f.BOT_ENTRY_POINT_TYPE=a}),66);
__d("WAWebBotJourneyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAdditionalCategoryType","WAWebWamEnumBotDiscoveryPathType","WAWebWamEnumBotEntryPointType","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumTsSurface"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({BotJourney:[4630,{actionType:[1,d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES],additionalCategory:[11,d("WAWebWamEnumAdditionalCategoryType").ADDITIONAL_CATEGORY_TYPE],aiDiscoveryTab:[4,a.TYPES.STRING],appSessionId:[2,a.TYPES.STRING],botDiscoveryPath:[8,d("WAWebWamEnumBotDiscoveryPathType").BOT_DISCOVERY_PATH_TYPE],botEntryPoint:[7,d("WAWebWamEnumBotEntryPointType").BOT_ENTRY_POINT_TYPE],botPersonaId:[5,a.TYPES.STRING],isMetaAiAssistant:[12,a.TYPES.BOOLEAN],isMetaAiCharacterBotChat:[9,a.TYPES.BOOLEAN],isUserCreatedAgent:[10,a.TYPES.BOOLEAN],uiSurface:[6,d("WAWebWamEnumTsSurface").TS_SURFACE]},[1,1,1],"regular"]},{BotJourney:[[[],["appSessionId","actionType","botEntryPoint"],[]]]});g.BotJourneyWamEvent=b}),98);
__d("WAWebBotLogging",["$InternalEnum","WAWebBotJourneyWamEvent","WAWebGetSharedSessionId","WAWebWamEnumBotEntryPointType","WAWebWamEnumChatFilterActionTypes"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["Agent","Shortcut"]),i=b("$InternalEnum").Mirrored(["View","Accept","Dismiss"]);function j(a){switch(a){case h.Agent:return d("WAWebWamEnumBotEntryPointType").BOT_ENTRY_POINT_TYPE.AI_CONTACT_ON_WA;case h.Shortcut:return d("WAWebWamEnumBotEntryPointType").BOT_ENTRY_POINT_TYPE.AI_CHATS_LIST_BUTTON}}function k(a){switch(a){case i.View:return d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.AI_TOS_VIEW;case i.Accept:return d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.AI_TOS_ACCEPT_CLICK;case i.Dismiss:return d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.AI_TOS_DISMISS_CLICK}}function a(a){a=new(d("WAWebBotJourneyWamEvent").BotJourneyWamEvent)({appSessionId:d("WAWebGetSharedSessionId").getSharedSessionId(),actionType:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.AI_CHAT_CLICK,botEntryPoint:j(a)});a.commit()}function c(a,b){b=new(d("WAWebBotJourneyWamEvent").BotJourneyWamEvent)({appSessionId:d("WAWebGetSharedSessionId").getSharedSessionId(),actionType:k(b),botEntryPoint:j(a)});b.commit()}g.BotEntryPointType=h;g.BotTosActionType=i;g.logAiChatClickBotJourneyEvent=a;g.logAiTosBotJourneyEvent=c}),98);
__d("WAWebBotPluginCarouselChevronBtn.react",["WAWebChevronButton.react","WAWebL10N","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={backgroundNext:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",height:"xvt47uu",width:"x187nhsf",$$css:!0},backgroundPrev:{position:"x10l6tqk",top:"x13vifvy",height:"xvt47uu",width:"x187nhsf",zIndex:"x11uqc5h",$$css:!0},btnContainer:{position:"x1n2onr6",height:"xvt47uu",width:"x187nhsf",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",$$css:!0},btnContainerBackgroundPrev:{backgroundImage:"xe0pjke",$$css:!0},btnContainerBackgroundNext:{backgroundImage:"x1hxqlon",$$css:!0},btnContainerBackgroundPrevRTL:{backgroundImage:"x1hxqlon",$$css:!0},btnContainerBackgroundNextRTL:{backgroundImage:"xe0pjke",$$css:!0}};function a(a){var b=a.displayType,e=a.onClick,f=a.theme;a=a.type;b=b===d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel;var g=a===d("WAWebChevronButton.react").ButtonType.Prev&&b,h=a===d("WAWebChevronButton.react").ButtonType.Next&&b;return j.jsx("div",{className:(i||(i=c("stylex")))(g&&k.backgroundPrev,h&&k.backgroundNext),children:j.jsx("div",{className:i(b&&k.btnContainer,g&&(c("WAWebL10N").isRTL()?k.btnContainerBackgroundPrevRTL:k.btnContainerBackgroundPrev),h&&(c("WAWebL10N").isRTL()?k.btnContainerBackgroundNextRTL:k.btnContainerBackgroundNext)),children:j.jsx(d("WAWebChevronButton.react").ChevronButton,{type:a,onClick:e,theme:f})})})}a.displayName=a.name+" [from "+f.id+"]";g.ChevronButtonWithFadedBackground=a}),98);
__d("WAWebBotPluginCarouselWrapper.react",["WANullthrows","WAWebBotPluginCarouselChevronBtn.react","WAWebChevronButton.react","WAWebClassnames","WAWebCmd","WAWebDisplayType","WAWebErrorBoundary.react","WAWebKeyboardHotKeys.react","WAWebMediaLinkPreviewContainer.react","WAWebMsgGetters","WAWebProtobufsE2E.pb","WAWebRound.react","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","WAWebWrapper.scss","react","useWAWebListener","useWAWebThrottledCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState,o=200,p=7,q=200,r=100;e=j.forwardRef(a);function a(a,b){var e,f;a=babelHelpers["extends"]({},a);var g=m(null),h=a.msgs;a=a.botPluginCarouselId;e=(e=h[0])==null?void 0:(e=e.id)==null?void 0:(e=e.remote)==null?void 0:e.isUser();var i=m(null),s=d("WAWebMsgGetters").getBotPluginType(h[0])===d("WAWebProtobufsE2E.pb").BotPluginMetadata$PluginType.REELS,t=n(!0),u=t[0],v=t[1];t=n(null);var w=t[0],x=t[1];t=n(!1);var y=t[0],z=t[1];t=(t=d("WAWebMsgGetters").getBotResponseTargetId(h[0]))!=null?t:"NULL_MSG_BOT_PLUGIN_TARGET_ID";d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"bot_toggle_plugin_search_details_for_target_id_"+t,function(a){a===void 0&&(a=!0),v(a),self.setTimeout(function(){d("WAWebCmd").Cmd.scrollChatHeight(r)})});var A=function(){return g.current},B=function(){return c("WANullthrows")(i.current)};l(b,function(){return{getElement:A,getContainerElement:B}});k(function(){w==null&&h.length>1&&x(!0)},[h,w]);var C=function(a){a=o*.5*h.length*(a?1:-1);var b=g==null?void 0:g.current;b!=null&&(void c("WAWebVelocityAnimate")(b,"stop"),void c("WAWebVelocityAnimate")(b,"scroll",{SCROLL_ANIMATION:q,container:b,offset:a,axis:"x",easing:[.1,.82,.25,1]}))};t=c("useWAWebThrottledCallback")(function(a){a=g==null?void 0:g.current;if(a==null)return;a.scrollLeft<p?z(!1):z(!0);a=a.scrollLeft+a.clientWidth>=a.scrollWidth-p;a?x(!1):x(!0)},100);b=h.sort(function(a,b){a=a.botPluginReferenceIndex;b=b.botPluginReferenceIndex;return a!=null&&b!=null?a>b?1:-1:0}).map(function(a){return j.jsx("div",{children:j.jsx(c("WAWebMediaLinkPreviewContainer.react"),{msg:a.unsafe(),displayType:s?d("WAWebDisplayType").DISPLAY_TYPE.BOT_REELS_PLUGIN:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION,theme:"bot_plugin_link"})},a.id.id)});y=y===!0?j.jsx(d("WAWebBotPluginCarouselChevronBtn.react").ChevronButtonWithFadedBackground,{type:d("WAWebChevronButton.react").ButtonType.Prev,onClick:function(){C(!1)},theme:d("WAWebRound.react").RoundTheme.XSmall,displayType:s?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;var D=w===!0?j.jsx(d("WAWebBotPluginCarouselChevronBtn.react").ChevronButtonWithFadedBackground,{type:d("WAWebChevronButton.react").ButtonType.Next,onClick:function(){C(!0)},theme:d("WAWebRound.react").RoundTheme.XSmall,displayType:s?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;return j.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"bot-plugin-carousel",children:j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").botPluginCarouselControlContainer]=!0,f[c("WAWebWrapper.scss").botPluginCarouselControlContainerClosed]=!u,f[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=e,f[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=!e,f)),ref:i,tabIndex:-1,children:j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"bot-plugin-carousel",children:u?j.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebWrapper.scss").botPluginScrollControl]=!0,e[c("WAWebWrapper.scss").messageChat]=!0,e[c("WAWebWrapper.scss").reelsPluginOneItem]=!!s&&h.length===1,e[c("WAWebWrapper.scss").reelsPluginTwoItem]=!!s&&h.length===2,e[c("WAWebWrapper.scss").reelsPluginThreeItem]=!!s&&h.length===3,e)),children:[y,j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").botPluginCarouselWrapper]=!0,f)),onScroll:t,ref:g,children:j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((u={},u[c("WAWebWrapper.scss").botPluginCarouselContainer]=!0,u[c("WAWebWrapper.scss").botPluginCarouselContainerWidthSingleItem]=h.length===1,u[c("WAWebWrapper.scss").botPluginCarouselContainerWidthTwoItem]=h.length===2,u[c("WAWebWrapper.scss").botReelPluginCarouselContainer]=!!s,u)),"data-id":a,children:b})}),D]}):null})})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebBotSuggestions.react",["WAWebBotProfileCollection","WAWebUISpacing","WAWebUseBusinessProfile.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{display:"x78zum5",position:"x10l6tqk",bottom:"xmgkm54",maxHeight:"x1nu74zi",overflowX:"x14aock7",whiteSpace:"xuxw1ft",width:"x19sv2k2",$$css:!0},pill:{fontSize:"x1f6kntn",lineHeight:"xdod15v",borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",borderBottomEndRadius:"x7wuybg",borderBottomStartRadius:"xb9tvrk",fontWeight:"xk50ysn",backgroundColor:"x1w7vc3g",cursor:"x1ypdohk",$$css:!0},emoji:{display:"x1rg5ohu",$$css:!0}};function a(a){var b=a.id,e=a.onPromptSelect;a=d("WAWebUseBusinessProfile.react").useBusinessProfile(b,["prompts"]);b=(b=(b=d("WAWebBotProfileCollection").BotProfileCollection.get(b))==null?void 0:b.prompts)!=null?b:a==null?void 0:a.prompts;return b==null||b.length===0?null:j.jsx("div",{className:(i||(i=c("stylex")))(k.container,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz20),children:b.map(function(a){return j.jsx(l,{prompt:a,onClick:function(){e(a.text)}},a.text)})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.onClick;a=a.prompt;return j.jsxs("div",{onClick:b,className:(i||(i=c("stylex")))(k.pill,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end16,d("WAWebUISpacing").uiMargin.horiz4),children:[j.jsx("span",{className:i(k.emoji,d("WAWebUISpacing").uiMargin.end4),children:a.emoji}),j.jsx("span",{children:a.text})]})}l.displayName=l.name+" [from "+f.id+"]";g.BotSuggestions=a}),98);
__d("WAWebQuickPromotionAction",["WAWebQuickPromotionCollection"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebQuickPromotionCollection").QuickPromotionCollection.refreshPromotions(a)}g.loadedQuickPromotions=a}),98);
__d("WAWebSmbDataSharingServerUpdateAction",["WAWebCTWADataSharingModel"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebCTWADataSharingModel").CTWADataSharingModel.setValue(a)}g.smbDataSharingSettingUpdateAction=a}),98);
__d("WAWebCTWABridgeApi",["WAWebAdEntryPointsConfigurationAction","WAWebNewCTWASuggestionAction","WAWebQuickPromotionAction","WAWebSmbDataSharingServerUpdateAction"],(function(a,b,c,d,e,f,g){a={newCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").newCTWASuggestion(a)},revokeCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").revokeCTWASuggestion(a)},loadedCTWASuggestions:function(a){a=a.suggestions;return d("WAWebNewCTWASuggestionAction").loadedCTWASuggestions(a)},loadedQuickPromotions:function(a){a=a.promotions;return d("WAWebQuickPromotionAction").loadedQuickPromotions(a)},smbDataSharingSettingUpdate:function(a){a=a.smbDataSharingSettingValue;return d("WAWebSmbDataSharingServerUpdateAction").smbDataSharingSettingUpdateAction(a)},loadedAdEntryPointsConfiguration:d("WAWebAdEntryPointsConfigurationAction").loadedAdEntryPointsConfiguration};g.CTWABridgeApi=a}),98);
__d("WAWebCTWASuggestionInitFromStorage",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebBizGatingUtils","WAWebSchemaCTWASuggestion"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreCTWASuggestions: could not remove expired suggestions"]);i=function(){return a};return a}function a(){if(!d("WAWebBizGatingUtils").adsActionBannersEnabledOnStartup())return(h||(h=b("Promise"))).resolve();var a=d("WAWebSchemaCTWASuggestion").getCTWASuggestionTable();return a.all().then(function(b){var c=[],e=[];b.forEach(function(a){d("WATimeUtils").isInFuture(a.expiresAt)?c.push(a):e.push(a.id)});d("WAWebBackendApi").frontendFireAndForget("loadedCTWASuggestions",{suggestions:c});if(e.length>0)return a.bulkRemove(e)["catch"](function(){d("WALogger").ERROR(i()).devConsole(e)})})}g.restoreCTWASuggestions=a}),98);
__d("WAWebUserPrefsEvents",["WATimeUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=null;function i(){if(h!=null)return h;var a=parseInt(c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.CagEventsAwarenessBannerFirstSeenTimestamp),10);Number.isNaN(a)||(h=d("WATimeUtils").castToUnixTime(a));return h}function a(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.CagEventsAwarenessBannerFirstSeenTimestamp,d("WATimeUtils").unixTime())}function b(){var a=i();return a==null?d("WATimeUtils").unixTime():d("WATimeUtils").futureUnixTime(d("WATimeUtils").WEEK_SECONDS,a)}g.getCagEventsAwarenessBannerFirstSeenTimestamp=i;g.setCagEventsAwarenessBannerFirstSeenTimestamp=a;g.getCagEventsAwarenessBannerAutoDismissalExpiration=b}),98);
__d("WAWebCagEventsAwarenessBanner.react",["fbt","WAWebAnnouncementSpeakerIcon","WAWebConversationBanner.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebFlexItem.react","WAWebUISpacing","WAWebUimUie.react","WAWebUserPrefsEvents","WAWebWDSText.react","react","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={banner:{backgroundColor:"x150wa6m",$$css:!0},announcementSpeaker:{color:"x1o6zcso",$$css:!0}};b=j.forwardRef(a);function a(a,b){a=a.onClose;d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerFirstSeenTimestamp()||d("WAWebUserPrefsEvents").setCagEventsAwarenessBannerFirstSeenTimestamp();d("useWAWebTimeout").useAlarm(a,d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerAutoDismissalExpiration(),{immediate:!0,isGlobal:!0});return j.jsx(d("WAWebUimUie.react").UIE,{displayName:"CagEventsAwarenessBanner",escapable:!0,children:j.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:k.banner,onClose:a,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end18,children:j.jsx(d("WAWebAnnouncementSpeakerIcon").AnnouncementSpeakerIcon,{iconXstyle:k.announcementSpeaker,width:40,height:40})}),j.jsx(c("WAWebFlexItem.react"),{children:j.jsxs(d("WAWebWDSText.react").WDSTextMuted,{as:"span",children:[h._("__JHASH__gzV6bKZWdYb__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getEventsLearnMoreFaqUrl(),children:c("WAWebFbtCommon")("Learn more")})]})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.CagEventsAwarenessBanner=b}),226);
__d("WAWebChangePhoneIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="change-phone";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=112;m=112;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 112 112",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M112 56C112 86.9279 86.9279 112 56 112C25.0721 112 0 86.9279 0 56C0 25.0721 25.0721 0 56 0C86.9279 0 112 25.0721 112 56ZM33 21C30.2386 21 28 23.2386 28 26V76C28 78.7614 30.2386 81 33 81H44C44.5523 81 45 80.5523 45 80V74.5C45 73.9477 44.5523 73.5 44 73.5H34.25C32.8693 73.5 31.75 72.3807 31.75 71V31C31.75 29.6193 32.8693 28.5 34.25 28.5H62C62.5523 28.5 63 28.0523 63 27.5V26C63 23.2386 60.7614 21 58 21H33Z",fill:"#06CF9C",fillOpacity:.15}),j.jsx("path",{d:"M28 26C28 23.2386 30.2386 21 33 21H58C60.7614 21 63 23.2386 63 26V27.5C63 28.0523 62.5523 28.5 62 28.5H34.25C32.8693 28.5 31.75 29.6193 31.75 31V71C31.75 72.3807 32.8693 73.5 34.25 73.5H44C44.5523 73.5 45 73.9477 45 74.5V80C45 80.5523 44.5523 81 44 81H33C30.2386 81 28 78.7614 28 76V26Z",fill:"#06CF9C",fillOpacity:.5}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49 37C49 34.2386 51.2386 32 54 32H79C81.7614 32 84 34.2386 84 37V87C84 89.7614 81.7614 92 79 92H54C51.2386 92 49 89.7614 49 87V68H52.75V82C52.75 83.3807 53.8693 84.5 55.25 84.5H77.75C79.1307 84.5 80.25 83.3807 80.25 82V42C80.25 40.6193 79.1307 39.5 77.75 39.5H55.25C53.8693 39.5 52.75 40.6193 52.75 42V56H49V37ZM61.5 87.625C61.5 87.2798 61.7798 87 62.125 87H70.875C71.2202 87 71.5 87.2798 71.5 87.625C71.5 87.9702 71.2202 88.25 70.875 88.25H62.125C61.7798 88.25 61.5 87.9702 61.5 87.625ZM64.9956 63.1401H42.15C41.5175 63.1401 41 62.6091 41 61.96C41 61.3109 41.5175 60.7799 42.15 60.7799H64.9956L59.3951 55.0091C58.9466 54.5489 58.9466 53.8054 59.3951 53.3452C59.8436 52.8849 60.5681 52.8849 61.0166 53.3452L68.5836 61.1339C69.0321 61.5942 69.0321 62.3376 68.5836 62.7979L61.0051 70.5748C60.5566 71.0351 59.8321 71.0351 59.3836 70.5748C58.9351 70.1146 58.9351 69.3593 59.3836 68.8991L64.9956 63.1401Z",fill:"#06CF9C"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChangePhoneIcon=a}),98);
__d("WAWebChatAutoMutedConfirmation.react",["fbt","WAWebButton.react","WAWebFlex.react","WAWebFlexItem.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useEffect,n={chatAutoMutedConfirmation:{backgroundColor:"x1bmpntp",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xdvm3u5",boxShadow:"xcj5v2p",textAlign:"x2b8uid","::before_position":"x1hmns74","::before_start":"x1mhyesy","::before_left":null,"::before_right":null,"::before_end":"x1ryaae9","::before_top":"x1y3wzot","::before_bottom":"xhq5o37","::before_zIndex":"xvi4grz","::before_pointerEvents":"xkk1bqk","::before_content":"x1cpjm7i","::before_boxShadow":"x183592",$$css:!0},button:{display:"x1rg5ohu",$$css:!0}};function a(a){var b,e=a.onOK,f=a.onOpen;a=a.onUnmute;m(function(){f==null?void 0:f()},[f]);return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[n.chatAutoMutedConfirmation,(b=d("WAWebUISpacing")).uiMargin.top0,b.uiPadding.top24,b.uiPadding.bottom20,b.uiPadding.horiz20],testid:void 0,children:[l.jsx(c("WAWebFlexItem.react"),{grow:0,shrink:0,basis:"auto",children:h._("__JHASH__BPKVI2sNlut__JHASH__")}),l.jsxs(c("WAWebFlexItem.react"),{grow:0,shrink:0,basis:"auto",xstyle:d("WAWebUISpacing").uiMargin.top12,children:[l.jsx("div",{className:(j||(j=c("stylex")))(n.button,d("WAWebUISpacing").uiMargin.end8),children:l.jsx(c("WAWebButton.react"),{type:"plain-white",onClick:a,children:h._("__JHASH__B0dRoUbAgSZ__JHASH__")})}),l.jsx("div",{className:"x1rg5ohu",children:l.jsx(c("WAWebButton.react"),{type:"plain-white",onClick:e,children:h._("__JHASH__NhMYAPXg-aK__JHASH__")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUpdateOfflinePeerReceipts",["WALogger","WAWebChatCollection","WAWebCmd","WAWebGroupUnreadMessageType","WAWebMsgCollection","WAWebNewsletterCollection","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateOfflinePeerReceipt, chatUpdates: ",", ackUpdats: "," "]);h=function(){return a};return a}function a(a,b){if(!d("WAWebCmd").Cmd.isMainStreamReadyMd)return;d("WALogger").DEV(h(),a.length,b).devConsole(a,b);a.forEach(function(a){var b,e=a.chatId,f=a.unreadCount;a=a.unreadMentionsOfMe;b=(b=d("WAWebChatCollection").ChatCollection.get(e))!=null?b:c("WAWebNewsletterCollection").get(e);if(b!=null){e=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.timestamp})});(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata.reset();(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata.addUnreadMentions(e,d("WAWebGroupUnreadMessageType").UnreadMessageType.PERSISTANCE_LOAD);b.set({unreadCount:f})}});b.forEach(function(a){var b=a.msgKey;a=a.ack;b=d("WAWebMsgCollection").MsgCollection.get(b);b&&b.updateAck(a)})}g.updateOfflinePeerReceipt=a}),98);
__d("WAWebChatBridgeApi",["Promise","WAWebChatCollection","WAWebCommentAction","WAWebMsgKey","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOfflinePeerReceipts","WAWebUpdateUnreadChatAction"],(function(a,b,c,d,e,f,g){var h;a={getChat:function(a){a=a.chatId;return d("WAWebChatCollection").ChatCollection.get(a)},hasChat:function(a){a=a.chatId;return Boolean(d("WAWebChatCollection").ChatCollection.get(a))},isMessageSentToBusiness:function(a){a=a.msgKey;a=d("WAWebChatCollection").ChatCollection.get(c("WAWebMsgKey").from(a).remote);return(a==null?void 0:a.contact.isBusiness)===!0},chatCollectionAdd:function(a){var b=a.things;a=a.options;return d("WAWebChatCollection").ChatCollection.add(b,a)},chatCollectionGadd:function(a){a=a.chat;return d("WAWebChatCollection").ChatCollection.gadd(a)},chatCollectionTrigger:function(a){var b=a.name;a=a.args;d("WAWebChatCollection").ChatCollection.trigger(b,a)},updateOfflinePeerReceipt:function(a){var b=a.chatUpdates;a=a.ackUpdates;d("WAWebUpdateOfflinePeerReceipts").updateOfflinePeerReceipt(b,a)},chatCollectionUpdate:function(a){a=a.updates;a.forEach(function(a){var b=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);b=d("WAWebChatCollection").ChatCollection.get(b);b&&b.set(a)})},updateChatReadStatus:function(a){var b=a.id;a=a.read;b=d("WAWebChatCollection").ChatCollection.get(b);b&&(a?d("WAWebUpdateUnreadChatAction").markSeen(b):d("WAWebUpdateUnreadChatAction").markUnseen(b))},updateChatUnreadMsgCountAndClearMentions:function(a){a=a.remote;a=d("WAWebChatCollection").ChatCollection.get(a);a&&(d("WAWebUpdateUnreadChatAction").updateUnreadCountMD(a,0,!1),d("WAWebUpdateUnreadChatAction").clearUnreadMentions(a))},updateChatLastAddOnPreview:function(a){a=a.chatMap;d("WAWebUpdateLastAddOnPreviewChatAction").updateModelsForLastAddOnPreview(a)},updateChatToLatest:function(a){a=a.chatIdToLatestUpdates;d("WAWebCommentAction").updateChatToLatest(a)},updateChatSortListener:function(a){a=a.enable;a?d("WAWebChatCollection").ChatCollection.enableSortListener(!0):d("WAWebChatCollection").ChatCollection.disableSortListener()},resetChatPreviewT:function(a){a=a.chatIds;a.forEach(function(a){a=d("WAWebChatCollection").ChatCollection.get(a);a&&(a.previewT=void 0)})},updateChatPreviewT:function(a){var b=a.threadMeta;d("WAWebChatCollection").ChatCollection.forEach(function(a){var c=b==null?void 0:b[a.id.toString({legacy:!0})];c!=null&&(a.previewT=c)})},updateBotInvokeSystemMsgCreated:function(a){a=a.chatId;a=d("WAWebChatCollection").ChatCollection.get(a);if(a!=null)return a.hasCreatedBotInvokeSystemMsg===!0?(h||(h=b("Promise"))).resolve():a.updateBotInvokeSystemMsgCreated()}};g.ChatBridgeApi=a}),98);
__d("WAWebChatlistHeader.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={listUser:"_ak0w",commerceIconContainer:"_ak0y",listControls:"_ak0z",shopsIcon:"_ak0x"};b=a;g["default"]=b}),98);
__d("WAWebWamEnumWebcMenuType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREADS_SCREEN_CLICK:1,CHAT_SCREEN_CLICK:2,SETTINGS_SCREEN_CLICK:3});f.WEBC_MENU_TYPE=a}),66);
__d("WAWebWamEnumWebcMenuItemLabel",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_GROUP:1,CREATE_A_ROOM:2,PROFILE:3,CATALOG:4,ARCHIVED:5,STARRED:6,LABELS:7,SETTINGS:8,LOG_OUT:9,CONTACT_INFO:10,SELECT_MESSAGES:11,CLOSE_CHAT:12,MUTE_NOTIFICATIONS:13,CLEAR_MESSAGES:14,DELETE_CHAT:15,REPORT_BUSINESS:16,BLOCK:17,SETTINGS_NOTIFICATIONS:18,SETTINGS_THEME:19,SETTINGS_CHAT_WALLPAPER:20,SETTINGS_BLOCKED:21,SETTINGS_HELP:22,OPEN:23,CLOSE:24,BUSINESS_TOOLS:25});f.WEBC_MENU_ITEM_LABEL=a}),66);
__d("WAWebWebcMenuWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcMenuItemLabel","WAWebWamEnumWebcMenuType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcMenu:[2504,{webcMenuAction:[2,d("WAWebWamEnumWebcMenuType").WEBC_MENU_TYPE],webcMenuItemLabel:[3,d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL]},[1,1,1],"regular"]},{WebcMenu:[]});g.WebcMenuWamEvent=a}),98);
__d("WAWebChatlistHeaderDropdownLogEvents",["WAWebWamEnumWebcMenuType","WAWebWebcMenuWamEvent"],(function(a,b,c,d,e,f,g){function a(a){a=new(d("WAWebWebcMenuWamEvent").WebcMenuWamEvent)({webcMenuAction:d("WAWebWamEnumWebcMenuType").WEBC_MENU_TYPE.THREADS_SCREEN_CLICK,webcMenuItemLabel:a});a.commit()}g["default"]=a}),98);
__d("WAWebLabelFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizLabelFlow.react").__setRef("WAWebLabelFlowLoadable").load());return a}),"LabelFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingDrawer.react"),{title:h._("__JHASH__QYeBWxOLrog__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.LabelFlowLoadable=d}),226);
__d("WAWebManageAdsDropdownItem.react",["fbt","WAWebAdCreationLogger","WAWebChatlistUtils","WAWebDropdownItem.react","WAWebWamEnumManageAdsEntryPoint","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.activeAccountInfo;l(function(){d("WAWebAdCreationLogger").logManageAdsEntryPointImpression(d("WAWebWamEnumManageAdsEntryPoint").MANAGE_ADS_ENTRY_POINT.WEB_OVERFLOW_MENU)},[b]);a=function(a){a.preventDefault(),d("WAWebChatlistUtils").handleManageAds(b,"whatsapp_smb_web_manage_ads_home_menu_item",d("WAWebWamEnumManageAdsEntryPoint").MANAGE_ADS_ENTRY_POINT.WEB_OVERFLOW_MENU)};return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:a,children:h._("__JHASH__wHgJuCH_s1S__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderManagementFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizOrderManagementFlow.react").__setRef("WAWebOrderManagementFlowLoadable").load());return a}),"OrderManagementFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});e=d;g["default"]=e}),98);
__d("WAWebQuickRepliesFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizQuickRepliesFlow.react").__setRef("WAWebQuickRepliesFlowLoadable").load());return a}),"QuickRepliesFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.QuickRepliesFlowLoadable=d}),98);
__d("WAWebChatlistHeaderDropdown.react",["fbt","WAWebABProps","WAWebAdCreationDropdownItem.react","WAWebArchivedFlowLoadable","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBizShopsManagePopup.react","WAWebBizToolsFlowLoadable","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCatalogManagementFlowLoadable","WAWebChatCollection","WAWebChatFolderOpenWamEvent","WAWebChatMessageSearch","WAWebChatSearchFilters","WAWebChatlistHeaderDropdownLogEvents","WAWebCommunityCreationFlowMetricUtils","WAWebCommunityDailyUtils","WAWebCommunityFlowLoadable","WAWebCommunityGatingUtils","WAWebConfirmLogoutModal.react","WAWebConfirmPopup.react","WAWebConnModel","WAWebContactCollection","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDropdown.react","WAWebDropdownItem.react","WAWebKeyboardTabUtils","WAWebLabelFlowLoadable","WAWebLockScreenResolver","WAWebManageAdsDropdownItem.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgCollection","WAWebNavBarTypes","WAWebNewCommunityInfoDrawer.react","WAWebNewGroupFlowLoadable","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderManagementFlowLoadable","WAWebProductCatalogMetaLinkingGatingUtils","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQuickRepliesFlowLoadable","WAWebSettingsFlowLoadable","WAWebSettingsGetters","WAWebShopsLog","WAWebStarredDrawerLoadable","WAWebStarredMsgCollection","WAWebTextStatusCollection","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUpdateUnreadChatAction","WAWebUserPrefsMeUser","WAWebUserPrefsScreenLock","WAWebWamEnumBusinessToolsEntryPointType","WAWebWamEnumCatalogEntryPoint","WAWebWamEnumCommunityCreationCurrentScreenType","WAWebWamEnumCommunityCreationEntrypointType","WAWebWamEnumLwiEntryPoint","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumShopsManagementAction","WAWebWamEnumWebcMenuItemLabel","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWamUtils","asyncToGeneratorRuntime","gkx","react","stylex","useWAWebDesktopUpsellWamImpression","useWAWebServerGatedAdEntryPoint","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useEffect,n={communityTabItem:{"@media screen and (min-width: 961px)_display":"x134i773",$$css:!0},desktopUpsellCtaHorizontalRule:{borderTopStyle:"x13fuv20",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",borderTopWidth:"x178xt8z",borderTopColor:"xyj1x25",$$css:!0}};function o(){d("WAWebBusinessProfileUtils").goToCommerceManager(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser())),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING)}function p(){c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.LOG_OUT),d("WAWebWamUtils").forceFlushAllWamAndQplBuffers(),d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebConfirmLogoutModal.react"),{checkUnsent:!0}))}function q(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebArchivedFlowLoadable").ArchivedFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}})),new(d("WAWebChatFolderOpenWamEvent").ChatFolderOpenWamEvent)({folderType:"Archive"}).commit(),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.ARCHIVED)}function r(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser(),b=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(a),e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(a);a=d("WAWebContactCollection").ContactCollection.assertGet(a);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:b,profilePicThumb:e,contact:a,conn:d("WAWebConnModel").Conn,isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE});c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.PROFILE)}function s(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS_HUB,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_BUSINESS_TOOLS),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))}).commit(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(c("WAWebOrderManagementFlowLoadable"),{isInitialStep:!0}))}function t(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebLabelFlowLoadable").LabelFlowLoadable,{isInitialStep:!0})),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.LABELS)}function u(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebStarredDrawerLoadable").StarredDrawerLoadable,{starredMsgs:d("WAWebStarredMsgCollection").AllStarredMsgsCollection,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},headerType:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?"pop-drawer-fast":"drawer-left"}),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.STARRED)}function v(){var a=d("WAWebChatCollection").ChatCollection.filter(function(a){if(!a.shouldAppearInList)return!1;var b=d("WAWebChatMessageSearch").matchFilter(a,{kind:d("WAWebChatSearchFilters").SearchFilters.UNREAD});a=a.archive;return b&&!a});a.forEach(function(a){var b=!1;d("WAWebUpdateUnreadChatAction").markUnread(a,b,!1)})}function w(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__fuuxDeu3oIw__JHASH__"),onOK:function(){d("WAWebModalManager").ModalManager.close(),v()},onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))}function x(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(c("WAWebNewCommunityInfoDrawer.react"),{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.startSession(d("WAWebWamEnumCommunityCreationEntrypointType").COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.enter(d("WAWebWamEnumCommunityCreationCurrentScreenType").COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)}function y(){d("WAWebCommunityDailyUtils").incrementCommunityTabEvent(d("WAWebCommunityDailyUtils").CommunityDailyTabMetricsType.TAB_VIEWS_VIA_CONTEXT_MENU),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})}function z(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()});return function(b){return a.apply(this,arguments)}}(),isSubFlow:!1})),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.NEW_GROUP)}function A(){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBizShopsManagePopup.react"),{onViewShopClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING)},onCommerceManagerClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING)},onCancelClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_SHOPS_SETTING)}})),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_SETTING)}function B(){var a=d("WAWebMsgCollection").MsgCollection.hasUnsentMessages();a?d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__UATx5IE1871__JHASH__"),onOK:function(){void d("WAWebLockScreenResolver").lockScreenAndTriggerUnlockFlow()},okText:h._("__JHASH__R7KgpC_DN6p__JHASH__"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),children:h._("__JHASH__xiQMrcGTdr2__JHASH__")})):void d("WAWebLockScreenResolver").lockScreenAndTriggerUnlockFlow()}function C(){return!d("WAWebConnModel").Conn.isSMB?!1:d("WAWebBusinessProfileUtils").hasShop(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))}function D(a){a.preventDefault();if(C()){a=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()));d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__fFaOVdV139l__JHASH__"),onOK:o,okText:h._("__JHASH__5riWR6qyguF__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close(),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_CATALOG_SETTING)},children:a?h._("__JHASH__i4ugKplCstV__JHASH__"):h._("__JHASH__mmVY0Ezbj1M__JHASH__")}));d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CATALOG_SETTING)}else d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ToolsMenu"}}}),d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow(null,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,!0),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.CATALOG)}function E(){return C()?h._("__JHASH__i8PGpl-HWvL__JHASH__"):h._("__JHASH__Uk6UVgyKYUF__JHASH__")}function F(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebQuickRepliesFlowLoadable").QuickRepliesFlowLoadable,{isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})}e=l.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a);a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);a=a[0];var f=e.dirX||d("WAWebDropdown.react").DirX.LEFT,g=e.dirY||d("WAWebDropdown.react").DirY.BOTTOM,i=e.chatListCollapsed,k=e.isMultiSelectMode,o=e.activeAccountInfo;m(function(){c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.OPEN)},[]);var v=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_ad_creation_home_menu_item",o),G=v[0];v=v[1];var H=function(){c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.BUSINESS_TOOLS),d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&e.setActiveNavBarItem!=null&&e.setActiveNavBarItem(d("WAWebNavBarTypes").NavBarItems.BizTools),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebBizToolsFlowLoadable").BizToolsFlowLoadable,{adsAccountInfo:o,entryPoint:d("WAWebWamEnumBusinessToolsEntryPointType").BUSINESS_TOOLS_ENTRY_POINT_TYPE.ENTRY_CONVERSATIONS}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?"pop-drawer-fast":"drawer-left"})},I=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},activeAccountInfo:o}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),c("WAWebChatlistHeaderDropdownLogEvents")(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.SETTINGS)},J=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:z,children:h._("__JHASH__6EroHqWSWmZ__JHASH__")}),K=d("WAWebCommunityGatingUtils").communitiesCreationEnabled()?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:x,children:h._("__JHASH__KIkd5AW9_IK__JHASH__")}):null,L=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,xstyle:n.communityTabItem,action:y,children:h._("__JHASH__A43R5wo4oR8__JHASH__")}),M=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:u,children:h._("__JHASH__5q5nsTsqpDh__JHASH__")}),N=d("WAWebBizGatingUtils").canEditLabelAssociation()&&l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:t,children:h._("__JHASH__QYeBWxOLrog__JHASH__")}),O=d("WAWebABProps").getABPropConfigValue("multi_select_from_chat_list");O=O&&!d("WAWebConnModel").Conn.isSMB&&!Boolean(i)&&!k?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e.startMultiSelect,children:h._("__JHASH__lQXMYzTlNZ2__JHASH__")}):null;i=c("gkx")("26258")?null:l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:w,children:h._("__JHASH__9aBOiUDKyZe__JHASH__")});k=d("WAWebConnModel").Conn.isSMB&&d("WAWebBizGatingUtils").orderManagementEnabled()&&l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:s,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__aSJVxxplgNS__JHASH__"):h._("__JHASH__adN1yKPXtK1__JHASH__")});H=d("WAWebBizGatingUtils").isBizToolsDrawerEnabled()?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:H,children:String(h._("__JHASH__CQ-A7XcVxvl__JHASH__"))}):null;var P,Q=d("WAWebUserPrefsMeUser").getMaybeMeUser();Q&&(P=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(Q));Q=d("WAWebConnModel").Conn.isSMB&&!d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(P)&&!d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:D,children:E()}):null;var R=d("WAWebConnModel").Conn.isSMB?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:r,children:h._("__JHASH__SRWKcs428BE__JHASH__")}):null,S=C()?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:A,children:d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))?h._("__JHASH__VaFslU7GScE__JHASH__"):h._("__JHASH__dOitml6Yl_0__JHASH__")}):null,T=d("WAWebBizGatingUtils").quickRepliesManagementEnabled()?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:F,children:h._("__JHASH__f3OO6H5v91x__JHASH__")}):null,U=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("chatlist_dropdown"),V=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareCTACheckSynchronous();U=U&&V;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:U===!0,source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN});V=U===!0?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN)},theme:d("WAWebDropdownItem.react").ThemeOptions.COMPACT,children:d("WAWebDesktopUpsellCommonStrings").getChatlistDropdownBtnLabel()}):null;U=o!=null&&!G&&d("WAWebBizGatingUtils").shouldShowAdCreationDropdown()?l.jsx(c("WAWebAdCreationDropdownItem.react"),{adCreationUrlInput:{sourceAdCreation:"whatsapp_smb_web_ad_creation_home_menu_item",activeAccountInfo:o},ctaText:v==null?void 0:v.content,lwiEntryPoint:d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM}):null;G=o!=null&&o!=="not-linked"&&d("WAWebBizGatingUtils").shouldShowManageAdsDropdown(o)?l.jsx(c("WAWebManageAdsDropdownItem.react"),{activeAccountInfo:o}):null;v=null;d("WAWebMiscGatingUtils").screenLockFeatureSupported()&&d("WAWebUserPrefsScreenLock").getScreenLockEnabled()&&(v=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:B,children:h._("__JHASH__g_MK-7Vvh8k__JHASH__")}));var W=v==null?l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:p,children:h._("__JHASH__3n1bF_cZdZK__JHASH__")}):null,X=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:q,children:h._("__JHASH__8AB9jeM6fYu__JHASH__")});I=l.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:I,testid:void 0,children:h._("__JHASH__AEGPaJYSERs__JHASH__")});return l.jsxs(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:f,dirY:g,style:e.style,testid:void 0,children:[H,J,!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&K,L,!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&R,S,U,G,Q,k,!a&&X,T,M,O,N,i,!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&I,v,W,V!=null?l.jsxs(l.Fragment,{children:[l.jsx("hr",{className:(j||(j=c("stylex")))([n.desktopUpsellCtaHorizontalRule,d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz1])}),V]}):null]},"ChatlistHeader")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebCommunityOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.37092 18.6728C6.22765 18.5403 6.10431 18.3762 6.00888 18.1973C5.88011 17.9559 5.80217 17.6876 5.79472 17.4335C5.77992 16.9291 5.75694 15.9341 5.81691 15.4918C5.84367 15.2944 5.89021 15.111 5.95079 14.9421C6.02312 14.7405 6.11792 14.5597 6.22835 14.3977C6.44698 14.077 6.72688 13.8296 7.01486 13.6386C7.04895 13.616 7.08314 13.5941 7.11736 13.5731C7.57933 13.2888 8.09602 13.1117 8.52831 12.9865C8.90306 12.878 9.34961 12.7693 9.85702 12.6823C10.485 12.5746 11.2062 12.5001 12 12.5001C12.7937 12.5001 13.5149 12.5746 14.1429 12.6823C14.6503 12.7693 15.0969 12.878 15.4716 12.9865C15.9039 13.1117 16.4206 13.2888 16.8826 13.5731C16.9168 13.5941 16.951 13.616 16.9851 13.6386C17.2731 13.8296 17.553 14.077 17.7716 14.3977C17.882 14.5597 17.9768 14.7405 18.0492 14.9421C18.1097 15.111 18.1563 15.2944 18.183 15.4918C18.243 15.9341 18.22 16.9291 18.2052 17.4335C18.1978 17.6876 18.1198 17.9559 17.9911 18.1973C17.8956 18.3762 17.7723 18.5403 17.629 18.6729C17.4138 18.872 17.1536 19 16.8756 19H7.12434C6.84632 19 6.58614 18.872 6.37092 18.6728ZM19.9606 15.4041C20.0099 15.9938 20.0031 16.2628 19.992 17C19.9887 17.22 19.985 17.3926 19.9822 17.4856C19.9692 17.9298 19.8643 18.6252 19.6869 19H22.6608C23.3769 19 23.9744 17.1535 23.9908 16.4244C24 16.0153 24.0117 16.2932 23.9736 15.9559C23.8921 15.2339 23.4788 14.7098 23.0245 14.3596C22.5875 14.0227 22.0691 13.8088 21.6087 13.6766C21.6029 13.675 21.5972 13.6733 21.5915 13.6717C21.5881 13.6707 21.5847 13.6698 21.5813 13.6688C21.5228 13.6524 21.4627 13.6362 21.401 13.6205C20.8883 13.49 20.2632 13.389 19.5555 13.389C19.5378 13.389 19.52 13.3891 19.5023 13.3892C19.4137 13.3898 19.3264 13.392 19.2405 13.3957C19.355 13.5637 19.4612 13.7454 19.5555 13.942C19.5647 13.9611 19.5738 13.9805 19.5828 13.9999C19.6332 14.1094 19.68 14.2234 19.7226 14.342C19.8237 14.6239 19.9007 14.9282 19.9447 15.253C19.9506 15.2963 19.9559 15.347 19.9606 15.4041ZM17.9339 11.4492C18.2894 11.7225 18.7156 11.9081 19.1802 11.9737C19.3028 11.991 19.4281 12 19.5555 12C20.1263 12 20.6553 11.8201 21.089 11.5141C21.7744 11.0305 22.2222 10.2319 22.2222 9.33C22.2222 7.85724 21.0283 6.67 19.5555 6.67C18.7591 6.67 18.0441 7.01722 17.5555 7.56905C17.1406 8.03762 16.8889 8.65371 16.8889 9.33C16.8889 9.57007 16.9206 9.80282 16.9801 10.0243C17.1343 10.5986 17.4753 11.0968 17.9339 11.4492ZM14.8977 9.61901C14.9641 9.52593 15.0262 9.42949 15.0835 9.33C15.3838 8.80927 15.5555 8.20499 15.5555 7.56C15.5555 7.36964 15.5406 7.18272 15.5117 7.00038C15.2434 5.30182 13.7733 4 12 4C10.2267 4 8.75657 5.30182 8.4882 7.00038C8.45939 7.18272 8.44443 7.36964 8.44443 7.56C8.44443 8.20499 8.61617 8.80927 8.91642 9.33C8.97378 9.42949 9.03584 9.52593 9.10229 9.61901C9.38894 10.0206 9.75728 10.3599 10.1831 10.6129C10.7148 10.9287 11.3362 11.11 12 11.11C12.6638 11.11 13.2851 10.9287 13.8168 10.6129C14.2427 10.3599 14.611 10.0206 14.8977 9.61901ZM7.01988 10.0243C7.07937 9.80282 7.1111 9.57007 7.1111 9.33C7.1111 8.65371 6.85934 8.03762 6.44443 7.56905C5.95581 7.01722 5.2409 6.67 4.44444 6.67C2.97168 6.67 1.77777 7.85724 1.77777 9.33C1.77777 10.2319 2.22555 11.0305 2.91093 11.5141C3.34469 11.8201 3.87362 12 4.44444 12C4.5718 12 4.6971 11.991 4.8197 11.9737C5.28435 11.9081 5.71054 11.7225 6.06606 11.4492C6.52463 11.0967 6.86561 10.5985 7.01988 10.0243ZM2.599 13.6205C2.53726 13.6362 2.47715 13.6524 2.41872 13.6688C2.41531 13.6698 2.41189 13.6707 2.40848 13.6717C2.40276 13.6733 2.39702 13.675 2.39128 13.6766C1.9309 13.8088 1.41245 14.0227 0.975466 14.3596C0.521192 14.7098 0.107939 15.2339 0.0263682 15.9559C-0.0117388 16.2932 2.95136e-05 17.0153 0.00922726 17.4244C0.0256195 18.1535 0.623061 19 1.33916 19H4.31303C4.13562 18.6252 4.03074 17.9298 4.01771 17.4856C4.01498 17.3926 4.01127 17.22 4.00795 17C3.99682 16.2628 3.99008 15.9938 4.03932 15.4041C4.04409 15.347 4.04938 15.2963 4.05525 15.253C4.09928 14.9282 4.17628 14.6239 4.27738 14.342C4.31992 14.2234 4.36671 14.1094 4.41718 13.9999C4.42615 13.9805 4.43524 13.9612 4.44444 13.942C4.53872 13.7454 4.64492 13.5636 4.7595 13.3957C4.67357 13.392 4.58626 13.3898 4.49762 13.3892C4.47995 13.3891 4.46224 13.389 4.44446 13.389C3.73676 13.389 3.11171 13.49 2.599 13.6205ZM12 14.5001C10.7893 14.5001 9.78078 14.706 9.08457 14.9076C8.70827 15.0166 8.39668 15.1342 8.16548 15.2764C7.94245 15.4137 7.86482 15.5296 7.83338 15.6173C7.81839 15.6591 7.80612 15.7064 7.79878 15.7605C7.79943 15.7557 7.7992 15.7596 7.7984 15.7735C7.79628 15.8102 7.79017 15.9159 7.78551 16.1142C7.77998 16.3491 7.77773 16.6382 7.77778 16.9391C7.77784 17.3256 7.78168 16.7121 7.78618 17H16.2138C16.2183 16.7121 16.2221 17.3256 16.2222 16.9391C16.2222 16.6383 16.22 16.3491 16.2144 16.1142C16.2098 15.9159 16.2037 15.8101 16.2016 15.7735C16.2007 15.7596 16.2005 15.7557 16.2012 15.7605C16.1938 15.7064 16.1816 15.6591 16.1666 15.6173C16.1351 15.5296 16.0575 15.4137 15.8345 15.2764C15.6033 15.1342 15.2917 15.0166 14.9154 14.9076C14.2192 14.706 13.2107 14.5001 12 14.5001ZM12 6C11.1441 6 10.4444 6.69763 10.4444 7.56C10.4444 8.41504 11.1368 9.11 12 9.11C12.8632 9.11 13.5555 8.41504 13.5555 7.56C13.5555 6.69763 12.8558 6 12 6Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityOutlineIcon=a}),98);
__d("WAWebCommunityUnreadOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-unread-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M20.5341 7.96681C20.6876 7.99133 20.8434 8.00391 21 8.00391C21.8 8.00391 22.56 7.68391 23.12 7.12391C23.68 6.56391 24 5.79391 24 5.00391C24 4.21391 23.68 3.44391 23.12 2.88391C22.6649 2.42885 22.0712 2.13227 21.4408 2.03709C21.2872 2.01257 21.1314 2 20.9749 2C20.1849 2 19.4149 2.32 18.8549 2.88C18.2949 3.44 17.9749 4.21 17.9749 5C17.9749 5.79 18.2949 6.56 18.8549 7.12C19.3099 7.57505 19.9036 7.87163 20.5341 7.96681Z",fill:"#009588"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0835 9.33378C15.0262 9.43327 14.9641 9.52971 14.8977 9.6228C14.611 10.0244 14.2427 10.3637 13.8168 10.6166C13.2851 10.9325 12.6638 11.1138 12 11.1138C11.3362 11.1138 10.7148 10.9325 10.1831 10.6166C9.75728 10.3637 9.38894 10.0244 9.10229 9.6228C9.03584 9.52971 8.97378 9.43327 8.91642 9.33378C8.61617 8.81306 8.44443 8.20878 8.44443 7.56378C8.44443 7.37342 8.45939 7.18651 8.4882 7.00417C8.75657 5.30561 10.2267 4.00378 12 4.00378C13.7733 4.00378 15.2434 5.30561 15.5117 7.00417C15.5406 7.18651 15.5555 7.37342 15.5555 7.56378C15.5555 8.20878 15.3838 8.81306 15.0835 9.33378ZM10.4444 7.56378C10.4444 6.70142 11.1441 6.00378 12 6.00378C12.8558 6.00378 13.5555 6.70142 13.5555 7.56378C13.5555 8.41882 12.8632 9.11378 12 9.11378C11.1368 9.11378 10.4444 8.41882 10.4444 7.56378Z",fill:"currentColor"}),j.jsx("path",{d:"M22.222 9.36134C21.8195 9.47847 21.3983 9.53976 20.9695 9.53976C19.7845 9.53976 18.6295 9.05976 17.7895 8.21976C17.6482 8.07844 17.517 7.9282 17.3967 7.7704C17.0772 8.2088 16.8889 8.74877 16.8889 9.33378C16.8889 9.57386 16.9206 9.80661 16.9801 10.028C17.1343 10.6023 17.4753 11.1005 17.9339 11.453C18.2894 11.7262 18.7156 11.9119 19.1802 11.9775C19.3028 11.9948 19.4281 12.0038 19.5555 12.0038C20.1263 12.0038 20.6553 11.8239 21.089 11.5179C21.7674 11.0393 22.213 10.252 22.222 9.36134Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00888 18.201C6.10431 18.3799 6.22765 18.5441 6.37092 18.6766C6.58615 18.8758 6.84632 19.0038 7.12434 19.0038H16.8756C17.1536 19.0038 17.4138 18.8758 17.629 18.6766C17.7723 18.5441 17.8956 18.3799 17.9911 18.2011C18.1198 17.9597 18.1978 17.6913 18.2052 17.4373C18.22 16.9329 18.243 15.9379 18.183 15.4956C18.1563 15.2982 18.1097 15.1148 18.0492 14.9459C17.9768 14.7442 17.882 14.5635 17.7716 14.4015C17.553 14.0807 17.2731 13.8334 16.9851 13.6423C16.951 13.6197 16.9168 13.5979 16.8826 13.5769C16.4206 13.2926 15.9039 13.1155 15.4716 12.9903C15.0969 12.8818 14.6503 12.7731 14.1429 12.6861C13.5149 12.5784 12.7937 12.5039 12 12.5039C11.2062 12.5039 10.485 12.5784 9.85702 12.6861C9.34961 12.7731 8.90306 12.8818 8.52831 12.9903C8.09602 13.1155 7.57933 13.2926 7.11736 13.5769C7.08314 13.5979 7.04895 13.6197 7.01487 13.6423C6.72688 13.8334 6.44698 14.0807 6.22835 14.4015C6.11792 14.5635 6.02312 14.7442 5.95079 14.9459C5.89021 15.1148 5.84367 15.2982 5.81691 15.4956C5.75694 15.9379 5.77992 16.9329 5.79472 17.4373C5.80217 17.6913 5.88011 17.9597 6.00888 18.201ZM9.08457 14.9114C9.78078 14.7098 10.7893 14.5039 12 14.5039C13.2107 14.5039 14.2192 14.7098 14.9154 14.9114C15.2917 15.0204 15.6033 15.138 15.8345 15.2802C16.0575 15.4175 16.1351 15.5334 16.1666 15.6211C16.1816 15.6629 16.1938 15.7102 16.2012 15.7643C16.2005 15.7595 16.2007 15.7634 16.2015 15.7772C16.2037 15.8138 16.2098 15.9197 16.2144 16.1179C16.22 16.3529 16.2222 16.642 16.2222 16.9428C16.2221 17.1247 16.2213 17.0852 16.2199 17.0224C16.2184 16.9516 16.2162 16.8513 16.2138 17.0038H7.78617C7.78379 16.8513 7.7816 16.9516 7.78005 17.0224C7.77867 17.0852 7.77781 17.1247 7.77778 16.9428C7.77773 16.642 7.77998 16.3529 7.78551 16.1179C7.79017 15.9199 7.79627 15.8141 7.79839 15.7774C7.7992 15.7635 7.79943 15.7595 7.79878 15.7643C7.80611 15.7102 7.81839 15.6629 7.83339 15.6211C7.86481 15.5334 7.94245 15.4175 8.16548 15.2802C8.39668 15.138 8.70827 15.0204 9.08457 14.9114Z",fill:"currentColor"}),j.jsx("path",{d:"M19.9934 16.9106L19.992 17.0038C19.9887 17.2237 19.985 17.3963 19.9822 17.4894C19.9692 17.9336 19.8643 18.629 19.6869 19.0038H22.6608C23.3769 19.0038 23.9744 17.1573 23.9908 16.4282C23.9937 16.2968 23.9969 16.2363 23.9987 16.2035C23.9998 16.1825 24.0003 16.1729 23.9998 16.1633C23.9993 16.1551 23.9981 16.147 23.9958 16.1319C23.9919 16.1062 23.985 16.0603 23.9736 15.9597C23.8921 15.2376 23.4788 14.7135 23.0245 14.3634C22.5875 14.0265 22.0691 13.8126 21.6087 13.6804L21.5915 13.6755L21.5813 13.6726C21.5228 13.6561 21.4627 13.64 21.401 13.6243C20.8883 13.4937 20.2632 13.3928 19.5555 13.3928L19.5023 13.393C19.4137 13.3936 19.3264 13.3958 19.2405 13.3995C19.355 13.5674 19.4612 13.7492 19.5555 13.9458C19.5647 13.9649 19.5738 13.9843 19.5828 14.0037C19.6332 14.1132 19.68 14.2272 19.7226 14.3458C19.8237 14.6277 19.9007 14.932 19.9447 15.2568C19.9506 15.3 19.9559 15.3508 19.9606 15.4079C20.0077 15.972 20.0036 16.2428 19.9934 16.9106Z",fill:"currentColor"}),j.jsx("path",{d:"M7.01988 10.028C7.07937 9.80661 7.1111 9.57386 7.1111 9.33378C7.1111 8.65749 6.85934 8.0414 6.44443 7.57283C5.9558 7.02101 5.2409 6.67378 4.44444 6.67378C2.97168 6.67378 1.77777 7.86103 1.77777 9.33378C1.77777 10.2357 2.22555 11.0343 2.91093 11.5179C3.34469 11.8239 3.87362 12.0038 4.44444 12.0038C4.5718 12.0038 4.6971 11.9948 4.8197 11.9775C5.28435 11.9119 5.71054 11.7262 6.06606 11.453C6.52463 11.1005 6.86561 10.6023 7.01988 10.028Z",fill:"currentColor"}),j.jsx("path",{d:"M2.41872 13.6726C2.47715 13.6561 2.53726 13.64 2.599 13.6243C3.11171 13.4937 3.73676 13.3928 4.44446 13.3928L4.49762 13.393C4.58626 13.3936 4.67357 13.3958 4.7595 13.3995C4.64492 13.5674 4.53872 13.7492 4.44444 13.9458C4.43524 13.9649 4.42615 13.9843 4.41718 14.0037C4.36671 14.1132 4.31992 14.2271 4.27738 14.3457C4.17628 14.6277 4.09928 14.932 4.05525 15.2568C4.04938 15.3 4.04409 15.3508 4.03932 15.4079C3.99221 15.972 3.99634 16.2427 4.00653 16.9106L4.00795 17.0038C4.01127 17.2237 4.01498 17.3963 4.01771 17.4894C4.03074 17.9336 4.13562 18.629 4.31303 19.0038H1.33916C0.623062 19.0038 0.0256194 18.1573 0.00922762 17.4282C2.84743e-05 17.0191 -0.011738 16.297 0.026369 15.9597C0.107939 15.2376 0.521192 14.7135 0.975466 14.3634C1.41245 14.0265 1.9309 13.8126 2.39128 13.6804L2.40848 13.6755L2.41872 13.6726Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityUnreadOutlineIcon=a}),98);
__d("WAWebCommunityTabIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-tab";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsxs("g",{clipPath:"url(#clip0_20095_12594)",children:[j.jsx("path",{d:"M4.7595 14.0357C4.65644 14.0313 4.55139 14.029 4.44446 14.029C3.65152 14.029 2.96238 14.1558 2.41872 14.3088C1.95159 14.4403 1.42115 14.656 0.975466 14.9996C0.521192 15.3498 0.107939 15.8739 0.0263682 16.5959C-0.0117388 16.9332 2.95136e-05 17.6554 0.00922726 18.0644C0.0256195 18.7935 0.623061 19.3623 1.33916 19.3623H4.31303C4.13562 18.9875 4.03074 18.5698 4.01771 18.1256C4.00494 17.6905 3.97075 16.5163 4.05525 15.893C4.09928 15.5682 4.17628 15.2639 4.27738 14.982C4.40496 14.6263 4.57082 14.3123 4.7595 14.0357Z",fill:"currentColor"}),j.jsx("path",{d:"M19.6869 19.3623H22.6608C23.3769 19.3623 23.9744 18.7935 23.9908 18.0644C24 17.6554 24.0117 16.9332 23.9736 16.5959C23.8921 15.8739 23.4788 15.3498 23.0245 14.9996C22.5788 14.656 22.0484 14.4403 21.5813 14.3088C21.0376 14.1558 20.3485 14.029 19.5555 14.029C19.4486 14.029 19.3435 14.0313 19.2405 14.0357C19.4291 14.3123 19.595 14.6263 19.7226 14.982C19.8237 15.2639 19.9007 15.5682 19.9447 15.893C20.0292 16.5163 19.995 17.6905 19.9822 18.1256C19.9692 18.5698 19.8643 18.9875 19.6869 19.3623Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.52831 13.6265C9.36687 13.3837 10.5649 13.1401 12 13.1401C13.4351 13.1401 14.6331 13.3837 15.4716 13.6265C15.9039 13.7517 16.4206 13.9288 16.8826 14.2131C17.352 14.5019 17.8167 14.934 18.0492 15.5821C18.1097 15.751 18.1563 15.9344 18.183 16.1318C18.243 16.5742 18.22 17.5691 18.2052 18.0735C18.184 18.7987 17.5884 19.3623 16.8756 19.3623H7.12434C6.41155 19.3623 5.81599 18.7987 5.79472 18.0735C5.77992 17.5691 5.75694 16.5742 5.81691 16.1318C5.84367 15.9344 5.89021 15.751 5.95079 15.5821C6.18324 14.934 6.64793 14.5019 7.11736 14.2131C7.57933 13.9288 8.09602 13.7517 8.52831 13.6265Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8889 9.97001C16.8889 8.49726 18.0828 7.31001 19.5555 7.31001C21.0283 7.31001 22.2222 8.49726 22.2222 9.97001C22.2222 11.4428 21.0283 12.64 19.5555 12.64C18.0828 12.64 16.8889 11.4428 16.8889 9.97001Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.44443 8.20001C8.44443 6.23634 10.0363 4.64001 12 4.64001C13.9636 4.64001 15.5555 6.23634 15.5555 8.20001C15.5555 10.1637 13.9636 11.75 12 11.75C10.0363 11.75 8.44443 10.1637 8.44443 8.20001Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.77777 9.97001C1.77777 8.49726 2.97168 7.31001 4.44444 7.31001C5.91719 7.31001 7.1111 8.49726 7.1111 9.97001C7.1111 11.4428 5.91719 12.64 4.44444 12.64C2.97168 12.64 1.77777 11.4428 1.77777 9.97001Z",fill:"currentColor"})]}),j.jsx("defs",{children:j.jsx("clipPath",{id:"clip0_20095_12594",children:j.jsx("rect",{width:24,height:24,fill:10101})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityTabIcon=a}),98);
__d("WAWebNewsletterTabIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="newsletter-tab";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M21.9218 10.6469C21.321 6.08949 17.5557 2.45561 12.9894 2.04404C7.06124 1.50197 2.16447 6.05937 2.05432 11.982C2.01426 14.1101 2.82538 15.9371 3.23595 16.7201L2.0443 20.6651C1.81398 21.4281 2.52497 22.1408 3.28602 21.9099L7.17139 20.7455C8.65344 21.5686 10.3157 22.0002 12.0181 22.0002C17.9663 22.0002 22.7129 16.7602 21.9118 10.6469H21.9218ZM8.06262 14.6823C8.333 15.0838 8.30296 15.6259 7.96249 15.9672C7.51186 16.429 6.76082 16.3386 6.40033 15.7966C5.66931 14.7124 5.23872 13.3974 5.23872 11.992C5.23872 10.5867 5.69936 9.17125 6.49045 8.057C6.84093 7.56512 7.57195 7.53501 8.00254 7.96665C8.35302 8.318 8.38307 8.86007 8.10268 9.2616C7.56193 10.0346 7.2515 10.9782 7.2515 11.992C7.2515 13.0059 7.56193 13.9093 8.08265 14.6723L8.06262 14.6823ZM12.0682 13.4978C11.237 13.4978 10.5661 12.8252 10.5661 11.992C10.5661 11.1588 11.237 10.4863 12.0682 10.4863C12.8993 10.4863 13.5702 11.1588 13.5702 11.992C13.5702 12.8252 12.8993 13.4978 12.0682 13.4978ZM17.5257 15.9471C17.1752 16.439 16.4442 16.4691 16.0236 16.0375C15.6731 15.6861 15.6431 15.1441 15.9235 14.7425C16.4642 13.9696 16.7847 13.0159 16.7847 12.0021C16.7847 10.9882 16.4542 10.0145 15.9035 9.24152C15.6131 8.82995 15.6331 8.27784 15.9836 7.91646C16.4042 7.49485 17.1252 7.51493 17.4857 8.00681C18.3068 9.1311 18.7875 10.5064 18.7875 12.0121C18.7875 13.5179 18.3168 14.8429 17.5257 15.9572V15.9471Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterTabIcon=a}),98);
__d("WAWebStatusIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="status";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("circle",{cx:12,cy:12,r:6,fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12C20 12.9267 19.8424 13.8166 19.5526 14.6444C19.3824 15.1305 19.5352 15.6866 19.9709 15.9613C20.4736 16.2782 21.1446 16.0964 21.3551 15.5406C21.7719 14.44 22 13.2466 22 12C22 7.15998 18.5615 3.12307 13.9941 2.19883C13.4118 2.08101 12.9 2.55153 12.9 3.14558C12.9 3.66061 13.2896 4.08652 13.7916 4.20139C17.3473 5.0149 20 8.19767 20 12ZM12 20C14.2014 20 16.1951 19.1108 17.6416 17.672C18.0063 17.3094 18.5733 17.208 19.0083 17.4823C19.5115 17.7995 19.6362 18.4841 19.2249 18.9138C17.4045 20.8156 14.8406 22 12 22C9.13243 22 6.54677 20.793 4.72334 18.8594C4.31526 18.4266 4.44515 17.7429 4.95068 17.4295C5.38777 17.1585 5.95401 17.2641 6.31591 17.6295C7.76573 19.0933 9.77697 20 12 20ZM3.9996 15.9013C4.43726 15.63 4.59424 15.075 4.42776 14.5877C4.15046 13.776 4 12.9056 4 12C4 8.19767 6.65269 5.0149 10.2084 4.20139C10.7104 4.08652 11.1 3.66061 11.1 3.14558C11.1 2.55153 10.5882 2.08101 10.0059 2.19883C5.4385 3.12307 2 7.15998 2 12C2 13.2201 2.21851 14.3892 2.61853 15.4702C2.82479 16.0276 3.49447 16.2145 3.9996 15.9013ZM12.0438 2.00009L12 2L11.9562 2.00009H12.0438Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusIcon=a}),98);
__d("WAWebStatusOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="status-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M13.5627 3.13663C13.6586 2.59273 14.1793 2.22466 14.7109 2.37438C15.7904 2.67842 16.8134 3.16256 17.7359 3.80858C18.9322 4.64624 19.9304 5.73574 20.6605 7.0005C21.3906 8.26526 21.8348 9.67457 21.9619 11.1294C22.06 12.2513 21.9676 13.3794 21.691 14.4662C21.5548 15.0014 20.9756 15.2682 20.4567 15.0793C19.9377 14.8903 19.6769 14.317 19.7996 13.7785C19.9842 12.9693 20.0421 12.1343 19.9695 11.3035C19.8678 10.1396 19.5124 9.01218 18.9284 8.00038C18.3443 6.98857 17.5457 6.11697 16.5887 5.44684C15.9055 4.96844 15.1535 4.601 14.3605 4.3561C13.8328 4.19314 13.4668 3.68052 13.5627 3.13663Z",fill:"currentColor"}),j.jsx("path",{d:"M18.8943 17.785C19.3174 18.14 19.3758 18.7749 18.9803 19.1604C18.1773 19.9433 17.2465 20.5872 16.2257 21.0631C14.9022 21.6802 13.4595 22 11.9992 21.9999C10.5388 21.9998 9.09621 21.6798 7.77275 21.0625C6.75208 20.5865 5.82137 19.9424 5.01843 19.1595C4.62302 18.7739 4.68155 18.139 5.10467 17.784C5.52779 17.4291 6.15471 17.4898 6.55964 17.8654C7.16816 18.4298 7.86233 18.8974 8.61817 19.25C9.67695 19.7438 10.831 19.9998 11.9993 19.9999C13.1676 20 14.3217 19.7442 15.3806 19.2505C16.1365 18.898 16.8307 18.4304 17.4393 17.8661C17.8443 17.4906 18.4712 17.43 18.8943 17.785Z",fill:"currentColor"}),j.jsx("path",{d:"M3.54265 15.0781C3.02367 15.267 2.44458 15.0001 2.30844 14.4649C2.03202 13.3781 1.93978 12.2502 2.03794 11.1283C2.16521 9.67361 2.60953 8.26444 3.33966 6.99984C4.06979 5.73523 5.06802 4.64587 6.2642 3.80832C7.18668 3.1624 8.20962 2.67833 9.28902 2.37434C9.82063 2.22462 10.3413 2.59271 10.4372 3.1366C10.5331 3.6805 10.1671 4.19311 9.63938 4.35607C8.84645 4.60094 8.09446 4.96831 7.41133 5.44663C6.45439 6.11667 5.65581 6.98816 5.0717 7.99985C4.4876 9.01153 4.13214 10.1389 4.03032 11.3026C3.95764 12.1334 4.01547 12.9683 4.19986 13.7775C4.32257 14.3159 4.06162 14.8892 3.54265 15.0781Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 16C14.2091 16 15.9999 14.2092 15.9999 12C15.9999 9.79088 14.2091 8.00002 11.9999 8.00002C9.7908 8.00002 7.99994 9.79088 7.99994 12C7.99994 14.2092 9.7908 16 11.9999 16ZM11.9999 18C15.3136 18 17.9999 15.3137 17.9999 12C17.9999 8.68631 15.3136 6.00002 11.9999 6.00002C8.68623 6.00002 5.99994 8.68631 5.99994 12C5.99994 15.3137 8.68623 18 11.9999 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusOutlineIcon=a}),98);
__d("WAWebUnreadActivityIndicator.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){return i.jsx("span",{ref:b,"data-testid":void 0,className:"x1rg5ohu x11inojt x16suv20 xo5v014 x1u28eo4 x2b8uid x16dsc37 x18ba5f9 x1lq5wgf xgqcy7u x30kzoy x9jhf4c"})}a.displayName=a.name+" [from "+f.id+"]";g.UnreadActivityIndicator=b}),98);
__d("WAWebNavBarUtils",["WAWebCommunityOutlineIcon","WAWebCommunityTabIcon","WAWebNavBarTypes","WAWebNewsletterOutlineIcon","WAWebNewsletterTabIcon","WAWebStatusIcon","WAWebStatusOutlineIcon","WAWebUnreadActivityIndicator.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a={height:24,width:24};var j={activeIcons:{read:i.jsx(d("WAWebStatusIcon").StatusIcon,{})},inactiveIcons:{read:i.jsx(d("WAWebStatusOutlineIcon").StatusOutlineIcon,{})}},k={activeIcons:{read:i.jsx(d("WAWebCommunityTabIcon").CommunityTabIcon,babelHelpers["extends"]({},a))},inactiveIcons:{read:i.jsx(d("WAWebCommunityOutlineIcon").CommunityOutlineIcon,babelHelpers["extends"]({},a))}},l={activeIcons:{read:i.jsx(d("WAWebNewsletterTabIcon").NewsletterTabIcon,babelHelpers["extends"]({},a))},inactiveIcons:{read:i.jsx(d("WAWebNewsletterOutlineIcon").NewsletterOutlineIcon,babelHelpers["extends"]({},a))}},m=function(a){switch(a){case d("WAWebNavBarTypes").NavBarItems.Status:return j;case d("WAWebNavBarTypes").NavBarItems.Communities:return k;case d("WAWebNavBarTypes").NavBarItems.Newsletters:return l;default:throw c("err")("_getAllIconForNavBarItem: trying to get icons for an unsupported navbar item")}};b=function(a,b,c){a=m(a);b=b?a.activeIcons:a.inactiveIcons;return c?i.jsxs("div",{className:"x1n2onr6",children:[b.read,i.jsx("div",{className:"x10l6tqk x1nc75zl xjifam0",children:i.jsx(d("WAWebUnreadActivityIndicator.react").UnreadActivityIndicator,{})})]}):b.read};g.getNavBarIcon=b}),98);
__d("WAWebCommunityTabMenuBarItem.react",["fbt","WAWebCommunityActivityCollection","WAWebCommunityOutlineIcon","WAWebCommunityUnreadOutlineIcon","WAWebMenuBar.react","WAWebNavBarTypes","WAWebNavBarUtils","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={communityTabItem:{"@media screen and (max-width: 960px)_display":"x1888pwy",$$css:!0}};b=j.forwardRef(a);function a(a,b){var e=a.onClick,f=a.selected;f=f===void 0?!1:f;a=a.vertical;var g=c("useWAWebEventTargetValue")(c("WAWebCommunityActivityCollection"),"add change remove community_tab_view",function(){return c("WAWebCommunityActivityCollection").shouldShowTabBadge()}),i={height:24,width:24};i=g?j.jsx(d("WAWebCommunityUnreadOutlineIcon").CommunityUnreadOutlineIcon,babelHelpers["extends"]({directional:!0},i)):j.jsx(d("WAWebCommunityOutlineIcon").CommunityOutlineIcon,babelHelpers["extends"]({},i));d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&(i=d("WAWebNavBarUtils").getNavBarIcon(d("WAWebNavBarTypes").NavBarItems.Communities,f,g));return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,xstyle:!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&k.communityTabItem,testid:void 0,title:h._("__JHASH__aaABNHvXhPE__JHASH__"),tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:i,onClick:e,theme:"force-size",vertical:a,selected:f,showHoverTooltip:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebDndIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="dnd";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M10.6,5.27v-0.6c0-0.68,0.6-1.28,1.27-1.28c0.68,0,1.27,0.6,1.27,1.28v0.59 c2.47,0.59,4.25,2.72,4.25,5.36v3.06L9.41,5.7C9.75,5.53,10.18,5.36,10.6,5.27z M11.88,20.4c-0.94,0-1.7-0.76-1.7-1.7h3.4 C13.57,19.64,12.81,20.4,11.88,20.4z M18.85,19.55l-1.7-1.7H4.65V17l1.7-1.7v-4.68c0-1.02,0.26-1.95,0.76-2.81L4.65,5.36l1.1-1.11 l14.19,14.19L18.85,19.55z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.DndIcon=a}),98);
__d("WAWebMetaBotMenuBarItem.react",["fbt","WAWebBotFrontendUtils","WAWebChatEntryPoint","WAWebFlex.react","WAWebImg.react","WAWebMenuBar.react","WAWebTabOrder","bx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={iconWrapper:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0}};b=j.forwardRef(a);function a(a,b){var e=a.showHoverTooltip;e=e===void 0?!1:e;a=a.vertical;var f=function(){void d("WAWebBotFrontendUtils").openMetaBotChat(d("WAWebChatEntryPoint").ChatEntryPoint.BotChatListShortcut)};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:j.jsx(d("WAWebFlex.react").FlexColumn,{grow:1,align:"center",justify:"center",xstyle:k.iconWrapper,children:j.jsx(c("WAWebImg.react"),{src:c("bx").getURL(c("bx")("14943")),style:{width:20,height:20},draggable:!1})}),title:h._("__JHASH__SHQfr2Qd8JF__JHASH__"),onClick:f,vertical:a,showHoverTooltip:e},"btn-meta-bot")}a.displayName=a.name+" [from "+f.id+"]";g.MetaBotMenuBarItem=b}),226);
__d("WAWebNewChatOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="new-chat-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M9.53277 12.9911H11.5086V14.9671C11.5086 15.3999 11.7634 15.8175 12.1762 15.9488C12.8608 16.1661 13.4909 15.6613 13.4909 15.009V12.9911H15.4672C15.9005 12.9911 16.3181 12.7358 16.449 12.3226C16.6659 11.6381 16.1606 11.0089 15.5086 11.0089H13.4909V9.03332C13.4909 8.60007 13.2361 8.18252 12.8233 8.05119C12.1391 7.83391 11.5086 8.33872 11.5086 8.991V11.0089H9.49088C8.83941 11.0089 8.33411 11.6381 8.55097 12.3226C8.68144 12.7358 9.09947 12.9911 9.53277 12.9911Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.944298 5.52617L2.99998 8.84848V17.3333C2.99998 18.8061 4.19389 20 5.66665 20H19.3333C20.8061 20 22 18.8061 22 17.3333V6.66667C22 5.19391 20.8061 4 19.3333 4H1.79468C1.01126 4 0.532088 4.85997 0.944298 5.52617ZM4.99998 8.27977V17.3333C4.99998 17.7015 5.29845 18 5.66665 18H19.3333C19.7015 18 20 17.7015 20 17.3333V6.66667C20 6.29848 19.7015 6 19.3333 6H3.58937L4.99998 8.27977Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewChatOutlineIcon=a}),98);
__d("WAWebNewsletterUnreadOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="newsletter-unread-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M19 7.5C19.8 7.5 20.56 7.18 21.12 6.62C21.68 6.06 22 5.29 22 4.5C22 3.71 21.68 2.94 21.12 2.38C20.56 1.82 19.79 1.5 19 1.5C18.21 1.5 17.44 1.82 16.88 2.38C16.32 2.94 16 3.71 16 4.5C16 5.29 16.32 6.06 16.88 6.62C17.44 7.18 18.21 7.5 19 7.5Z",fill:"#009588"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 12.5523 3.55228 13 3 13C2.44772 13 2 12.5523 2 12C2 6.47715 6.47715 2 12 2C12.3748 2 12.7451 2.02066 13.1099 2.06098C13.6588 2.12167 14.0546 2.61586 13.9939 3.1648C13.9333 3.71374 13.4391 4.10956 12.8901 4.04887C12.5982 4.0166 12.3012 4 12 4ZM20.8352 10.0061C21.3841 9.94537 21.8783 10.3412 21.939 10.8901C21.9793 11.2549 22 11.6252 22 12C22 17.5228 17.5228 22 12 22C11.4477 22 11 21.5523 11 21C11 20.4477 11.4477 20 12 20C16.4183 20 20 16.4183 20 12C20 11.6988 19.9834 11.4018 19.9511 11.1099C19.8904 10.5609 20.2863 10.0667 20.8352 10.0061Z",fill:"currentColor"}),j.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 13.7 2.43 15.3 3.18 16.7C2.63 18.54 2 20.69 2 21C2 21.55 2.45 22 3 22C3.31 22 5.46 21.37 7.3 20.82C8.7 21.57 10.3 22 12 22C17.52 22 22 17.52 22 12H20C20 16.4154 16.4154 20 12 20C10.6412 20 9.36447 19.6571 8.24444 19.057L7.51743 18.6676L6.72722 18.9038C5.95126 19.1357 5.12931 19.3791 4.41748 19.5825C4.62086 18.8707 4.86428 18.0487 5.09622 17.2728L5.33243 16.4826L4.94296 15.7556C4.34295 14.6355 4 13.3588 4 12C4 7.58457 7.58457 4 12 4V2Z",fill:"currentColor"}),j.jsx("path",{d:"M15.8301 8.63404C16.3081 8.35745 16.9198 8.52076 17.1964 8.9988C17.7077 9.88244 18 10.9086 18 12C18 13.0914 17.7077 14.1176 17.1964 15.0012C16.9198 15.4792 16.3081 15.6425 15.8301 15.366C15.352 15.0894 15.1887 14.4776 15.4653 13.9996C15.8052 13.4122 16 12.7304 16 12C16 11.2696 15.8052 10.5878 15.4653 10.0004C15.1887 9.52237 15.352 8.91063 15.8301 8.63404Z",fill:"currentColor"}),j.jsx("path",{d:"M8.16995 8.63404C8.64798 8.91063 8.81129 9.52237 8.5347 10.0004C8.19484 10.5878 8 11.2696 8 12C8 12.7304 8.19484 13.4122 8.5347 13.9996C8.81129 14.4776 8.64798 15.0894 8.16995 15.366C7.69191 15.6425 7.08017 15.4792 6.80358 15.0012C6.29231 14.1176 6 13.0914 6 12C6 10.9086 6.29231 9.88244 6.80358 8.9988C7.08017 8.52076 7.69191 8.35745 8.16995 8.63404Z",fill:"currentColor"}),j.jsx("path",{d:"M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterUnreadOutlineIcon=a}),98);
__d("WAWebNewsletterTabMenuBarItem.react",["fbt","WAWebMenuBar.react","WAWebNavBarTypes","WAWebNavBarUtils","WAWebNewsletterCollection","WAWebNewsletterOutlineIcon","WAWebNewsletterUnreadOutlineIcon","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","WAWebUserPrefsNewsletter","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){var e=a.onClick,f=a.selected;f=f===void 0?!1:f;a=a.vertical;var g=c("useWAWebEventTargetValue")(c("WAWebNewsletterCollection"),"add change remove newsletter_tab_close",function(){return c("WAWebNewsletterCollection").hasAnyUnreadSinceGivenTimestamp(d("WAWebUserPrefsNewsletter").getNewsletterTabLastSeenTimestamp())}),i={directional:!0,height:24,width:24};i=g?j.jsx(d("WAWebNewsletterUnreadOutlineIcon").NewsletterUnreadOutlineIcon,babelHelpers["extends"]({},i)):j.jsx(d("WAWebNewsletterOutlineIcon").NewsletterOutlineIcon,babelHelpers["extends"]({},i));d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&(i=d("WAWebNavBarUtils").getNavBarIcon(d("WAWebNavBarTypes").NavBarItems.Newsletters,f,g));return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,testid:void 0,title:h._("__JHASH__fuYpEH3JPqz__JHASH__"),tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:i,onClick:e,theme:"force-size",vertical:a,selected:f,showHoverTooltip:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebStatusUnreadOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="status-unread-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71672 8.34119C3.23926 8.06362 3.07722 7.45154 3.35479 6.97407C4.33646 5.28548 5.79114 3.92134 7.53925 3.05006C9.28736 2.17878 11.2524 1.83851 13.1916 2.07126C13.74 2.13707 14.1312 2.63494 14.0654 3.18329C13.9995 3.73164 13.5017 4.12282 12.9533 4.05701C11.4019 3.87081 9.82989 4.14303 8.43141 4.84005C7.03292 5.53708 5.86917 6.62839 5.08384 7.97926C4.80626 8.45672 4.19419 8.61876 3.71672 8.34119Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.8569 10.115C21.4065 10.0604 21.8963 10.4616 21.9509 11.0112C22.144 12.9548 21.7638 14.9125 20.857 16.6424C19.9503 18.3724 18.5567 19.799 16.8485 20.746C16.3655 21.0138 15.7568 20.8393 15.489 20.3563C15.2213 19.8732 15.3957 19.2646 15.8788 18.9968C17.2454 18.2392 18.3602 17.0979 19.0856 15.714C19.811 14.33 20.1152 12.7639 19.9607 11.209C19.9061 10.6594 20.3073 10.1696 20.8569 10.115Z",fill:"currentColor"}),j.jsx("path",{d:"M6.34315 17.6568C7.89977 19.2135 9.93829 19.9945 11.9785 20C12.4928 20.0013 12.9654 20.3306 13.0791 20.8322C13.2105 21.4123 12.8147 21.9846 12.22 21.9976C9.58797 22.0552 6.93751 21.0796 4.92893 19.0711C2.90126 17.0434 1.92639 14.3616 2.00433 11.7049C2.02177 11.1104 2.59704 10.7188 3.17612 10.8546C3.67682 10.9721 4.00256 11.4471 4.00009 11.9614C3.99021 14.0216 4.77123 16.0849 6.34315 17.6568Z",fill:"currentColor"}),j.jsx("circle",{cx:19.95,cy:4.05005,r:3,fill:"#009588"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusUnreadOutlineIcon=a}),98);
__d("useWAWebStatusActivityIndicator",["WAWebCollectionConstants","WAWebContactCollection","WAWebStatusCollection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useRef,j=b.useState;function a(){var a=j(function(){return d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).some(function(a){return a.unreadCount>0&&!a.contact.statusMute})}),b=a[0],c=a[1],e=i({});a=function(){var a=d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).some(function(a){var b=e.current[a.id.toString()];b=!b||a.t>b;return!a.contact.statusMute&&a.unreadCount>0&&b});a!==b&&c(a)};d("useWAWebListener").useListener(d("WAWebContactCollection").ContactCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,a);d("useWAWebListener").useListener(d("WAWebStatusCollection").StatusCollection,"add remove change:unreadCount change:t",a);var f=function(){d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).forEach(function(a){e.current[a.id.toString()]=a.t})};a=function(){f(),c(!1)};return{hasUnread:b,clearUnreadActivity:a}}g.useWAWebStatusActivityIndicator=a}),98);
__d("WAWebStatusMenuBarItem.react",["fbt","WAWebMenuBar.react","WAWebStatusNavigateTo","WAWebStatusOutlineIcon","WAWebStatusUnreadOutlineIcon","WAWebTabOrder","react","useWAWebStatusActivityIndicator"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){a=a.vertical;var c=d("useWAWebStatusActivityIndicator").useWAWebStatusActivityIndicator(),e=c.hasUnread,f=c.clearUnreadActivity;c=function(a){a.preventDefault(),d("WAWebStatusNavigateTo").navigateToStatus({openTab:!0,clearUnreadActivity:f})};e=e?j.jsx(d("WAWebStatusUnreadOutlineIcon").StatusUnreadOutlineIcon,{directional:!0}):j.jsx(d("WAWebStatusOutlineIcon").StatusOutlineIcon,{});return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,vertical:a,testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:e,title:h._("__JHASH__52qipdNXs4c__JHASH__"),onClick:c})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("useWAWebIsNewsletterUiEnabled",["WAWebCmd","WAWebNewsletterGatingUtils","WAWebPrimaryFeaturesModel","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function a(){return c("useWAWebEventTargetValue")([d("WAWebPrimaryFeaturesModel").PrimaryFeatures,d("WAWebCmd").Cmd],["change:newsletter","on_ab_props_update"],function(){return d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&d("WAWebNewsletterGatingUtils").isNewsletterEnabledOnPrimary()})}g["default"]=a}),98);
__d("WAWebChatlistHeader.react",["fbt","WAWebABProps","WAWebAdCreationMenuBarItem.react","WAWebBizGatingUtils","WAWebBizShopsManagePopup.react","WAWebBotGating","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCatalogEntrypointIcon","WAWebCatalogManagementFlowLoadable","WAWebChatlistHeader.scss","WAWebChatlistHeaderDropdown.react","WAWebClassnames","WAWebCmd","WAWebCommunityDailyUtils","WAWebCommunityFlowLoadable","WAWebCommunityTabMenuBarItem.react","WAWebConnModel","WAWebContactCollection","WAWebDetailImage.react","WAWebDndIcon","WAWebDrawerManager","WAWebDropdown.react","WAWebEmoji","WAWebEmoji.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebKeyboardTabUtils","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageYourselfMetricUtils","WAWebMetaBotMenuBarItem.react","WAWebModalManager","WAWebMuteCollection","WAWebMuteGetters","WAWebNewChatFlowLoadable","WAWebNewChatOutlineIcon","WAWebNewsletterTabMenuBarItem.react","WAWebOpenNewsletterTab","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSearchIcon","WAWebSettingsConst","WAWebSettingsFlowLoadable","WAWebShopFilledIcon","WAWebStatusMenuBarItem.react","WAWebTabOrder","WAWebTextStatusCollection","WAWebTextStatusUtils","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebTopMenuRedesignGatingUtils","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebWamEnumCatalogEntryPoint","fbs","react","stylex","useForceUpdate","useWAWebContactValues","useWAWebExternalBetaOptIn","useWAWebIsNewsletterUiEnabled","useWAWebListener","useWAWebMuteValues","useWAWebServerGatedAdEntryPoint","useWAWebTextStatus"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useMemo,o=b.useState,p={header:{position:"x1n2onr6",zIndex:"xfo81ep",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x13a6bvl",width:"xh8yej3",height:"x7j6532",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",backgroundColor:"x1pl83jw",$$css:!0},headerWithEmojiBadge:{display:"x78zum5",$$css:!0},privateHeader:{flexDirection:"xdt5ytf",alignItems:"x6s0dn4",height:"xt7dq6l",$$css:!0},privateMenuItems:{flexDirection:"xdt5ytf",alignItems:"x1cy8zhl",$$css:!0},betaIndicator:{width:"xvy4d1p",height:"xxk0z11",$$css:!0}};function a(a){var b,e=a.chatListCollapsed,f=a.headerRef,g=a.onSelectChatClick,i=a.isMultiSelectMode,k=a.activeAccountInfo,q=c("useForceUpdate")();a=d("useWAWebMuteValues").useMuteValues(a.mute.id,[d("WAWebMuteGetters").getIsMuted]);a=a[0];var r=n(d("WAWebUserPrefsMeUser").assertGetMeUser,[]),s=d("WAWebContactCollection").ContactCollection.assertGet(r);c("useWAWebTextStatus")({contact:s});b=d("useWAWebContactValues").useContactValues(s.id,[(b=d("WAWebFrontendContactGetters")).getTextStatusString,b.getTextStatusEmoji,b.getTextStatusLastUpdateTime,b.getTextStatusExpiryTs,b.getTextStatusEphemeralDuration]);var t=b[0],u=b[1],v=b[2],w=b[3];b=b[4];t=d("WAWebTextStatusUtils").shouldDisplayTextStatus(t,u,v,w,b);var x;if(u!=null&&t===!0){v=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(u);v!=null&&(x=l.jsx(c("WAWebEmoji.react"),{emoji:v,size:"small",className:"xjckbub"},"low-res"))}w=o(!1);b=w[0];var y=w[1];m(function(){d("WAWebConnModel").Conn.isSMB&&d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(r).then(function(){y(!0)})},[r]);t=n(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(r)},[r]);d("useWAWebListener").useListener(t,"change:profileOptions",q);u=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_ad_creation_home_screen_icon",k);v=u[0];w=u[1];q=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebNewChatFlowLoadable").NewChatFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.startSession(),d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.newChatPressed()};u=function(){var a=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(r),b=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(r);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:a,profilePicThumb:b,contact:s,conn:d("WAWebConnModel").Conn,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})};var z=function(){d("WAWebMuteCollection").MuteCollection.globalMute().unmute(),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__0sWOkmM3KYg__JHASH__")}))},A=function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}}),d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow(null,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_TOP_BAR)},B=function(){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBizShopsManagePopup.react"),{}))},C=function(){d("WAWebCommunityDailyUtils").incrementCommunityTabEvent(d("WAWebCommunityDailyUtils").CommunityDailyTabMetricsType.TAB_VIEWS),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},D=function(){d("WAWebOpenNewsletterTab").openNewsletterTab()},E=null;a&&(E=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebDndIcon").DndIcon,{}),title:h._("__JHASH__zbxl2t1i8o5__JHASH__"),onClick:z},"btn-dnd"));a=l.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((j||(j=c("stylex")))(x!=null&&p.headerWithEmojiBadge),c("WAWebChatlistHeader.scss").listUser),children:l.jsx(d("WAWebDetailImage.react").DetailImage,{ariaLabel:h._("__JHASH__dhIyISolv4D__JHASH__"),testId:"chatlist_header_profile_photo",theme:"chatlist_header_profile_photo",tabIndex:-1,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,id:r,size:40,onClick:u,emojiBadge:x})});z=null;u=d("useWAWebExternalBetaOptIn").useExternalBetaOptIn();u=u[0];if(u){u=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},initialStep:d("WAWebSettingsConst").SettingsSteps.Help}))};z=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:p.betaIndicator,children:l.jsx(d("WAWebText_DONOTUSE.react").Text,{as:"span",size:"10",weight:"bold",children:c("fbs")._("__JHASH__qGmtwD0AtR2__JHASH__")})}),vertical:e,onClick:u,title:""})}u=k!=null&&!v&&d("WAWebBizGatingUtils").shouldShowAdCreationIcon()?l.jsx(c("WAWebAdCreationMenuBarItem.react"),{activeAccountInfo:k,iconStyle:c("WAWebChatlistHeader.scss").commerceIconContainer,vertical:e,ctaText:w==null?void 0:w.content}):null;var F;if(b&&!d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(t)&&(d("WAWebConnModel").Conn.isSMB&&d("WAWebABProps").getABPropConfigValue("web_abprop_catalog_icon_on_top_bar"))){var G;v=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(t);d("WAWebBusinessProfileUtils").hasShop(t)?v||(G=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebShopFilledIcon").ShopFilledIcon,{directional:!0,className_DONOTUSE:c("WAWebChatlistHeader.scss").shopsIcon}),title:h._("__JHASH__zeijun4FCC6__JHASH__"),onClick:B})):G=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,testid:void 0,icon:l.jsx(d("WAWebCatalogEntrypointIcon").CatalogEntrypointIcon,{directional:!0,width:22,height:22}),title:h._("__JHASH__ofVkPQJ4i7___JHASH__"),onClick:A});F=l.jsx("div",{className:c("WAWebChatlistHeader.scss").commerceIconContainer,children:G})}w=e?{right:"auto",left:"calc(100% + 8px)",top:"0px"}:void 0;b=e?d("WAWebDropdown.react").DirX.RIGHT:void 0;t=c("useWAWebIsNewsletterUiEnabled")();v=t?l.jsx(c("WAWebNewsletterTabMenuBarItem.react"),{onClick:D,vertical:e}):null;B=e||!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled();A=B?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebNewChatOutlineIcon").NewChatOutlineIcon,{directional:!0}),title:h._("__JHASH__wYpVyRE3fxw__JHASH__"),onClick:q,vertical:e}):null;var H;d("WAWebBotGating").isBotShortcutEntryPointEnabled()&&!e&&(H=l.jsx(d("WAWebMetaBotMenuBarItem.react").MetaBotMenuBarItem,{}));return l.jsxs("header",{"data-testid":void 0,ref:f,className:j(p.header,e&&p.privateHeader),children:[a,l.jsx("div",{className:c("WAWebChatlistHeader.scss").listControls,children:l.jsx(d("WAWebMenuBar.react").MenuBar,{children:l.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",xstyle:e&&p.privateMenuItems,children:[z,E,u,F,H,l.jsx(c("WAWebCommunityTabMenuBarItem.react"),{onClick:C,vertical:e}),l.jsx(c("WAWebStatusMenuBarItem.react"),{vertical:e}),v,A,e?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebSearchIcon").SearchIcon,{}),title:h._("__JHASH__9pO6PfPoI0W__JHASH__"),onClick:function(){return d("WAWebCmd").Cmd.openCommandPalette()},vertical:e}):l.jsx("span",{}),l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebMenuIcon").MenuIcon,{}),vertical:e,title:h._("__JHASH__hskmX_lsgx4__JHASH__"),children:l.jsx(c("WAWebChatlistHeaderDropdown.react"),{chatListCollapsed:e,style:w,dirX:b,startMultiSelect:g,isMultiSelectMode:i,activeAccountInfo:k})})]})},"chatlist-header")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChatlistHeaderV2.react",["fbt","WAWebBusinessProfileCollection","WAWebChatlistHeaderDropdown.react","WAWebDndIcon","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageYourselfMetricUtils","WAWebMuteCollection","WAWebMuteGetters","WAWebNewChatFlowLoadable","WAWebNewChatOutlineIcon","WAWebTabOrder","WAWebToast.react","WAWebToastManager","WAWebUserPrefsMeUser","react","useForceUpdate","useWAWebListener","useWAWebMuteValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;function a(a){var b=a.headerRef,e=a.onSelectChatClick,f=a.isMultiSelectMode,g=a.activeAccountInfo,i=c("useForceUpdate")(),j=d("useWAWebMuteValues").useMuteValues(a.mute.id,[d("WAWebMuteGetters").getIsMuted]);j=j[0];var m=l(d("WAWebUserPrefsMeUser").assertGetMeUser,[]),n=l(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(m)},[m]);d("useWAWebListener").useListener(n,"change:profileOptions",i);n=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebNewChatFlowLoadable").NewChatFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.startSession(),d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.newChatPressed()};i=function(){d("WAWebMuteCollection").MuteCollection.globalMute().unmute(),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__0sWOkmM3KYg__JHASH__")}))};var o=null;j&&(o=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebDndIcon").DndIcon,{}),title:h._("__JHASH__zbxl2t1i8o5__JHASH__"),onClick:i},"btn-dnd"));j=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebNewChatOutlineIcon").NewChatOutlineIcon,{directional:!0}),title:h._("__JHASH__wYpVyRE3fxw__JHASH__"),onClick:n},"btn-new-chat");i=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebMenuIcon").MenuIcon,{}),title:h._("__JHASH__hskmX_lsgx4__JHASH__"),children:k.jsx(c("WAWebChatlistHeaderDropdown.react"),{startMultiSelect:e,isMultiSelectMode:f,activeAccountInfo:g,setActiveNavBarItem:a.setActiveNavBarItem})},"btn-menu");n=h._("__JHASH__Mogj7HPl88f__JHASH__");return k.jsx("header",{"data-testid":void 0,ref:b,children:k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:n,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB,menu:[o,j,i],focusBackOrCancel:!0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebClockBridgeApi",["WAWebClock"],(function(a,b,c,d,e,f,g){a={setWebClockSkew:function(a){a=a.newClockSkew;d("WAWebClock").Clock.setSkew(a)}};g.ClockBridgeApi=a}),98);
__d("WAWebPinnedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="pinned";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=19;m=19;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 19 19",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 19 19",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M9.5,18.419c-4.926,0-8.919-3.993-8.919-8.919 S4.574,0.581,9.5,0.581s8.919,3.993,8.919,8.919S14.426,18.419,9.5,18.419z M11.621,12.711l-0.082-2.99l1.647-1.963 c0.564-0.672,0.481-1.672-0.188-2.232l-0.32-0.269c-0.668-0.56-1.662-0.475-2.231,0.203L8.803,7.42L5.839,7.859 c-0.241,0.036-0.327,0.339-0.14,0.496l5.458,4.58C11.343,13.092,11.627,12.954,11.621,12.711z M5.62,13.994 c0.203,0.171,0.504,0.154,0.688-0.038l2.204-2.307l-1.085-0.91L5.538,13.31C5.381,13.524,5.417,13.823,5.62,13.994z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PinnedIcon=a}),98);
__d("WAWebCollapsedChatlistPanel",["WAWebChatCollection","WAWebChatlistUtils","WAWebDetailImage.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFlex.react","WAWebFlexStyles","WAWebMentionsIcon","WAWebMuteGetters","WAWebMutedIcon","WAWebName.react","WAWebPinnedIcon","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWDSTooltip.react","asyncToGeneratorRuntime","react","stylex","useForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useMemo,m=e.useRef,n={container:{overflowY:"x1rife3k",overflowX:"x1plvlek",$$css:!0},item:{display:"x78zum5",position:"x1n2onr6",width:"x1247r65",height:"xnnlda6",cursor:"x1ypdohk",textAlign:"x2b8uid",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",":hover_backgroundColor":"x1z0qo99",$$css:!0},itemActive:{backgroundColor:"x14v0smp",":hover_backgroundColor":"xnliwpv",$$css:!0},unreadCount:{backgroundColor:"x18ba5f9",color:"x1u28eo4",position:"x10l6tqk",top:"xndqk7f",end:"x4r51d9",left:null,right:null,borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",width:"xw4jnvo",height:"x1qx5ct2",fontSize:"x1pg5gke",$$css:!0},pin:{backgroundColor:"x1pl83jw",position:"x10l6tqk",top:"xndqk7f",start:"xi8xln7",left:null,right:null,borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",width:"xw4jnvo",height:"x1qx5ct2",$$css:!0},mute:{backgroundColor:"x1pl83jw",position:"x10l6tqk",top:"xndqk7f",end:"x4r51d9",left:null,right:null,borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",width:"xw4jnvo",height:"x1qx5ct2",$$css:!0}};function o(a){return a.hasUnreadMention?k.jsx(d("WAWebMentionsIcon").MentionsIcon,{width:12}):Math.min(a.unreadCount,99)}var p=d("WAWebFlatList.react").FlatListFactory();function a(){var a=c("useForceUpdate")(),b=l(function(){return new(c("WAWebFlatListController"))()},[]);d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change:unreadCount change:active change:pin change:muteExpiration",a);a=d("WAWebChatCollection").ChatCollection.filter(function(a){return!a.archive&&a.shouldAppearInList}).map(function(a){return{itemKey:a.id.toString(),chat:a}});return k.jsx(c("WAWebFlatListContainer.react"),{className:(i||(i=c("stylex")))([n.container,d("WAWebUISpacing").uiPadding.top8]),flatListControllers:[b],children:k.jsx(p,{data:a,renderItem:function(a){return k.jsx(q,{chat:a.chat,isActive:a.chat.active})},direction:"vertical",flatListController:b,defaultItemHeight:56,defaultItemWidth:74,disablePointerEventsOnScroll:!1})})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var e=a.chat;a=a.isActive;var f=m(null),g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebChatlistUtils").openExistingChat(e.id)});return function(){return a.apply(this,arguments)}}();return k.jsxs(c("WAWebUnstyledButton.react"),{ref:f,xstyle:[n.item,a&&n.itemActive,d("WAWebUISpacing").uiPadding.all8,d("WAWebUISpacing").uiMargin.horizAuto],onClick:g,children:[k.jsx(d("WAWebDetailImage.react").DetailImage,{xstyle:d("WAWebUISpacing").uiMargin.allAuto,id:e.id,size:d("WAWebDetailImage.react").DetailImageSize.ExtraSmall,waitIdle:!0}),Boolean(e.pin)&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:n.pin,children:k.jsx(d("WAWebPinnedIcon").PinnedIcon,{})}),e.unreadCount>0&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:n.unreadCount,children:o(e)}),d("WAWebMuteGetters").getIsMuted(e.mute)&&e.unreadCount<=0&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:n.mute,children:k.jsx(d("WAWebMutedIcon").MutedIcon,{width:14,height:14})}),k.jsx(d("WAWebWDSTooltip.react").WDSHoverTooltip,{name:"avatar-"+e.id.toString(),targetRef:f,position:d("WAWebWDSTooltip.react").PopoverPosition.End,alignment:d("WAWebWDSTooltip.react").PopoverAlignment.Center,buffer:16,children:k.jsx(d("WAWebName.react").Name,{chat:e,xstyle:d("WAWebFlexStyles").getFlexStyles({flex:!0,align:"center",gap:4}).xstyle})})]})}q.displayName=q.name+" [from "+f.id+"]";g.CollapsedChatlistPanel=a}),98);
__d("WAWebComposeBox.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={"-overlay-border-left":"1px;",footer:"_ak1i",botSuggestions:"_anyz",blockCompose:"_ak1k",inputContainer:"_ak1l",inputContainerMaterial:"_ap4z",boxPanelWrapper:"_ak1m",pttComposerActive:"_ak1n",attachButtonContainer:"_ak1o",mainContentContainer:"_ak1p",textMessageComposerContainer:"_ak1q",textMessageComposerInputContainer:"_ak1r",pttComposerContainer:"_ak1s",childPadding:"_ak1t",sendButtonContainer:"_ak1u",focusAnimation:"_ak1v",expressionsPanelPickerWrapper:"_als4"};b=a;g["default"]=b}),98);
__d("WAWebRoundSendInvIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="round-send-inv";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=35;m=35;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 35 35",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 35 35",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M17.5,0.25C7.988,0.25,0.25,7.988,0.25,17.5 S7.988,34.75,17.5,34.75s17.25-7.738,17.25-17.25S27.012,0.25,17.5,0.25z M14.3,24.2l-5.6-5.6l1.4-1.4l4.2,4.2l10.6-10.6l1.4,1.4 L14.3,24.2z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RoundSendInvIcon=a}),98);
__d("WAWebConversationSpam.react",["fbt","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlocklistCollection","WAWebBlocklistUtils","WAWebBox.react","WAWebBusinessProfileTypes","WAWebChatGroupUtils","WAWebClickableLink.react","WAWebCmd","WAWebContactGetters","WAWebDrawerManager","WAWebExitIcon","WAWebFMXUtils","WAWebFbtCommon","WAWebFlex.react","WAWebFrontendContactGetters","WAWebLeaveCommunityModal.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebPrivacyVisibilityEditDrawer.react","WAWebReportContactPopup.react","WAWebReportSpamPopup.react","WAWebRoundSendInvIcon","WAWebSendSpamChatAction","WAWebSettingsBlockedIcon","WAWebSpamConstants","WAWebSvgComponentBase","WAWebThumbsDownIcon","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWDSButton","WAWebWDSText.react","WAWebXIcon","react","useForceUpdate","useWAWebContactValues","useWAWebListener","useWAWebModelValues","useWAWebWindowSize"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={spam:{textAlign:"x2b8uid",backgroundColor:"x1bmpntp",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xdvm3u5",boxShadow:"x1cz2lhn",$$css:!0},link:{display:"x1lliihq",$$css:!0}},l={spamFXMWrapper:{borderStartWidth:"xy80clv",borderStartStyle:"x26u7qi",borderStartColor:"x1mmk74n",$$css:!0},spamFMX:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",backgroundColor:"x1qlhaiu",$$css:!0}};function a(a){var b,e=a.contact,f=c("useForceUpdate")(),g=d("useWAWebModelValues").useModelValues(a.chat,["id","isPSA","isIAS","shouldAppearInList","trusted","isGroup","contact","groupMetadata"]);b=d("useWAWebContactValues").useContactValues(a.contact.id,[(b=d("WAWebContactGetters")).getId,b.getIsBusiness,b.getIsSupportAccount,b.getVerifiedLevel,d("WAWebFrontendContactGetters").getFormattedName,b.getIsMe,d("WAWebFrontendContactGetters").getBusinessProfile,b.getIsMyContact]);b[0];var i=b[1],l=b[2],m=b[3];b[4];var o=b[5];b[6];b[7];d("useWAWebListener").useListener(d("WAWebBlocklistCollection").BlocklistCollection,["add","remove","reset"],f);var p=function(){d("WAWebSendSpamChatAction").sendReport({chat:g,spamFlow:g.isGroup===!0?d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport:d("WAWebSpamConstants").SpamFlow.OneToOneChatSpamBannerReport}),d("WAWebModalManager").ModalManager.close()},q=function(){d("WAWebSendSpamChatAction").sendSpamExitClear(g,d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport),d("WAWebModalManager").ModalManager.close()},r=function(){d("WAWebSendSpamChatAction").sendSpamBlockClear(g,d("WAWebSpamConstants").SpamFlow.OneToOneChatSpamBannerReport),d("WAWebModalManager").ModalManager.close()};b=function(){var a;a=(a=g.groupMetadata)==null?void 0:a.getParentGroupChat();a!=null&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(g)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebLeaveCommunityModal.react").LeaveCommunityModal,{chat:a})):d("WAWebCmd").Cmd.deleteOrExitChat(g)};f=function(){if(!g.isGroup&&d("WAWebBlocklistUtils").isRBIRevampedBlockReportDesignEnabled()){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:g,spamFlow:d("WAWebSpamConstants").SpamFlow.OneToOneChatSpamBannerReport}));return}d("WAWebModalManager").ModalManager.open(g.isGroup?j.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isGroupChat:!0,onReport:p,onReportExitClear:q,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}):j.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isBusiness:i,isGroupChat:!1,onReport:p,onReportBlockClear:r,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))};var s=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebPrivacyVisibilityEditDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},category:"groupAdd"}))};if(g.isPSA||g.isIAS||!g.shouldAppearInList||g.trusted||l||o)return null;l=d("WAWebBlocklistCollection").BlocklistCollection.get(g.id);var t;d("WAWebFMXUtils").supportsFMX()?(o=d("WAWebWDSButton").WDSButtonSecondary,t=d("WAWebWDSButton").WDSButtonSecondaryDestructive):(o=d("WAWebWDSButton").WDSButtonPlainWhite,t=d("WAWebWDSButton").WDSButtonPlainWhite);var u=j.jsx(o,{testid:void 0,onClick:a.onClickNotSpam,icon:d("WAWebRoundSendInvIcon").RoundSendInvIcon,children:c("WAWebFbtCommon")("OK")},"not_spam");a=j.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,onClick:a.onClickDismissSpam,role:"button",xstyle:[d("WAWebUISpacing").uiMargin.topAuto,d("WAWebUISpacing").uiMargin.bottomAuto],children:j.jsx(d("WAWebXIcon").XIcon,{height:24,width:24,color:d("WAWebSvgComponentBase").SvgColorProp.GRAY_LIGHTER})},"dismiss_spam");f=j.jsx(t,{testid:void 0,onClick:f,icon:d("WAWebThumbsDownIcon").ThumbsDownIcon,children:h._("__JHASH__lmNWNj4RDIv__JHASH__")},"report_spam");var v=d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(g)?c("WAWebFbtCommon")("Exit Community"):c("WAWebFbtCommon")("Leave Group");b=j.jsx(t,{testid:void 0,onClick:b,icon:d("WAWebExitIcon").ExitIcon,children:v},"exit_group");var w,x,y;v=[];g.isGroup?(w=h._("__JHASH__xoe_b-sdvPK__JHASH__"),x=h._("__JHASH__sNsqCOsH0Gk__JHASH__",[h._implicitParam("=m2",j.jsx(c("WAWebClickableLink.react"),{onClick:s,xstyle:k.link,children:h._("__JHASH__EX87RN9WDOW__JHASH__")}))]),v.push(f),v.push(b),v.push(u)):(d("WAWebFMXUtils").supportsFMXV2()?w=j.jsx(d("WAWebBox.react").Box,{xstyle:d("WAWebUISpacing").uiPadding.end15,children:h._("__JHASH__Wo9DdALigPb__JHASH__")}):w=h._("__JHASH__mL_WlXttd9O__JHASH__"),i&&(m!==d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&d("WAWebFMXUtils").supportsFMXV2()?w=h._("__JHASH__g_IJrWB_k-u__JHASH__"):m===d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH?w=d("WAWebMiscGatingUtils").isBlueStringsEnabled()?h._("__JHASH__tJA4t9pbdwk__JHASH__"):h._("__JHASH__F3njffzzKpt__JHASH__"):w=h._("__JHASH__EY0lxbH6b-w__JHASH__")),l?y=j.jsx(o,{testid:void 0,onClick:function(){return d("WAWebBlockContactUtils").handleUnblock(e,i?d("WAWebBlockContants").BlockEntryPoint.BizSpamBannerBlock:d("WAWebBlockContants").BlockEntryPoint.OneToOneOldSpamBannerBlock)},grow:1,children:c("WAWebFbtCommon")("Unblock")},"unblock"):y=j.jsx(t,{testid:void 0,onClick:function(){return d("WAWebBlockContactUtils").handleBlock(g,i?d("WAWebBlockContants").BlockEntryPoint.BizSpamBannerBlock:d("WAWebBlockContants").BlockEntryPoint.OneToOneOldSpamBannerBlock)},icon:d("WAWebSettingsBlockedIcon").SettingsBlockedIcon,grow:1,children:c("WAWebFbtCommon")("Block")},"block"),v.push(f,y,u));if(d("WAWebFMXUtils").supportsFMX()){g.isGroup?s=[b,u]:i?s=[y,u]:s=[y,a];return j.jsx(n,{primary:w,secondary:x,buttons:s})}return j.jsx(d("WAWebFlex.react").FlexColumn,{children:j.jsxs(d("WAWebFlex.react").FlexContainer,{alignSelf:"stretch",align:"center",xstyle:[k.spam,d("WAWebUISpacing").uiPadding.all16],gap:16,testid:void 0,direction:"vertical",children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:w}),j.jsx(d("WAWebWDSButton").ButtonGroup,{direction:"horizontal",style:{minWidth:200},children:v}),x&&j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",children:j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:x})})]})})}a.displayName=a.name+" [from "+f.id+"]";var m=1250;function n(a){var b=a.buttons,e=a.primary;a=a.secondary;var f=c("useWAWebWindowSize")();f=f.width;f=f<=m?d("WAWebFlex.react").FlexColumn:d("WAWebFlex.react").FlexRow;return j.jsx(d("WAWebFlex.react").FlexColumn,{padding:8,xstyle:l.spamFXMWrapper,children:j.jsxs(f,{alignSelf:"stretch",align:"center",justify:"all",xstyle:l.spamFMX,padding:[16,16,16,16],gap:16,testid:void 0,children:[j.jsxs(d("WAWebFlex.react").FlexColumn,{children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:e}),a!=null&&j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:a})]}),j.jsx(d("WAWebWDSButton").ButtonGroup,{direction:"horizontal",shrink:0,children:b})]})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebComposeBoxPopupPanels.react",["WAWebAnimationGroup","WAWebAnimationGroupItem.react","WAWebBizCtwaContextImagePreview.react","WAWebChatAutoMutedConfirmation.react","WAWebComposeBoxPanels.react","WAWebComposeBoxPanelsMenu.react","WAWebComposeBoxPopupPanel.react","WAWebConversationSpam.react","WAWebFocusIndicator","WAWebFrontendMsgGetters","WAWebMediaLinkPreview.react","WAWebMiscGatingUtils","WAWebMuteGetters","WAWebQuotedMsg.react","WAWebQuotedMsgAdminGroupName.react","WAWebStateUtils","WAWebUim","WAWebUimUie.react","react","useForceUpdate","useWAWebListener","useWAWebMeasure","useWAWebSetModelValue"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef;e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=a.linkPreviewData,g=a.ctwaContextLinkData,h=a.ctwaContextData,i=a.restoreFocus,m=a.selectedPanelId,n=a.getComposeBlockWidth,o=a.onComposeHeightChange,p=a.omitLinkPreview,q=a.omitCtwa,r=a.attachmentButtonHidden,s=a.onEmoji,t=a.onGif,u=a.onPanelChange,v=a.onSticker,w=a.onPanelClose,x=a.showSpamPanel,y=a.onClickNotSpam,z=a.onClickDismissSpam,A=a.canShowChatAutoMutedNux,B=a.onOpenChatAutoMuteNux,C=a.onAcceptChatAutoMuteNux;a=a.onUnmuteChatAutoMuteNux;var D=c("useForceUpdate")();d("useWAWebListener").useListener(e.composeQuotedMsg,"change:latestEditMsgKey",D);var E;if(f){D=f.title;var F=f.matchedText,G=f.description,H=f.thumbnail,I=f.inviteGrpType,J=f.isLoading,K=f.thumbnailHQ,L=f.thumbnailWidth;f=f.thumbnailHeight;E=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:p,children:j.jsx("div",{"data-testid":void 0,children:j.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:p,bodyBackground:!1,attachmentButtonHidden:r,children:j.jsx(c("WAWebMediaLinkPreview.react"),{title:D,compose:!0,thumbnailJpegHQ:K,matchedText:F,description:G,thumbnailJpeg:H,inviteGrpType:I,isLoading:J,thumbnailJpegWidth:L,thumbnailJpegHeight:f})})})})})}p=e.composeQuotedMsg;D=e.quotedMsgAdminGroupJid;K=e.quotedMsgAdminGroupSubject;F=e.quotedMsgAdminParentGroupJid;G=e.composeQuotedMsgRemoteJid;var M=d("useWAWebSetModelValue").useSetModelValue(e,"composeQuotedMsg"),N=d("useWAWebSetModelValue").useSetModelValue(e,"quotedMsgAdminGroupJid"),O;if(p){H=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;M(null)};O=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:i,requestDismiss:H,children:j.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:H,attachmentButtonHidden:r,children:j.jsx(c("WAWebQuotedMsg.react"),{msg:p.safe(),composeQuotedMsgRemoteJid:G,theme:"composeBox",chat:d("WAWebFrontendMsgGetters").getChat(p)},p.id.toString())})})})}else if(D){I=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;N(null)};O=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(d("WAWebUimUie.react").UIE,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:i,requestDismiss:I,children:j.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:I,attachmentButtonHidden:r,children:j.jsx(d("WAWebQuotedMsgAdminGroupName.react").QuotedMsgAdminGroupName,{isComposePreview:!0,quotedGroupJid:D,quotedParentGroupJid:K!=null?F:void 0,quotedGroupSubject:K},D.toString())})})})}J=d("WAWebStateUtils").unproxy(e);L=null;x&&!J.isPSA&&J.shouldAppearInList&&J.msgs&&J.msgs.length>0&&(L=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(c("WAWebConversationSpam.react"),{chat:J,contact:J.contact,onClickNotSpam:y,onClickDismissSpam:z})}));f=null;d("WAWebMiscGatingUtils").isAutoMuteConfirmationDialogEnabled()&&L==null&&J.isGroup&&d("WAWebMuteGetters").getIsMuted(J.mute)&&J.mute.isAutoMuted&&A&&(f=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(c("WAWebChatAutoMutedConfirmation.react"),{onOpen:B,onOK:C,onUnmute:a})}));var P=l(null),Q=l();H=function(a){Q.current=a};k(b,function(){return{restoreFocus:function(a){var b;(b=P.current)==null?void 0:b.restoreFocus(a)}}});G=c("useWAWebMeasure")();p=G[0];I=G[1];F=I.width>0?I.width:n();K=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),i()};D=null;m&&F!=null&&(D=j.jsx(c("WAWebAnimationGroupItem.react"),{ref:p,children:j.jsx(c("WAWebComposeBoxPanels.react"),{displayCache:Q.current,width:F,onDisplayCache:H,onEmoji:s,onFocusRelease:K,onGif:t,onPanelChange:u,onSticker:v,requestDismiss:w,ref:P,selectedPanelId:m,theme:d("WAWebComposeBoxPanelsMenu.react").PanelsTheme.ChatComposeBox})}));var R;g&&(R=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBoxCtwaContextPreview",escapable:!0,requestDismiss:q,children:j.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:q,attachmentButtonHidden:r,children:j.jsx(c("WAWebBizCtwaContextImagePreview.react"),{context:h,sourceUrl:g.sourceUrl,compose:!0})})})}));e=function(a,b){b===void 0&&(b=!1),o({overlay:a},b)};return j.jsx("div",{className:"x10l6tqk x13vifvy x17qophe xh8yej3",children:j.jsx("div",{className:"x10l6tqk x1ey2m1c x17qophe x9f619 xh8yej3",children:j.jsxs(c("WAWebAnimationGroup"),{onHeightChange:e,children:[f,L,D,O,E,R]})})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebConversationSpamUtils",["WALogger","WASmaxGroupsAcknowledgeGroupRPC","WAWebSendSpamChatAction","WAWebStateUtils","WAWebWidToJid"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[callp] acknowledging group ",""]);h=function(){return a};return a}function a(a){return!a.trusted&&!d("WAWebStateUtils").unproxy(a).msgs.getModelsArray().some(function(a){return a.subtype==="contact_info_card"})}function b(a){d("WAWebSendSpamChatAction").sendNotSpam(a,!0)["catch"](function(){}),a.isGroup&&(d("WALogger").LOG(h(),a.id.toLogString()),d("WASmaxGroupsAcknowledgeGroupRPC").sendAcknowledgeGroupRPC({iqTo:d("WAWebWidToJid").widToGroupJid(a.id)})["catch"](function(){}))}g.shouldShowSpamPanel=a;g.acknowledgeGroupAsNotSpam=b}),98);
__d("WAWebExpressionsPanelPicker.react",["fbt","WAWebABProps","WAWebCmd","WAWebComposeBoxPanelTypes","WAWebDropdown.react","WAWebEmojiPanel.react","WAWebFlex.react","WAWebGifIcon","WAWebGifPanel.react","WAWebIconTabs.react","WAWebPanelsDisplayLocation","WAWebSmileyIcon","WAWebStickerIcon","WAWebStickerPanel.react","WAWebTabOrder","WAWebUISpacing","WAWebUimUie.react","WAWebUnstyledButton.react","WAWebUserPrefsGeneral","WAWebVelocityTransitionGroup","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useImperativeHandle,m=b.useRef,n=b.useState,o={button:{color:"xfect85",$$css:!0},activeButton:{color:"xjudz8i",$$css:!0},tabsContainer:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xao2bj1",height:"xsdox4t",$$css:!0},tab:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0}};e=k.forwardRef(a);function a(a,b){var e=a.getComposeBoxEditorRef,f=a.iconWidth,g=a.onEmoji,i=a.onGif,j=a.onSticker,p=a.onToggleActive;a=n(!1);var q=a[0],r=a[1];a=n(d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI);var s=a[0],t=a[1],u=[d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI,i?d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.GIF:null,j?d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER:null].filter(Boolean),v=function(a){return u.includes(a)},w=m(null),x=m(null),y=m(null);a=n("");var z=a[0],A=a[1],B=function(a){r(a),p==null?void 0:p(a)};a=function(a){A(a)};var C=function(a){if(q)return;t(a);B(!0)},D=function(){A(""),B(!1)},E=function(){if(q)B(!1);else{var a=d("WAWebUserPrefsGeneral").getLastComposeBoxPanel();t(v(a)?a:d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI);B(!0)}},F=[{icon:k.jsx(d("WAWebSmileyIcon").SmileyIcon,{}),key:d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI,testid:"compose-btn-emoji"},{icon:k.jsx(d("WAWebGifIcon").GifIcon,{}),key:d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.GIF,testid:"compose-btn-gif"},v(d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER)?{icon:k.jsx(d("WAWebStickerIcon").StickerIcon,{}),key:d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER,testid:"compose-btn-sticker"}:null].filter(Boolean),G=u.map(function(a){if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI)return{Icon:d("WAWebSmileyIcon").SmileyIcon,iconStyle:o.tab,ariaLabel:h._("__JHASH__tJd2_iASRmu__JHASH__")};if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.GIF)return{Icon:d("WAWebGifIcon").GifIcon,iconStyle:o.tab,ariaLabel:h._("__JHASH__fgcair3r9qj__JHASH__")};if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER)return v(d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER)?{Icon:d("WAWebStickerIcon").StickerIcon,iconStyle:o.tab,ariaLabel:h._("__JHASH__Lgi_15kaHGu__JHASH__")}:null}).filter(Boolean),H=function(){return t(u[(u.indexOf(s)-1+u.length)%u.length])},I=function(){return t(u[(u.indexOf(s)+1)%u.length])},J;switch(s){case d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.EMOJI:J=k.jsx(d("WAWebEmojiPanel.react").EmojiPanel,{defaultSearchText:z,displayCache:w.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:a,onDisplayCache:function(a){w.current=a},onEmoji:g,onFocusPrev:H,onFocusNext:I});break;case d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.GIF:J=k.jsx(d("WAWebGifPanel.react").GifPanel,{defaultSearchText:z,displayCache:x.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:a,onDisplayCache:function(a){x.current=a},onFocusPrev:H,onFocusNext:I,onGif:function(a,b){i==null?void 0:i(a,b)}});break;case d("WAWebComposeBoxPanelTypes").ComposeBoxPanel.STICKER:J=k.jsx(c("WAWebStickerPanel.react"),{defaultSearchText:z,displayCache:y.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:a,onDisplayCache:function(a){y.current=a},onFocusPrev:H,onFocusNext:I,onSticker:function(a,b){j==null?void 0:j(a,b),d("WAWebABProps").getABPropConfigValue("web_expression_panels_mitigations")||D()}});break}l(b,function(){return{close:function(){D()}}});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_compose_box_panel",C);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_expression_panels",D);g=function(a,b){a=(a=e())==null?void 0:(a=a.editor)==null?void 0:a.getRootElement();if(a==null?void 0:a.contains(b==null?void 0:b.srcElement))return;D()};return k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebUnstyledButton.react"),{dataTab:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,xstyle:[o.button,q&&o.activeButton],onClick:E,children:k.jsx(d("WAWebSmileyIcon").SmileyIcon,{width:f})}),k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown",children:q?k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:g,children:k.jsxs(d("WAWebDropdown.react").Dropdown,{type:d("WAWebDropdown.react").MenuType.ExpressionsPanel,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.TOP,testid:void 0,children:[J,k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:o.tabsContainer,children:d("WAWebABProps").getABPropConfigValue("web_expression_panels_mitigations")?k.jsx(d("WAWebIconTabs.react").IconTabs,{selectedIndex:u.indexOf(s),onSelect:function(a){a=u[a];a!==s&&(t(a),d("WAWebUserPrefsGeneral").setLastComposeBoxPanel(a))},tabConfigs:G,theme:"expression-panels"}):F.map(function(a){var b=a.icon,e=a.key;a=a.testid;return k.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,onClick:function(){t(e)},xstyle:[d("WAWebUISpacing").uiMargin.horiz8,s===e&&o.activeButton],children:b},e)})})]})}):void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsPanelPicker=e}),226);
__d("WAWebMessageComposer.react",["WAWebAttachMenuBarItem.react","WAWebAttachMenuGatingUtils","WAWebBotGating","WAWebChevronCustomIcons","WAWebClassnames","WAWebComposeBox.scss","WAWebComposeBoxPanelsMenu.react","WAWebComposeBoxSendButton.react","WAWebContactGetters","WAWebExpressionsPanelPicker.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebNewsletterGatingUtils","WAWebStateUtils","WAWebSvgComponentBase","WAWebUnstyledButton.react","WAWebWDSGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var e=a.chat,f=a.expressionsPanelPickerRef,g=a.expressionsPanelWrapperRef,h=a.getCurrentComposeContent,k=a.handleInputBlur,l=a.handleInputFocus,m=a.handleMetaUpDebounced,n=a.handlePanelChange,o=a.handlePanelsGif,p=a.handlePanelsSticker,q=a.handleSendText,r=a.handleTab,s=a.hasTextState,t=a.input,u=a.inputHotkeyRef,v=a.isMessageToBot,w=a.onExpandComposer,x=a.onExpressionPanelActive,y=a.pttComposerActive,z=a.recordingSession,A=a.replaceInputSelection,B=a.richTextInputRef,C=a.selectedPanelId,D=a.startRecording;a=a.updateTextAfterMediaDrawerClose;if(y)return null;y=(!e.isNewsletter||d("WAWebNewsletterGatingUtils").isNewsletterPTTSendingEnabled())&&!d("WAWebContactGetters").getIsCAPISupportAccount(e.contact)&&(!v||d("WAWebBotGating").isBotPttEnabled());var E=v||e.isNewsletter&&!d("WAWebNewsletterGatingUtils").isNewsletterStickerSendingEnabled(),F=function(a){a.preventDefault()};g={expressionsPanelWrapperRef:g,expressionsPanelPickerRef:f,replaceInputSelection:A,isStickerSendingDisabled:E,handlePanelsSticker:p,handlePanelsGif:o,isMessageToBot:v,onExpressionPanelActive:x,getComposeBoxEditorRef:function(){return B}};return i.jsxs("div",{ref:b,className:c("WAWebComposeBox.scss").textMessageComposerContainer,children:[i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebComposeBox.scss").childPadding,c("WAWebComposeBox.scss").boxPanelWrapper),children:[d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()?void 0:i.jsx(d("WAWebComposeBoxPanelsMenu.react").ComposeBoxPanelsMenu,{chat:e,selectedPanelId:C,onChange:n,theme:d("WAWebComposeBoxPanelsMenu.react").PanelsTheme.ChatComposeBox,isMessageToBot:v}),d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput()?i.jsx(j,babelHelpers["extends"]({},g)):void 0,v?void 0:i.jsx("div",{className:c("WAWebComposeBox.scss").attachButtonContainer,children:i.jsx(c("WAWebAttachMenuBarItem.react"),{chat:d("WAWebStateUtils").unproxy(e),getComposeContents:h,getComposeBoxEditorRef:function(){return B},onMenuComplete:a})})]}),i.jsxs("div",{className:c("WAWebComposeBox.scss").textMessageComposerInputContainer,children:[i.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:u,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebComposeBox.scss").inputContainer,(f={},f[c("WAWebComposeBox.scss").inputContainerMaterial]=d("WAWebWDSGatingUtils").materialRefreshEnabled(),f)),handlers:{tab:r,"shift+tab":r,"meta+up":m},onClick:F,onFocus:l,onBlur:k,children:[d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&!d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput()?i.jsx(j,babelHelpers["extends"]({},g)):void 0,t,w&&i.jsx(d("WAWebFlex.react").FlexColumn,{justify:"end",children:i.jsx(c("WAWebUnstyledButton.react"),{onClick:w,children:i.jsx(d("WAWebChevronCustomIcons").ChevronUpCustomIcon,{color:d("WAWebSvgComponentBase").SvgColorProp.SECONDARY,displayInline:!0,height:24})})})]}),i.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebComposeBox.scss").childPadding,c("WAWebComposeBox.scss").sendButtonContainer),children:i.jsx(c("WAWebComposeBoxSendButton.react"),{supportsPtt:y,hasText:s,onClickSend:q,recordingSession:z,onStartRecording:function(){D()}})})]})]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.expressionsPanelPickerRef,e=a.expressionsPanelWrapperRef,f=a.getComposeBoxEditorRef,g=a.handlePanelsGif,h=a.handlePanelsSticker,j=a.isMessageToBot,k=a.isStickerSendingDisabled,l=a.onExpressionPanelActive;a=a.replaceInputSelection;return i.jsx("div",{ref:e,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebComposeBox.scss").expressionsPanelPickerWrapper),children:i.jsx(d("WAWebExpressionsPanelPicker.react").ExpressionsPanelPicker,{ref:b,onEmoji:a,onSticker:k?void 0:h,onGif:j?void 0:g,onToggleActive:function(a){l==null?void 0:l(a)},getComposeBoxEditorRef:f})})}j.displayName=j.name+" [from "+f.id+"]";g.MessageComposer=b}),98);
__d("WAWebDivider.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={divider:{height:"x1qx5ct2",borderEndWidth:"xm81vs4",borderEndStyle:"xu3j5b3",borderEndColor:"x1qqiy34",opacity:"xbyyjgo",$$css:!0}};function a(a){a=a.noMargin;a=a===void 0?!1:a;return j.jsx("div",{className:(i||(i=c("stylex")))(k.divider,d("WAWebUISpacing").uiMargin.end10,d("WAWebUISpacing").uiMargin.start18,a&&d("WAWebUISpacing").uiMargin.all0)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttCancelButton.react",["fbt","WAWebPttButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={pttCancelButton:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x1n7h9c3",height:"x1s1d1n7",color:"xlp4hpx",":hover_color":"x1gddwk9",$$css:!0}};b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.onConfirm,e=a.confirmOnMouseUp;a=a.disabled;return j.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:k.pttCancelButton,testid:void 0,ariaLabel:h._("__JHASH__q7leJJI5-_X__JHASH__"),confirmOnMouseUp:e,onConfirm:c,disabled:a,children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",className:"x1kky2od",children:j.jsx("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})})}a.displayName=a.name+" [from "+f.id+"]";g.PttCancelButton=b}),226);
__d("WAWebRecordingSessionStateEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);f.RecordingSessionState=a}),66);
__d("WAWebPttComposerRecordingSessionGetters",["WAWebGetters","WAWebGettersCaches","WAWebRecordingSessionStateEnum"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createRecordingSessionCache});b=a.field;c=a.computed;e=a.clearCacheFor;f=e;a=b("exceedsMinDuration");e=b("recordingState");b=c(function(a){a=a[0];return a===d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING},[e]);g.clearRecordingSessionGetterCacheFor=f;g.getExceedsMinDuration=a;g.getIsRecording=b}),98);
__d("WAWebPttComposerStreamingEncryptor",["Promise","WACryptoAesCbc","WACryptoHmac","WAMediaCalculateFilehash","WAMediaCrypto","WATypedArraysConcat","WAWebCryptoCreateMediaKeys","WAWebMmsMediaTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i=function(){function a(a){var c=a.mediaKeys,e=a.encKey,f=a.onChunkEncrypted;a=a.onEncryptionCompleted;this.$6=(h||(h=b("Promise"))).resolve();this.$3=c;this.$4=e;this.$5=d("WACryptoAesCbc").getIv(this.$3.iv);this.$2=[this.$5];this.$1=new Uint8Array([]);this.$8=f;this.$9=a;this.$7=!1}var e=a.prototype;e.getMediaKeys=function(){return this.$3};e.encryptChunk=function(a,e){var f=this;if(this.$7)throw c("err")("Encryption was already finalized");e&&(this.$7=!0);var g=this.$10(a,e);if(g==null)return;this.$6=this.$6.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WACryptoAesCbc").aesCbcEncryptChunk(e,g,f.$5,f.$4));f.$8==null?void 0:f.$8(a.encryptedChunk);f.$11(a,e)}))};e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.$2.push(a.encryptedChunk);this.$5=a.nextIv;if(!b)return;a=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,this.$2,d("WAMediaCrypto").HMAC_LENGTH);b=this.$2[0].byteLength;var c=a.byteLength-d("WAMediaCrypto").HMAC_LENGTH,e=a.subarray(0,c);e=(yield d("WACryptoHmac").hmacSha256(this.$3.macKey,e,d("WAMediaCrypto").HMAC_LENGTH));a.set(new Uint8Array(e),c);c=a.subarray(b);a=(yield d("WAMediaCalculateFilehash").calculateFilehash(c));this.$9==null?void 0:this.$9(e,a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$10=function(a,b){this.$1=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[this.$1,a]);if(this.$1.length>=d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE||b){a=b?this.$1.length:Math.floor(this.$1.length-this.$1.length%d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE);b=this.$1.slice(0,a);b.subarray();var c=new Uint8Array(this.$1.length-a);c.set(this.$1.slice(a,this.$1.length));this.$1=c;return b}};return a}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebCryptoCreateMediaKeys")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,a.mediaKey)),e=(yield d("WACryptoAesCbc").importRawKey(b.encKey));return new i({mediaKeys:b,encKey:e,onChunkEncrypted:a.onChunkEncrypted,onEncryptionCompleted:a.onEncryptionCompleted})});return j.apply(this,arguments)}g.StreamingEncryptor=i;g.createStreamingEncryptor=a}),98);
__d("WAWebWamEnumPttResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({SENT:1,CANCELLED:2,TOO_SHORT:3});f.PTT_RESULT_TYPE=a}),66);
__d("WAWebWamEnumPttSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({FROM_CONVERSATION:0,FROM_VOICEMAIL:1});f.PTT_SOURCE_TYPE=a}),66);
__d("WAWebPttWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ptt:[458,{pttAvgNoiseLoudness:[11,a.TYPES.NUMBER],pttAvgNoiseLoudnessReduction:[12,a.TYPES.NUMBER],pttAvgSpeechLoudness:[13,a.TYPES.NUMBER],pttAvgSpeechLoudnessReduction:[14,a.TYPES.NUMBER],pttDraftPlayCnt:[7,a.TYPES.INTEGER],pttDraftSeekCnt:[8,a.TYPES.INTEGER],pttDuration:[5,a.TYPES.TIMER],pttLock:[4,a.TYPES.BOOLEAN],pttPauseCnt:[9,a.TYPES.INTEGER],pttResult:[1,d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE],pttSize:[3,a.TYPES.NUMBER],pttSource:[2,d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE],pttStop:[6,a.TYPES.BOOLEAN],pttStopTapCnt:[10,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Ptt:[]});g.PttWamEvent=b}),98);
__d("WAWebUploadStreamerRefactorGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_ptt_streamer_upload")}g.isUploadStreamerRefactorEnabled=a}),98);
__d("WAWebPttComposerRecordingSession",["fbt","invariant","$InternalEnum","Promise","WAAbortError","WAHex","WALogger","WAMediaCalculateFilehash","WANullthrows","WAPromiseRaceAbort","WAPttComposerRecorder","WAPttComposerScaleWaveform","WAWebBaseModel","WAWebCallCollection","WAWebConfirmPopup.react","WAWebCreateMediaUploadMetrics","WAWebCryptoRandomMediaKey","WAWebGuidePopup.react","WAWebMedia","WAWebMediaCapture","WAWebMediaGetUploadOriginForChat","WAWebMediaLoad","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebMmsClientUploadStreamer","WAWebMmsMediaTypes","WAWebModalManager","WAWebPresenceChatAction","WAWebPresenceCollection","WAWebPttAudioChannels","WAWebPttAudioManager","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerStreamingEncryptor","WAWebPttDailyUtils","WAWebPttWamEvent","WAWebRecordingSessionStateEnum","WAWebSerializeError","WAWebServerPropsModel","WAWebTimeSpentLoggingExternal","WAWebUploadStreamerRefactorGatingUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType","WAWebWamEnumTsExternalEventSource","WAWebWamMediaMetricUtils","asyncToGeneratorRuntime","err","lodash","react"],(function(a,b,c,d,e,f,g,h,i){var j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error resuming recording session\n",""],["Error resuming recording session\\n",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Recording Error\n",""],["PTT Recording Error\\n",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem encrypting"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem when finalizing upload"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["onEncryptionCompleted: ptt-streaming-upload-error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem uploading"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["onChunkEncrypted: ptt-streaming-upload-error: ",""]);r=function(){return a};return a}var s=k||c("react"),t=b("$InternalEnum").Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]),u=1,v=8.5,w=64;e=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.duration=d("WAWebBaseModel").prop(0),c.exceedsMinDuration=d("WAWebBaseModel").prop(!1),c.recordingState=d("WAWebBaseModel").prop(d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED),c._hasStreamingUploadFailed=d("WAWebBaseModel").prop(!1),c._draftPreviewSeen=d("WAWebBaseModel").prop(!1),c._draftPlayCount=d("WAWebBaseModel").prop(0),c._draftSeekCount=d("WAWebBaseModel").prop(0),c._pauseCount=d("WAWebBaseModel").prop(0),c._stopTapCount=d("WAWebBaseModel").prop(0),b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.initialize=function(){var b=this;a.prototype.initialize.call(this);var c=null;this.on("change:recordingState",function(){b._endTsExternalEvent==null?void 0:b._endTsExternalEvent();if(b._chat==null)return;d("WAWebPttComposerRecordingSessionGetters").getIsRecording(b)?(c=d("WAWebPttAudioChannels").MainAudioChannel.claim(b,function(){b.pause()}),d("WAWebPresenceChatAction").markRecording(b._chat),b._endTsExternalEvent=d("WAWebTimeSpentLoggingExternal").beginTsExternalEvent(d("WAWebWamEnumTsExternalEventSource").TS_EXTERNAL_EVENT_SOURCE.PTT_RECORD)):(c==null?void 0:c(),d("WAWebPresenceChatAction").markPaused(b._chat))})};f.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return this.resume();case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't start recording from state "+this.recordingState)}var e=c("WAWebCreateMediaUploadMetrics")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,c("WAWebMediaGetUploadOriginForChat")(this._chat),0,!1,!1),f=e.handleUploadHostFound,g=e.handleUploadAttemptSuccess,h=e.handleUploadAttemptError,i=e.handleUploadSuccess,k=e.handleUploadError,l=e.handleEncryptionStart,s=e.handleEncryptionSuccess,t=e.handleStreamUploadStart,v=e.handleUploadProgress;e=e.handleSendMessageStart;this._handleSendMessageStart=e;if(d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()){var w=c("WAWebCryptoRandomMediaKey")();this._earlyUploadPromise=new(j||(j=b("Promise")))(function(b){a._resolveEarlyUploadPromise=b});e=new AbortController();this._uploaderAbortController=e;var x=(yield d("WAMediaCalculateFilehash").getRandomFilehash()),y=new(d("WAWebMmsClientUploadStreamer").UploadStreamer)({encFilehash:x,token:x,type:d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,signal:e.signal,byteOffset:0,onUploadHostFound:f,onUploadAttemptSuccess:g,onUploadAttemptError:h,onProgress:function(a,b){v(a.loaded+b)},onStreamUploadStart:t,mediaId:d("WAWebWamMediaMetricUtils").generateMediaEventId()});y.startUploadFromClient();this._encryptor=(yield d("WAWebPttComposerStreamingEncryptor").createStreamingEncryptor({mediaKey:w.key,onChunkEncrypted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield y.uploadChunkFromClient(b)}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(r(),b.message);d("WALogger").ERROR(q()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a){return c.apply(this,arguments)}return e}(),onEncryptionCompleted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){s();try{yield y.uploadChunkFromClient(new Uint8Array(b));b=(yield y.finalizeUploadFromClient(c));a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise({directPath:b.directPath,mediaKey:w.key,mediaKeyTimestamp:w.timestamp,encFilehash:c,url:b.url});i()}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(p(),b.message);d("WALogger").ERROR(o()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a,b){return c.apply(this,arguments)}return e}()}))}try{var A=!0;this._recorder=new(c("WAPttComposerRecorder"))({createStream:z,waveformSampleRate:this.getWaveformSampleRate(),onDuration:function(b){a.duration=b,a.exceedsMinDuration=b>=u},onPage:function(b,c){if(!d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()||a._hasStreamingUploadFailed)return;try{var e;A&&(l(),A=!1);(e=a._encryptor)==null?void 0:e.encryptChunk(b,c)}catch(b){d("WALogger").ERROR(n()).devConsole(b),a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null),a._hasStreamingUploadFailed=!0}}});x=(yield this._recorder.start());if(x){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;d("WAWebPresenceCollection").PresenceCollection.update(this._chat.presence.id);d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.RECORD,c("WANullthrows")(this._chat.kind));return!0}}catch(a){d("WALogger").ERROR(m(),c("WAWebSerializeError")(a)).devConsole(a)}this._endSession();this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;return!1});function e(){return a.apply(this,arguments)}return e}();f.getLiveWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getLiveWaveformSamples())!=null?a:[]};f.getCorrectedWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getCorrectedWaveformSamples())!=null?a:[]};f.getScaledWaveformSamples=function(){return c("WAPttComposerScaleWaveform")(this.getCorrectedWaveformSamples(),w).map(function(a){return Math.floor(a*100)})};f.getPreciseDuration=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getPreciseDuration())!=null?a:0};f._endSession=function(){var a;(a=this._recorder)==null?void 0:a.stop()};f.pause=function(){if(this.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING)return;if(!this.exceedsMinDuration){this.stop(t.PTT_TOO_SHORT);return}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;var a=c("WANullthrows")(this._recorder);a.pause()};f.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't resume recording from state "+this.recordingState)}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;try{var a=c("WANullthrows")(this._recorder);a=(yield a.resume());if(!a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;return!1}return!0}catch(a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;d("WALogger").ERROR(l(),c("WAWebSerializeError")(a));return!1}});function e(){return a.apply(this,arguments)}return e}();f.stop=function(a){if(this.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)return;this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED;this._endSession();if(this._recorder==null)return;a===t.SENT?d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.SEND,c("WANullthrows")(this._chat.kind)):this.duration>u&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.CANCEL,c("WANullthrows")(this._chat.kind));a!==t.SENT&&this._uploaderAbortController&&this._uploaderAbortController.abort();a=y(a);a!=null&&this._sendPttWamEvent(a)};f._getDataForSending=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getCompleteRecording());return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f._getDataForPlayback=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getPartialRecording());a=(yield d("WAWebMediaLoad").transcode(a));return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f.getAudioForPlayback=function(){var a=this;return new B(function(){return a._getDataForPlayback()})};f.getWaveformSampleRate=function(){return v};f.send=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a===void 0&&(a=!1);this._handleSendMessageStart==null?void 0:this._handleSendMessageStart(a);var e=c("WANullthrows")(this._recorder),f=this._chat,g=c("WAPromiseRaceAbort")(this._getDataForSending(),f.deleteSignal);b=((b=f.getComposeContents())==null?void 0:b.ctwaContext)||void 0;e=d("WAWebMedia").prepRawMedia(g,{isPtt:!0,precomputedFields:{duration:Math.floor(e.getDuration()),waveform:new Uint8Array(this.getScaledWaveformSamples())}});e.sendToChat(f,{quotedMsg:f.composeQuotedMsg||void 0,addEvenWhilePreparing:!a,ctwaContext:b,isViewOnce:a},this._earlyUploadPromise);f.composeQuotedMsg=null;this.stop(t.SENT);yield g["catch"](d("WAAbortError").catchAbort(function(){}))});function e(b){return a.apply(this,arguments)}return e}();f._sendPttWamEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WANullthrows")(this._recorder);b=(yield b.getCompleteRecording());new(d("WAWebPttWamEvent").PttWamEvent)({pttSource:d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:a,pttDuration:Math.round(this.duration)*1e3,pttSize:c("lodash").round((a=b.size)!=null?a:0,-3),pttStop:this._draftPreviewSeen,pttDraftPlayCnt:this._draftPlayCount,pttDraftSeekCnt:this._draftSeekCount,pttPauseCnt:this._pauseCount,pttStopTapCnt:this._stopTapCount}).commit()});function a(b){return a.apply(this,arguments)}return a}();f.markDraftPreviewSeen=function(){if(this._draftPreviewSeen)return;this._draftPreviewSeen=!0;d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.DRAFT_REVIEW,c("WANullthrows")(this._chat.kind))};f.incrementDraftPlayCount=function(){this._draftPlayCount++};f.incrementDraftSeekCount=function(){this._draftSeekCount++};f.incrementPauseButtonCount=function(){d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?(this._pauseCount++,this._pauseCount===1&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.PAUSED_RECORD,c("WANullthrows")(this._chat.kind))):(this._stopTapCount++,this._stopTapCount===1||i(0,56370),d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.STOP_TAP,c("WANullthrows")(this._chat.kind)))};f["delete"]=function(){a.prototype["delete"].call(this),d("WAWebPttComposerRecordingSessionGetters").clearRecordingSessionGetterCacheFor(this)};return e}(d("WAWebBaseModel").BaseModel);e.Proxy="recordingSession";var x=d("WAWebBaseModel").defineModel(e);function a(a){return new x({id:d("WAHex").randomHex(8),_chat:a.chat})}function y(a){switch(a){case t.SENT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.SENT;case t.PTT_TOO_SHORT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.TOO_SHORT;case t.CANCEL_BUTTON:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.CANCELLED;case t.OTHER:return null}}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("WAWebCallCollection").activeCall){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__4zG1ZkGyzX0__JHASH__")}));return null}var b=d("WAWebMediaCapture").start("microphone"),e=b.disposeStream;b=b.asyncStream;a.addEventListener("abort",function(){e()},{once:!0});try{return yield b}catch(a){if(a instanceof d("WAWebMiscErrors").GetUserMedia.NotAllowedError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}));return null}if(a instanceof d("WAWebMiscErrors").GetUserMedia.GetUserMediaError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}));return null}throw a}});return A.apply(this,arguments)}var B=function(){function a(a){var c=this;this._opaqueDataPromise=a();a=d("WAWebPttAudioManager").AudioManager.createAudioProxy();this._audio=a;this._unregisterFromAudioChannel=d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a);b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c._opaqueDataPromise),b=c._audio;if(b==null)return;b.src=a.url()})()}var c=a.prototype;c.getAudio=function(){this._audio!=null||i(0,56371);return this._audio};c.dispose=function(){var a=this,c=this._audio;if(c==null)return;this._unregisterFromAudioChannel();this._audio=null;b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a._opaqueDataPromise);b.autorelease()})()};return a}();g.RecordingSessionStopReason=t;g.RecordingSession=x;g.createRecordingSession=a;g.AudioResource=B}),226);
__d("WAWebPttPauseResumeRecordingButton.react",["fbt","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttPauseAndResumeRecordingButton:{position:"x1n2onr6",width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttPauseAndResumeRecordingButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},icon:{position:"x10l6tqk",top:"x13vifvy",start:"x17qophe",width:"xh8yej3",height:"x5yr21d",opacity:"xg01cxk",transition:"xamds3w",transform:"xziw2gg",$$css:!0},iconActive:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.recording,f=a.onConfirm,g=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;var i=e?h._("__JHASH__PonpV2tBf4e__JHASH__"):h._("__JHASH__R5tVbhjVHz8__JHASH__"),m=(j||(j=c("stylex")))(l.growOnHover,!a&&l.growOnHoverEnabled);return k.jsxs(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttPauseAndResumeRecordingButton,!a&&l.pttPauseAndResumeRecordingButtonEnabled],testid:void 0,ariaLabel:i,confirmOnMouseUp:g,onConfirm:f,disabled:a,children:[k.jsx("div",{className:j(l.icon,e&&l.iconActive),children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[k.jsx("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),k.jsx("path",{className:m,d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})}),k.jsx("div",{className:j(l.icon,!e&&l.iconActive),children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:m,children:[k.jsx("path",{fill:"currentColor",d:"M16,4c1.9,0,3.4,1.4,3.4,3.1v8.6c0,1.7-1.5,3.1-3.4,3.1 c-1.9,0-3.4-1.4-3.4-3.1V7.1C12.6,5.4,14.1,4,16,4"}),k.jsx("path",{fill:"currentColor",d:"M16.3,23.4c-0.2,0-0.6,0-0.9,0l-0.3,0c-3.7-0.4-6.6-3.7-7.1-7.8 L8,15.2c0-0.5,0.3-0.9,0.8-0.9h0.4c0.5,0,0.8,0.4,0.9,0.9l0.1,0.4c0.5,3.1,3,5.5,5.9,5.5c2.9,0,5.3-2.3,5.9-5.4l0.1-0.4 c0-0.5,0.4-0.9,0.9-0.9h0.4c0.4,0,0.8,0.4,0.8,0.9c0,0,0,0.1-0.1,0.6c-0.6,4.1-3.7,7.3-7.4,7.6L16.3,23.4z"}),k.jsx("path",{fill:"currentColor",d:"M17.1,27.3c0,0.4-0.4,0.7-0.9,0.7h-0.5c-0.5,0-0.9-0.3-0.9-0.7V23 c0-0.4,0.4-0.7,0.9-0.7h0.5c0.5,0,0.9,0.3,0.9,0.7V27.3z"})]})})]})}a.displayName=a.name+" [from "+f.id+"]";b.displayName="PttPauseAndResumeRecordingButton";g.PttPauseAndResumeRecordingButton=b}),226);
__d("WAWebPttSendButton.react",["fbt","WAWebL10N","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttSendButton:{width:"x1n7h9c3",minWidth:"x1ask5yi",height:"x1s1d1n7",color:"x2jl805",$$css:!0},pttSendButtonEnabled:{":hover_color":"xof5ctd",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},pttSendButtonIconRTL:{transform:"xpk2tj9",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.disabled;e=e===void 0?!1:e;var f=a.confirmOnMouseUp;a=a.onConfirm;return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttSendButton,!e&&l.pttSendButtonEnabled],testid:void 0,ariaLabel:h._("__JHASH__rTVI-iTC6XE__JHASH__"),confirmOnMouseUp:f,onConfirm:a,disabled:e,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",className:(j||(j=c("stylex")))(c("WAWebL10N").isRTL()&&l.pttSendButtonIconRTL),children:[k.jsx("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),k.jsx("path",{className:j(l.growOnHover,!e&&l.growOnHoverEnabled),d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})}a.displayName=a.name+" [from "+f.id+"]";g.PttSendButton=b}),226);
__d("WAWebPttStopButton.react",["fbt","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttStopButton:{width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttStopButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onConfirm,f=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttStopButton,!a&&l.pttStopButtonEnabled],testid:void 0,ariaLabel:h._("__JHASH__1IH2wp5a4Na__JHASH__"),confirmOnMouseUp:f,onConfirm:e,disabled:a,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[k.jsx("path",{fill:"currentColor",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M16,30C8.3,30,2,23.7,2,16S8.3,2,16,2 s14,6.3,14,14S23.7,30,16,30z"}),k.jsx("path",{className:(j||(j=c("stylex")))(l.growOnHover,!a&&l.growOnHoverEnabled),fill:"currentColor",d:"M13,11c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H13z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g.PttStopButton=b}),226);
__d("useWAWebPttRecordingSessionValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.usePttRecordingSessionValues=a}),98);
__d("WAWebPttComposer.react",["$InternalEnum","WANullthrows","WAWebAttachMediaViewOnce.react","WAWebBizCoexUtils","WAWebClock","WAWebDivider.react","WAWebMsgType","WAWebPttCancelButton.react","WAWebPttComposerRecordingSession","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerWaveform.react","WAWebPttPauseResumeRecordingButton.react","WAWebPttPlayPauseButton.react","WAWebPttSendButton.react","WAWebPttStopButton.react","WAWebPttTsExternalLogger","WAWebRecordingSessionStateEnum","WAWebServerPropsModel","WAWebTabOrder","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebViewOnceGatingUtils","asyncToGeneratorRuntime","err","react","stylex","useWAWebEventTargetValue","useWAWebListener","useWAWebOnUnmount","useWAWebPttRecordingSessionValues","useWAWebStableCallback","useWAWebToggle"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=b("$InternalEnum").Mirrored(["RECORDER","PREVIEW"]);function a(a){var e=a.chat,f=a.recordingSession,g=a.onComplete;a=n();var h=o(function(){switch(f.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return p.PREVIEW;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return p.RECORDER;default:throw c("err")("Invalid recording session state: "+f.recordingState)}}),j=h[0],s=h[1];h=o(function(){return j===p.PREVIEW?f.getAudioForPlayback():null});var t=h[0],u=h[1];h=c("useWAWebToggle")(!1);var v=h[0];h=h[1];m(function(){if(t!=null)return d("WAWebPttTsExternalLogger").attachPttPlayTimeSpentLogger(t.getAudio())},[t]);var w=function(){u(null),t==null?void 0:t.dispose()},x=t==null?void 0:t.getAudio(),y=n(),z=n(),A=n(f);A.current=f;var B=c("useWAWebEventTargetValue")(f,"change:duration",function(){return Math.floor(f.duration)}),C=o(function(){return Math.floor((x==null?void 0:x.currentTime)||0)}),D=C[0],E=C[1];C=o(function(){return((x==null?void 0:x.currentTime)||0)===0});var F=C[0],G=C[1],H=function(a){E(Math.floor(a)),G(a===0)};d("useWAWebListener").useListener(x,"timeupdate",function(){var a;H((a=x==null?void 0:x.currentTime)!=null?a:0)});C=o(null);var I=C[0],J=C[1];C=d("useWAWebPttRecordingSessionValues").usePttRecordingSessionValues(f,[d("WAWebPttComposerRecordingSessionGetters").getExceedsMinDuration,d("WAWebPttComposerRecordingSessionGetters").getIsRecording]);var K=C[0],L=C[1];d("useWAWebListener").useListener(f,"change:recordingState",function(){(f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED||f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR)&&g()});C=c("useWAWebEventTargetValue")(x,["play","pause"],function(){return x!=null&&!x.paused});var M=q(),N=function(){f.stop(d("WAWebPttComposerRecordingSession").RecordingSessionStopReason.CANCEL_BUTTON)};m(function(){L&&self.setTimeout(function(){var a;(a=y.current)==null?void 0:a.focus()},100)},[L]);m(function(){j===p.PREVIEW&&(A.current.markDraftPreviewSeen(),self.setTimeout(function(){var a;(a=z.current)==null?void 0:a.focus()},100))},[j]);c("useWAWebOnUnmount")(function(){x==null?void 0:x.pause(),w(),f.pause()});var O=function(){f.send(v)};d("useWAWebListener").useListener(f,"change:recordingState",function(){if(d("WAWebPttComposerRecordingSessionGetters").getIsRecording(f))return;if(f.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED)return;w();var a=f.getAudioForPlayback();u(a);H(0);s(p.PREVIEW)});var P=function(){f.incrementPauseButtonCount(),f.pause()},Q=function(){f.incrementPauseButtonCount(),f.pause()},R=function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){x==null?void 0:x.pause();s(p.RECORDER);var a=(yield f.resume());a||s(p.PREVIEW)})()},S=function(){var a=c("WANullthrows")(x);a.paused?(a.play(),f.incrementDraftPlayCount()):a.pause()};d("useWAWebListener").useListener(x,"ended",function(){c("WANullthrows")(x).load()});var T=l(function(){var a;return(a=x==null?void 0:x.currentTime)!=null?a:0},[x]),U=c("useWAWebStableCallback")(function(){return f.getPreciseDuration()}),V=c("useWAWebStableCallback")(function(){return f.duration}),W=c("useWAWebStableCallback")(function(){return f.getLiveWaveformSamples()}),aa=c("useWAWebStableCallback")(function(){return f.getCorrectedWaveformSamples()}),X=c("useWAWebStableCallback")(function(a){H(a),J(null),c("WANullthrows")(x).currentTime=a,f.incrementDraftSeekCount()}),Y=c("useWAWebStableCallback")(function(a){J(Math.floor(a))}),Z,$;d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?$=k.jsx("div",{className:"x78zum5 xq8finb",children:k.jsx(d("WAWebPttPauseResumeRecordingButton.react").PttPauseAndResumeRecordingButton,{recording:j===p.RECORDER,confirmOnMouseUp:M,onConfirm:j===p.RECORDER?Q:R})}):Z=k.jsx("div",{className:"x78zum5 xq8finb",children:k.jsx(d("WAWebPttStopButton.react").PttStopButton,{confirmOnMouseUp:M,onConfirm:P})});Q=k.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe x78zum5 x6s0dn4 x16n37ib",children:[k.jsx(r,{time:B}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw xmo9yow xsgj6o6",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:W,getCurrentTime:T,getDuration:U,live:L,mode:d("WAWebPttComposerWaveform.react").WaveformMode.RECORDER,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),Z]});R=d("WAWebViewOnceGatingUtils").isSendingViewOnceV2Enabled()&&!e.isNewsletter&&!e.contact.isEnterprise&&!e.isCapiHostedGroup&&!d("WAWebBizCoexUtils").isMeOrCurrentContactHosted(e.contact)&&!d("WAWebUserPrefsMeUser").isMeAccount(e.contact.id)?k.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.horiz12),children:k.jsx(c("WAWebAttachMediaViewOnce.react"),{mediaType:d("WAWebMsgType").MSG_TYPE.PTT,dimension:24,onChange:h,isOn:v,disabled:!1,shouldShowNux:j===p.PREVIEW})}):null;W=(P=I)!=null?P:F?B:D;U=k.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe x78zum5 x6s0dn4 xq8finb x1cxxrxm xu5n5zk x178xt8z xm81vs4 xso031l xy80clv x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x15unhv1 xihwxa6 xvp2sfm x8cosvx x14bsz84 x1e6ar86 x18poeml x1fnp2h5 xzt5al7 x1w2lkzu x1oq7267",children:[k.jsx(d("WAWebPttPlayPauseButton.react").PttPlayPauseButton,{ref:z,theme:"compose-box",paused:!C,onConfirm:S}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw x1t4t16n x17adc0v",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:aa,getCurrentTime:T,getDuration:V,live:C,mode:d("WAWebPttComposerWaveform.react").WaveformMode.PREVIEW,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),k.jsx(r,{time:W})]});return k.jsxs("div",{ref:a,className:"x78zum5 x6s0dn4 xh8yej3 x19ygybj",children:[k.jsx(d("WAWebPttCancelButton.react").PttCancelButton,{ref:y,confirmOnMouseUp:M,onConfirm:N}),k.jsx("div",{className:"x1n2onr6 x78zum5 x1iyjqo2 xs83m0k x1r8uery x6s0dn4 xwvwv9b",children:k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[j===p.RECORDER?Q:null,j===p.PREVIEW?U:null]})}),$,R&&k.jsx(c("WAWebDivider.react"),{noMargin:!0}),R,k.jsx(d("WAWebPttSendButton.react").PttSendButton,{disabled:!K,confirmOnMouseUp:M,onConfirm:O})]})}a.displayName=a.name+" [from "+f.id+"]";function q(){var a=o(!1),b=a[0],c=a[1],d=250;m(function(){var a=self.setTimeout(function(){c(!0)},d),b=function(){c(!1),e()};window.addEventListener("mouseup",b);var e=function(){window.removeEventListener("mouseup",b),self.clearTimeout(a)};return e},[]);return b}function r(a){a=a.time;return k.jsx("div",{className:"x2c5eco x1603h9y",role:"timer",children:d("WAWebClock").Clock.durationStr(a)})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebQuickRepliesPluginLogEvents",["WAWebQuickReplyWamEvent","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumQuickReplyType"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:a,quickReplyEntryPoint:b?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function b(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function c(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function e(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function f(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD,quickReplyType:d("WAWebWamEnumQuickReplyType").QUICK_REPLY_TYPE.QUICK_REPLY_TYPE_PIX_KEY});a.commit()}g.logFilterEvent=a;g.logSelectEvent=b;g.logCancelEvent=c;g.logSmartDefaultSelectEvent=e;g.logPixSmartSelectEvent=f}),98);
__d("WAWebQuickRepliesPluginResult.react",["WAWebEmojiText.react","WAWebFormatConfiguration","WAWebStylesEnv","WAWebUISpacing","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={result:{display:"x78zum5",height:"x1qx5ct2",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",color:"x40yjcy",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",verticalAlign:"xxymvpz",$$css:!0},resultEmoji:{position:"x1n2onr6",top:"x1e0gzzx",$$css:!0},resultSelected:{backgroundColor:"x1ru9bj0",$$css:!0},slash:{color:"xiqmkuo",$$css:!0},shortcutPrefix:{fontWeight:"x117nqv4",color:"x1cgtc05",$$css:!0},shortcutSuffix:{color:"xy9n6vp",$$css:!0},message:{color:"x40yjcy",textAlign:"x1yc453h",$$css:!0}};function a(a){var b=d("useWAWebModelValues").useModelValues(a.quickReply,["shortcut","message"]),e=b.shortcut;b=b.message;var f=a.query,g=a.selected,h=a.onMouseDown,l=a.onMouseEnter;a=a.onMouseUp;e=e.slice(f.length);return j.jsxs("div",{className:(i||(i=c("stylex")))(k.result,d("WAWebUISpacing").uiPadding.vert16,d("WAWebUISpacing").uiPadding.horiz18,d("WAWebStylesEnv").hasEmoji&&k.resultEmoji,g&&k.resultSelected),onMouseDown:h,onMouseUp:a,onMouseEnter:l,children:[j.jsx("span",{className:i(k.slash,d("WAWebUISpacing").uiPadding.top3)}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutPrefix,d("WAWebUISpacing").uiPadding.top3),text:f}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutSuffix,d("WAWebUISpacing").uiPadding.top3),text:e}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.message,d("WAWebUISpacing").uiPadding.top3,d("WAWebUISpacing").uiMargin.start10),testid:void 0,ellipsify:!0,text:b,formatters:d("WAWebFormatConfiguration").QuickReply()})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendLocationChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebMsgKey","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Location message send to chat failure: ",""]);h=function(){return a};return a}function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b=(yield j(a,b,e,f));try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Location message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h(),a);throw a}});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("WAWebUserPrefsMeUser").getMaybeMeUser();g={type:"location",ack:d("WAWebAck").ACK.CLOCK,from:g,id:new(c("WAWebMsgKey"))({from:g,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,lat:b,lng:e,loc:f};return g});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebQuickReplySuggestions.react",["Lexical","WATypeUtils","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebChatCollection","WAWebContactCollection","WAWebFrontendContactGetters","WAWebL10NCountryCodes","WAWebListSuggestionsPanel.react","WAWebQuickRepliesPluginLogEvents","WAWebQuickRepliesPluginResult.react","WAWebQuickReplyCollection","WAWebQuickReplyEnum","WAWebQuickReplyGetters","WAWebSendContactsAction","WAWebSendLocationChatAction","WAWebSendTextMsgChatAction","WAWebUserPrefsMeUser","react","useForceUpdate","useWAWebLexicalEvent","useWAWebLexicalTypeAhead","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useMemo,n=b.useRef,o=52,p="/",q=25;e=j.forwardRef(a);function a(a,b){var e=a.editor,f=a.kind,g=a.onSelect;a=a.onHide;var h=d("useWAWebLexicalTypeAhead").useTypeAhead(e,p,{boundary:!0,maxQueryLength:q}),i=h.query,s=h.clearQuery,t=h.replaceQuery,y=h.omitQuery,z=h.setQuery;h=c("useForceUpdate")();var A=n(!1),B=n(),C=n(!1);d("useWAWebListener").useListener(d("WAWebQuickReplyCollection").QuickReplyCollection,"add remove change:shortcut",h);k(function(){d("WAWebQuickReplyCollection").QuickReplyCollection.addSmartDefaultsIfNeeded()},[]);h=function(a,b){return j.jsx(c("WAWebQuickRepliesPluginResult.react"),{quickReply:a.quickReply,query:a.query,selected:b},a.quickReply.id.toString())};var D=function(a){a=a.quickReply;B.current=a.message;switch(d("WAWebQuickReplyGetters").getType(a)){case d("WAWebQuickReplyEnum").QuickReplyTypes.PROFILE_SMART_DEFAULT:s();w(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.ADDRESS_SMART_DEFAULT:s();v(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.HOURS_SMART_DEFAULT:s();u(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT:s();x(a);break;default:t(a.message,{select:!0}),a.useOnce()}d("WAWebQuickReplyGetters").getType(a)===d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT?d("WAWebQuickRepliesPluginLogEvents").logPixSmartSelectEvent(A.current):a.isSmartDefault()?d("WAWebQuickRepliesPluginLogEvents").logSmartDefaultSelectEvent(A.current):d("WAWebQuickRepliesPluginLogEvents").logSelectEvent(A.current);C.current=A.current;A.current=!1;g==null?void 0:g()},E=function(){y(),A.current=!1},F=m(function(){if(i==null)return null;var a=r(i,A.current);return a.length===0?null:a.map(function(a,b){return{height:o,itemKey:a.id,contentKey:i,index:b,quickReply:a,query:i,selectable:!0}})},[i]);d("useWAWebLexicalEvent").useLexicalKeydownEvent(e,"Backspace",function(){var a=B.current;if(!a)return;e.getEditorState().read(function(){var b=d("Lexical").$getSelection();if(!b)return;a===b.getTextContent()&&d("WAWebQuickRepliesPluginLogEvents").logCancelEvent(C.current)})},!0);l(b,function(){return{togglePanel:function(){i==null?(z(""),A.current=!0):(s(),A.current=!1)}}});return j.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:f,editor:e,items:F,renderItem:h,onSelect:D,onDismiss:E,onHide:a})}a.displayName=a.name+" [from "+f.id+"]";function r(a,b){var c;a=d("WAWebQuickReplyCollection").QuickReplyCollection.filterShortcuts(a);((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.isGroup)&&(a=s(a));a=t(a,d("WAWebL10NCountryCodes").getCountryShortcodeByPhone((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.contact.id.user));a.length&&d("WAWebQuickRepliesPluginLogEvents").logFilterEvent(a.length,b);return a}function s(a){return a.filter(function(a){return!a.hideFromGroupChat()})}function t(a,b){return a.filter(function(a){return!a.hideForRecipientCountryCode(b)})}function u(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a.message);a.useOnce()}function v(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMaybeMeUser(),f=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e);e=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!f)return;var g=f.latitude,h=f.longitude,i=f.address;if(d("WATypeUtils").isNumber(g)&&d("WATypeUtils").isNumber(h)&&e){e=d("WAWebFrontendContactGetters").getDisplayName(e);f.address&&(e+="\n"+f.address);c("WAWebSendLocationChatAction")(b,g,h,e);a.useOnce()}else i&&(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,i),a.useOnce())}function w(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebContactCollection").ContactCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser());if(!b||!e)return;c("WAWebSendContactsAction")([e],b);a.useOnce()}function x(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;void d("WAWebBizSendOrderAction").sendPixKeyPaymentInfoMessage(b);a.useOnce()}g.QuickReplySuggestions=e}),98);
__d("WAWebReconnectUtil",["WAWebSocketModel","WAWebStreamModel"],(function(a,b,c,d,e,f,g){a=function(){var a=this;this.isReconnecting=!1;this.reconnectIfDisconnected=function(){!a.isReconnecting&&d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.OFFLINE&&(a.isReconnecting=!0,d("WAWebSocketModel").Socket.summary(),self.setTimeout(function(){return a.isReconnecting=!1},3e3))}};b=new a().reconnectIfDisconnected;g.reconnect=b}),98);
__d("WAWebSendStickerToActiveChatStickersAction",["WALogger","WAWebApiPrepareCtwaContextSend","WAWebChatCollection","WAWebNewsletterCollection","WAWebSendStickerAction"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot call sendStickerToActiveChat without an active chat"]);h=function(){return a};return a}function a(a,b){var e;e=(e=c("WAWebNewsletterCollection").getActive())!=null?e:d("WAWebChatCollection").ChatCollection.getActive();if(e==null){d("WALogger").ERROR(h());return}var f=e.getComposeContents();b={stickerSendOrigin:b,quotedMsg:e.composeQuotedMsg,ctwaContext:d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(f==null?void 0:f.ctwaContextLinkData,f==null?void 0:f.ctwaContext)};e.composeQuotedMsg=null;d("WAWebSendStickerAction").sendStickerToChat(e,a,b)}g["default"]=a}),98);
__d("WAWebStickerSuggestionsPanelContent.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={"-sticker-width":"60px;","-sticker-panel-left-right-margins":"16px;"};b=a;g["default"]=b}),98);
__d("WAWebStickerSuggestionsPanelContent.react",["WALogger","WAWebKeyboardHotKeys.react","WAWebSendStickerToActiveChatStickersAction","WAWebStickerPanelContentStickerItem.react","WAWebStickerSuggestionsPanelContent.scss","WAWebStopEvent","react"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAWebStickerSuggestionsPanelContent.react sticker at index "," not found"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAWebStickerSuggestionsPanelContent.react sticker at index "," selected"]);k=function(){return a};return a}b=i||d("react");var l=h||(h=c("react")),m=b.useEffect,n=b.useImperativeHandle,o=b.useRef,p=b.useState,q=parseInt(c("WAWebStickerSuggestionsPanelContent.scss")["-sticker-width"].replace(/px$/,""),10),r=parseInt(c("WAWebStickerSuggestionsPanelContent.scss")["-sticker-panel-left-right-margins"].replace(/px$/,""),10);e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.stickers,f=a.onFocusRelease,g=a.maxWidth,h=a.onSelect;a=p(-1);var i=a[0],s=a[1],t=o(null),u=o(null);a=Math.floor(g/(q+2*r));var v=Math.min(e.length,a),w=function(){f==null?void 0:f()},x=function(a){return(a=e[a])!=null?a:null},y=function(a){var b=!1;a=x((a=a)!=null?a:i);a!=null?(d("WALogger").LOG(k(),i),c("WAWebSendStickerToActiveChatStickersAction")(a),h(a),b=!0):d("WALogger").WARN(j(),i);w();return b},z=function(a,b){d("WAWebStopEvent").stopEvent(b);if(!(b.target instanceof HTMLElement))return;a!==i&&s(a);y(a)},A=function(){s(Math.min(i+1,v-1))},B=function(){s(Math.max(i-1,0))};m(function(){var a=Math.min(i,e.length-1);s(a)},[i,e]);m(function(){var a;t==null?void 0:(a=t.current)==null?void 0:a.focus()},[]);n(b,function(){return{moveSelectionLeft:B,moveSelectionRight:A,pickSelectedSticker:y}});g=e.slice(0,v).map(function(a,b){var d=i===b;return l.jsx(c("WAWebStickerPanelContentStickerItem.react"),{ref:d?u:null,selected:d,sticker:a,onClick:function(a,c){return z(b,c)},theme:"stickerExpressionsPanel"},a.id)});a=v*q;return l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:t,style:{width:a},className:"x78zum5 x1k70j0n x1w0mnb xzueoph x1mnrxsn x1ypdohk xjny0x0 x1mmyl6o x18rcate xxjnf0j",onMouseDown:function(a){d("WAWebStopEvent").stopEvent(a)},handlers:{left:B,right:A,escape:w},children:g})}a.displayName=a.name+" [from "+f.id+"]";g.StickerSuggestionsPanelContent=e}),98);
__d("useWAWebStickerSuggestions",["WAWebFavoriteStickerCollection","WAWebRecentStickerCollectionMd","WAWebStickerSearchCollection","WAWebStickerSuggestions","asyncToGeneratorRuntime","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;c=h||d("react");var i=c.useEffect,j=c.useState;function a(a){var c=j(a!=null?d("WAWebStickerSuggestions").getStickerSuggestionsFromEmoji(a.toString()):[]),e=c[0],f=c[1],g=function(){if(a!=null){var b=a.toString();f(d("WAWebStickerSuggestions").getStickerSuggestionsFromEmoji(b))}};i(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a!=null&&(yield d("WAWebStickerSearchCollection").StickerSearchCollection.search(a.toString()),g())})()},[a]);d("useWAWebListener").useListener(d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd,"add remove change sort",g);d("useWAWebListener").useListener(d("WAWebFavoriteStickerCollection").FavoriteStickerCollection,"add remove change sort",g);d("useWAWebListener").useListener(d("WAWebStickerSearchCollection").StickerSearchCollection,"add remove change",g);return e}g.useStickerSuggestions=a}),98);
__d("WAWebStickerSuggestionsPanel.react",["Lexical","WAWebL10N","WAWebStickerSuggestionsPanelContent.react","WAWebStickerSuggestionsPanelContent.scss","WAWebSuggestionsPanelContainer.react","react","useWAWebLexicalEvent","useWAWebMeasure","useWAWebStickerSuggestions"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l=parseInt(c("WAWebStickerSuggestionsPanelContent.scss")["-sticker-panel-left-right-margins"].replace(/px$/,""),10);function m(a){return Boolean(a&&(a.metaKey||a.shiftKey||a.altKey||a.ctrlKey))}function a(a){var b,e=a.editor,f=a.emojiPrompt,g=a.kind,h=a.onDismiss;a=a.onSelect;var i=d("useWAWebStickerSuggestions").useStickerSuggestions(f),n=k();(f=d("useWAWebLexicalEvent")).useLexicalCommandListener(e,(b=d("Lexical")).KEY_ARROW_LEFT_COMMAND,function(a){if(m(a)||!i)return!1;c("WAWebL10N").isRTL()?(a=n.current)==null?void 0:a.moveSelectionRight():(a=n.current)==null?void 0:a.moveSelectionLeft();return!0});f.useLexicalCommandListener(e,b.KEY_ARROW_RIGHT_COMMAND,function(a){if(m(a)||!i)return!1;c("WAWebL10N").isRTL()?(a=n.current)==null?void 0:a.moveSelectionLeft():(a=n.current)==null?void 0:a.moveSelectionRight();return!0});var o=function(a){return m(a)||!i?!1:(a=(a=n.current)==null?void 0:a.pickSelectedSticker())!=null?a:!1},p=function(a){if(m(a)||!i)return!1;c("WAWebL10N").isRTL()?(a=n.current)==null?void 0:a.moveSelectionLeft():(a=n.current)==null?void 0:a.moveSelectionRight();return!0};f.useLexicalCommandListener(e,b.KEY_ENTER_COMMAND,o);f.useLexicalCommandListener(e,b.KEY_TAB_COMMAND,p);o=function(){h==null?void 0:h();return!0};f.useLexicalCommandListener(e,b.KEY_ESCAPE_COMMAND,o);f.useLexicalCommandListener(e,b.KEY_ARROW_DOWN_COMMAND,o);p=c("useWAWebMeasure")();f=p[0];b=p[1].width;o=null;i.length>0&&(o=j.jsx("div",{className:"x1mdhcu2 x4o9ep9",children:j.jsx(d("WAWebStickerSuggestionsPanelContent.react").StickerSuggestionsPanelContent,{ref:n,stickers:i,maxWidth:b-2*l,onSelect:a})}));return j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelContainer,{editor:e,kind:g,onDismiss:h,children:o}),j.jsx("div",{className:"x10l6tqk xh8yej3",ref:f})]})}a.displayName=a.name+" [from "+f.id+"]";g.StickerSuggestionsPanel=a}),98);
__d("WAWebStickerSuggestions.react",["WAWebEmoji","WAWebLexicalUtils","WAWebStickerSuggestionsPanel.react","WAWebSuggestionsPanelContainer.react","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useState;e=j.forwardRef(a);function a(a,b){var c=a.editor;a.kind;var e=a.onDismiss,f=a.onSelect;a=m();var g=a[0],h=a[1];a=m(!1);var i=a[0],n=a[1];k(function(){var a=function(){if(c==null)return;var a=d("WAWebLexicalUtils").getTextContent(c);if(d("WAWebEmoji").EmojiUtil.isEmoji(a)){a=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(a);h(a)}else h(null)},b=c==null?void 0:c.registerUpdateListener(function(){if(c==null?void 0:c.isComposing())return;a()});a();return b},[c]);a=function(){h(null),e==null?void 0:e()};var o=function(a){d("WAWebLexicalUtils").setTextContent(c,""),h(null),f==null?void 0:f(a)};l(b,function(){return{forceHide:function(a){n(a)}}});return g==null||c==null||i?null:j.jsx(d("WAWebStickerSuggestionsPanel.react").StickerSuggestionsPanel,{emojiPrompt:g,kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:c,onSelect:o,onDismiss:a})}a.displayName=a.name+" [from "+f.id+"]";g.StickerSuggestions=e}),98);
__d("WAWebUseComposeBoxActionListeners",["WAWebComposeBoxActions","useWAWebListener"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;a=a.id.toString();(c=d("useWAWebListener")).useListener((e=d("WAWebComposeBoxActions")).ComposeBoxActions,"focus_"+a,b.onFocus);c.useListener(e.ComposeBoxActions,"focus",b.onFocus);c.useListener(e.ComposeBoxActions,"send_"+a,b.onSend);c.useListener(e.ComposeBoxActions,"paste_"+a,b.onPaste);c.useListener(e.ComposeBoxActions,"paste",b.onPaste);c.useListener(e.ComposeBoxActions,"send_paste_"+a,b.onRoutedPaste);c.useListener(e.ComposeBoxActions,"toggle_quick_replies",b.onToggleQuickReplies);c.useListener(e.ComposeBoxActions,"add_sending_log_attributes_"+a,b.onSendingLogAttributes);c.useListener(e.ComposeBoxActions,"set_ctwa_context_link_data_"+a,b.onCtwaContextLinkData);c.useListener(e.ComposeBoxActions,"set_text_content_"+a,b.onSetTextContent)}g["default"]=a}),98);
__d("WAWebUseShouldShowBotSuggestions",["WAWebBotGating","WAWebMsgType","WAWebUserPrefsMeUser","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function a(a,b){var e=c("useWAWebEventTargetValue")(a,["change:msgsLength"],function(){var b,c=d("WAWebBotGating").isBotEnabled()&&a.id.isBot();b=(b=a.msgs.last())==null?void 0:b.subtype;return c&&(a.msgsLength===0||a.msgsLength===1&&b==="bot_init")}),f=c("useWAWebEventTargetValue")(a,["change:msgsLength"],function(){if(!d("WAWebBotGating").isBizBot3pAvailable()||!b||b.length===0)return!1;var c=a.msgs.last();if(!c||c.subtype==="biz_bot_3p_disclosure")return!0;if(c.type===d("WAWebMsgType").MSG_TYPE.CHAT&&!d("WAWebUserPrefsMeUser").isMeAccount(c.from)){c=a.msgs.at(a.msgs.length-2);if((c==null?void 0:c.subtype)==="biz_bot_3p_disclosure")return!0}return!a.msgs.some(function(a){return a.type!==d("WAWebMsgType").MSG_TYPE.NOTIFICATION_TEMPLATE&&a.type!==d("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION})?!0:!1},[b]);return e||f}g.useShouldShowBotSuggestions=a}),98);
__d("WAWebComposeBox.react",["fbt","$InternalEnum","PaymentLink","PaymentLinkWamLogger","Promise","WAAbortError","WAFilteredCatch","WALogger","WANullthrows","WAShiftTimer","WATimeUtils","WAWebABProps","WAWebApiPrepareCtwaContextSend","WAWebAttachMenuGatingUtils","WAWebAttachmentMenuLogger","WAWebAutoMuteLargeGroupActionsWamEvent","WAWebBizGatingUtils","WAWebBizQueryCtwaContextBridge","WAWebBlocklistCollection","WAWebBotCommandSuggestions.react","WAWebBotGating","WAWebBotProfileCollection","WAWebBotSuggestions.react","WAWebBotTypes","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebChatPreferenceCollection","WAWebClassnames","WAWebCmd","WAWebCodeFormatMutator","WAWebComposeBox.scss","WAWebComposeBoxHasText","WAWebComposeBoxPopupPanels.react","WAWebComposeBoxUtils","WAWebConstantsDeprecated","WAWebConversationSpamUtils","WAWebCopyPasteCopyableArea.react","WAWebCryptoRandomMediaKey","WAWebDraftMessageChatGatingUtils","WAWebDrawerManager","WAWebElevatedPushNamesFlag","WAWebEmojiPickerPlugin","WAWebEmojiSuggestions.react","WAWebFMXUtils","WAWebFilePicker.react","WAWebFileUtils","WAWebFocusIndicator","WAWebGenMinimalLinkPreviewChatAction","WAWebKeyboardHotKeys.react","WAWebLexicalUtils","WAWebLinkPreviewChatAction","WAWebLinkify","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMentionPickerPlugin","WAWebMentionSuggestions.react","WAWebMessageComposer.react","WAWebMessageEditGatingUtils","WAWebMimeTypes","WAWebMiscErrors","WAWebMmsMediaTypes","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNux","WAWebPrepareMessageSendingAction","WAWebPresenceChatAction","WAWebProtobufsE2E.pb","WAWebPttComposer.react","WAWebPttComposerRecordingSession","WAWebQuickReplyLogging","WAWebQuickReplySuggestions.react","WAWebReconnectUtil","WAWebRecordingSessionStateEnum","WAWebRichTextInput.react","WAWebRichTextInputGatingUtils","WAWebSendStickerAction","WAWebSendTextMsgChatAction","WAWebStateUtils","WAWebStickerSuggestions.react","WAWebStopEvent","WAWebSuggestionsPanelContainer.react","WAWebTabOrder","WAWebTextSizeUtils","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUimUie.react","WAWebUseBusinessProfile.react","WAWebUseComposeBoxActionListeners","WAWebUseIsKeyboardUser","WAWebUseShouldShowBotSuggestions","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebWamEnumAutoMuteActionType","WAWebWamEnumMediaPickerOriginType","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcStickerMakerEventsWamEvent","asyncToGeneratorRuntime","cr:5981","cr:5993","cr:7456","gkx","react","useForceUpdate","useLazyRef","useWAWebCallbackOnce","useWAWebDebouncedCallback","useWAWebListener","useWAWebModelValues","useWAWebNux","useWAWebOnUnmount","useWAWebSetModelValue","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,aa){var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve CTWA context data, error: ",""]);k=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["Full preview upload has failed: "]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["link preview: uploading new thumbnail mms"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["link preview: using an existing thumbnail mms"]);da=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),ea=e.useEffect,fa=e.useImperativeHandle,ga=e.useMemo,m=e.useRef,n=e.useState,ha=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,ia=1,ja=700,ka=8,o=b("$InternalEnum").Mirrored(["ATTACHMENT_MENU","OTHER"]);e=l.forwardRef(a);function a(a,e){var f;a=babelHelpers["extends"]({},a);var g=a.onPageUpDown,i=a.onComposeHeightChange,j=a.canShowSpamPanel;j=j===void 0?!1:j;var p=c("useForceUpdate")(),q=d("useWAWebModelValues").useModelValues(a.chat,["id","trusted","composeContents","composeQuotedMsg","isPSA","isGroup","pttRecordingSession","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","quotedMsgAdminGroupSubject","quotedMsgAdminParentGroupJid","composeQuotedMsgRemoteJid","isAutoMuted","isNewsletter"]),la=d("useWAWebSetModelValue").useSetModelValue(q,"composeQuotedMsg"),ma=d("useWAWebSetModelValue").useSetModelValue(q,"quotedMsgAdminGroupJid"),na=d("useWAWebSetModelValue").useSetModelValue(q,"composeQuotedMsgRemoteJid"),oa=d("useWAWebSetModelValue").useSetModelValue(q,"pttRecordingSession"),r=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend","showExpandedComposer"]),s=ga(function(){return q.getComposeContents()},[q]),t=m(s==null?void 0:s.omittedURL),u=n(null),v=u[0],w=u[1];u=n(!1);var pa=u[0],qa=u[1];u=n(d("PaymentLinkWamLogger").LinkPreviewStatus.NOT_STARTED);var ra=u[0],sa=u[1],ta=m(s==null?void 0:s.omittedURL),x=m((s==null?void 0:s.text)||""),ua=function(){var a=d("WAWebCodeFormatMutator").removeCodeBlocks(x.current);return d("WAWebLinkify").findLinks(a,!0,d("WAWebUserPrefsMeUser").assertGetMe())[0]};u=c("WAWebUseIsKeyboardUser")();u=u.isKeyboardUser;var y=n(null),va=y[0],wa=y[1];y=function(){return q.id.isBot()||va!=null};var z=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()||d("WAWebBotGating").isBizBot1pEnabled()?a.chat.id:null,["commands","prompts","isBizBot1p","isBizBot3p"]);f=y()?d("WAWebBotProfileCollection").BotProfileCollection.get((f=va)!=null?f:q.id):null;var xa=(z==null?void 0:z.commands)||d("WAWebBotGating").isMetaBotCommandsEnabled&&(f==null?void 0:f.commands)||null,ya=m([]),A=c("useLazyRef")(function(){return new AbortController()}),B=n(!1),za=B[0],Aa=B[1];B=d("WAWebUseShouldShowBotSuggestions").useShouldShowBotSuggestions(a.chat,z==null?void 0:z.prompts);var Ba=function(){ya.current=[],A.current.abort(),A.current=new AbortController(),za&&Aa(!1)};a=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION),qa(!0),Ca(a)};var Ca=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;d("WAWebABProps").getABPropConfigValue("link_preview_shimmer_enabled")&&Ba();v&&(ta.current=t.current,w(null))},C=function(){t.current=null,qa(!1),sa(d("PaymentLinkWamLogger").LinkPreviewStatus.NOT_STARTED),Ca()},Da=function(a,e){if(a.data.thumbnailDirectPath!==void 0){d("WALogger").LOG(da());var f=d("WAWebComposeBoxUtils").getCachedPreview(a);w(function(b){return(b==null?void 0:b.url)!==a.url?b:f});return(h||(h=b("Promise"))).resolve()}d("WALogger").LOG(ca());var g=a.data.thumbnailHQ;return!g?(h||(h=b("Promise"))).resolve():c("WAWebMediaOpaqueData").createFromBase64Jpeg(g).then(function(a){return c("WAWebMediaUploadMmsThumbnail")({thumbnail:a,mediaType:q.isNewsletter?d("WAWebMmsMediaTypes").MEDIA_TYPES.NEWSLETTER_THUMBNAIL_LINK:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(q),forwardedFromWeb:!1,signal:e,timeout:c("WAWebConstantsDeprecated").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1})}).then(function(b){var c=b.mediaEntry;if(!c)return;w(function(d){if((d==null?void 0:d.url)!==a.url)return d;d={mediaKey:c.mediaKey,mediaKeyTimestamp:c.mediaKeyTimestamp,thumbnailDirectPath:c.directPath,thumbnailSha256:b.filehash,thumbnailEncSha256:c.encFilehash};d=babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,d)});return d})})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(a){d("WALogger").LOG(ba()).devConsole(a)})},D=n(!!x.current),Ea=D[0],Fa=D[1];D=n(s==null?void 0:s.ctwaContextLinkData);var E=D[0],Ga=D[1],Ha=m(null);D=m(null);var F=m(null),Ia=m(null),Ja=m(null),Ka=m(null),La=m(0),Ma=m(!1),Na=m(!1),Oa=m(null),Pa=c("useWAWebStableCallback")(function(){if(!Ea||E){C();return}var a=ua();if(!a){C();return}var b=a.url;if(t.current!==""&&t.current===b)return;t.current=b;ta.current=null;var c=A.current.signal;b=new(d("PaymentLink").PaymentLink)(b);var e=b.shouldDetectInComposer()&&b.isValid()?d("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.PAYMENT_LINKS:d("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.NONE,f=d("WAWebGenMinimalLinkPreviewChatAction").genMinimalLinkPreview(a,e,!0);d("WAWebABProps").getABPropConfigValue("link_preview_shimmer_enabled")&&w(f);sa(d("PaymentLinkWamLogger").LinkPreviewStatus.STARTED);b=d("WAWebLinkPreviewChatAction").getLinkPreview(a,q).then(function(b){if(c.aborted)throw new(d("WAAbortError").AbortError)();if(b&&t.current===b.url&&(b.data&&(b.data.title||b.data.description))){w(b);return Da(b,c)["finally"](function(){sa(d("PaymentLinkWamLogger").LinkPreviewStatus.COMPLETED)})}d("WAWebABProps").getABPropConfigValue("link_preview_shimmer_enabled")&&f!=null&&w(d("WAWebGenMinimalLinkPreviewChatAction").genMinimalLinkPreview(a,e))});ya.current.push(b);b["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,function(){}))["catch"](d("WAAbortError").catchAbort(function(){}))}),G=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(Pa)}),H=m({text:"",parsableText:"",data:{}}),Qa=m(null),I=null,J=n(),K=J[0];J=J[1];var L=n(q.pttRecordingSession),Ra=L[0],Sa=L[1];L=n(q.pttRecordingSession!=null);var Ta=L[0],Ua=L[1];L=n(null);var Va=L[0],Wa=L[1];L=n("");var Xa=L[0],Ya=L[1];L=n(s==null?void 0:s.ctwaContext);var M=L[0],Za=L[1];s=n(function(){return d("WAWebConversationSpamUtils").shouldShowSpamPanel(q)});var $a=s[0],ab=s[1];L=function(a){Ya(a)};s=function(){ab(!1),d("WAWebConversationSpamUtils").acknowledgeGroupAsNotSpam(q)};var bb=function(){ab(!1)},N=d("WAWebNux").getChatAutoMutedNuxKey(q.id.toString());N=c("useWAWebNux")(N);var cb=N[0],db=N[1];N=n(!1);var eb=N[0],fb=N[1];N=c("useWAWebCallbackOnce")(function(){new(d("WAWebAutoMuteLargeGroupActionsWamEvent").AutoMuteLargeGroupActionsWamEvent)({autoMuteAction:d("WAWebWamEnumAutoMuteActionType").AUTO_MUTE_ACTION_TYPE.USER_DIALOG_VIEW,autoMuteGroupSize:q.getParticipantCount()}).commit(),fb(!0)});var gb=function(){new(d("WAWebAutoMuteLargeGroupActionsWamEvent").AutoMuteLargeGroupActionsWamEvent)({autoMuteAction:d("WAWebWamEnumAutoMuteActionType").AUTO_MUTE_ACTION_TYPE.USER_DISMISS_BY_UNMUTE,autoMuteGroupSize:q.getParticipantCount()}).commit(),d("WAWebCmd").Cmd.muteChat(q,!1),db(),fb(!1)},hb=function(a){a===void 0&&(a=!1),new(d("WAWebAutoMuteLargeGroupActionsWamEvent").AutoMuteLargeGroupActionsWamEvent)({autoMuteAction:a===!0?d("WAWebWamEnumAutoMuteActionType").AUTO_MUTE_ACTION_TYPE.USER_ADMIT_BY_MESSAGE_SEND:d("WAWebWamEnumAutoMuteActionType").AUTO_MUTE_ACTION_TYPE.USER_ADMIT_BY_OK,autoMuteGroupSize:q.getParticipantCount()}).commit(),db(),fb(!1)},O=n({handleOnce:[],handleMultiple:[]}),ib=O[0],jb=O[1];d("useWAWebListener").useListener(d("WAWebBlocklistCollection").BlocklistCollection,["add","remove","reset"],p);O=n(r.showExpandedComposer);var kb=O[0],lb=O[1];p=function(){lb(!kb),r.set("showExpandedComposer",!r.showExpandedComposer)};var P=function(){var a=x.current;if(d("WAWebDraftMessageChatGatingUtils").draftMessageEnabled()){var b=q.getComposeContents();if(b==null&&a.trim()==="")return;if((b==null?void 0:(b=b.text)==null?void 0:b.trim())===a.trim())return}b={text:a,timestamp:d("WATimeUtils").unixTime()};a=ta.current;a!=null&&(b.omittedURL=a);M!=null&&(b.ctwaContext=M);E!=null&&(b.ctwaContextLinkData=E);q.setComposeContents(b)},mb=function(a){P();C();var b=a.sourceUrl;b!=null&&b!==""&&d("WAWebBizQueryCtwaContextBridge").fetchCtwaContextData(a).then(function(a){Za(a),P()})["catch"](function(a){d("WALogger").WARN(k(),a)})};ea(function(){La.current=c("WANullthrows")(F.current).clientHeight,G.current.debounceAndCap(50,50),E&&(!M||M.sourceUrl!==E.sourceUrl)&&(Za(null),mb(E))},[]);c("useWAWebOnUnmount")(function(){var a;G.current.cancel();A.current.abort();(a=Oa.current)==null?void 0:a.cancel();P()});var nb=c("useWAWebDebouncedCallback")(P,200),Q=function(){var a=x.current.trim().length>0;d("WAWebDraftMessageChatGatingUtils").draftMessageEnabled()||d("WAWebComposeBoxHasText").setHasText(a);return a},R=function(a){K==null?void 0:K.focus()},ob=function(a,b){K==null?void 0:K.replaceSelection(a,b)};O=function(a,b){if(a===" "&&!Q())return d("WAWebCmd").Cmd.scrollMessages();R(!0);ob(a,b)};var S=function(a){R(!0),K==null?void 0:K.paste(a)},T=m(o.OTHER),pb=function(){var a;(a=Qa.current)==null?void 0:a.togglePanel();T.current=o.ATTACHMENT_MENU},qb=function(){K==null?void 0:K.reset()},U=function(){R()},V=m(null),rb=m(null),W=function(a){Ga(a),Za(null),mb(a)},sb=function(a){jb(function(b){var c=b.handleOnce;b=b.handleMultiple;return{handleOnce:a.handleOnce?c.concat(a.handleOnce):c,handleMultiple:a.handleMultiple?c.concat(a.handleMultiple):b}})},tb=function(){Ga(null),Za(null),P(),G.current.onOrBefore(1)},ub=function(){var a;(a=Ha.current)==null?void 0:a.activate();c("WAWebFocusIndicator").maybeIndicateFocus(Ka.current,c("WAWebComposeBox.scss").focusAnimation);R(!1)},vb=function(a){if(!g)return;a.stopPropagation();g(a);(a=Oa.current)==null?void 0:a.debounce(0)},X=c("useWAWebStableCallback")(function(){return q.getComposeContents()}),Y=c("useWAWebStableCallback")(function(a,b){b===void 0&&(b={});b=b;b=b.initCaptionUsed;a&&b&&qb();a&&tb()}),wb=c("useWAWebStableCallback")(function(){nb.flush()}),xb=function(){Wa(null),U()},yb=function(a,b,c){a=d("WAWebComposeBoxUtils").fetchGif(a,b,c);nb.flush();d("WAWebCmd").Cmd.attachMediaDrawer({chat:q,attachments:[a],initCaption:X(),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(a,b){Y(a,b),a&&xb()}});a["catch"](function(){});return a},zb=function(a,b){yb(a,a,b)},Ab=function(a,b){if(a.isCreateButton){var c;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit();(c=Ja.current)==null?void 0:c.open();return}c=q.composeQuotedMsg;var e=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(E,M);d("WAWebSendStickerAction").sendStickerToChat(q,a,{stickerSendOrigin:b,quotedMsg:c,ctwaContext:e});la(null);tb()},Bb=function(a){var b=Q();x.current=a;var c=Q();c!==b&&Fa(c);c?(q.presence.subscribe(),d("WAWebPresenceChatAction").markComposing(q),void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(q)):(I=null,d("WAWebPresenceChatAction").markPaused(q));b=ua();(!b&&t.current||b&&b.url!==t.current)&&C();Ma.current?G.current.onOrBefore(1):G.current.debounce(ja);Ma.current=!1;nb();!$a&&a&&!q.trusted&&ab(!0);c=H.current.data;b=c.mentionedJidList;a=b==null?void 0:b.find(function(a){return a.isBot()});wa(a)},Cb=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;q.pttRecordingSession!=null?a=q.pttRecordingSession:(a=d("WAWebPttComposerRecordingSession").createRecordingSession({chat:d("WAWebStateUtils").unproxy(q)}),a.on("change:recordingState",function(){var b=a.recordingState;q.pttRecordingSession===a&&(b===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR||b===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)&&oa(null)}));Sa(a);Ua(!1);var b;try{b=(yield a.start())}finally{var c=b?a:null;oa(c);Sa(c);Ua(c!=null)}});return function(){return a.apply(this,arguments)}}(),Db=function(a){Wa(a),a!=null&&d("WAWebUserPrefsGeneral").setLastComposeBoxPanel(a)},Eb=function(a){a=a.getFiles().filter(function(a){a=d("WAWebFileUtils").typeFromMimetype(a.type);return a==="image"||a==="video"});a.length&&(nb.flush(),d("WAWebCmd").Cmd.attachMediaDrawer({chat:q,attachments:a.map(function(a){return{file:a}}),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:X(),onComplete:Y}))},Z=function(a){var b=ha.exec(a);if(b){b="https://media.giphy.com/media/"+b[1]+"/200w.mp4";yb(b,a,d("WAWebProtobufsE2E.pb").Message$VideoMessage$Attribution.GIPHY)["catch"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),R(!0),K==null?void 0:K.replaceSelection(a),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:aa._("__JHASH__3NqmbS0GWwG__JHASH__")}))});return!0}Ma.current=!0;return!1},Fb=function(){return!F.current?0:F.current.offsetWidth-ia},Gb=function(a){var b;a=a.target;if(a instanceof HTMLElement&&((b=rb.current)==null?void 0:b.contains(a)))return;ub();d("WAWebFMXUtils").supportsFMX()&&!q.isGroup&&Ea&&ab(!0)},Hb=function(){var a;d("WAWebReconnectUtil").reconnect();var b=H.current.text.trim(),c=H.current.data;if(b.length===0&&!E)return;Ba();var e=q.composeQuotedMsg,f=q.quotedMsgAdminGroupJid,g=q.quotedMsgAdminGroupSubject,aa=q.quotedMsgAdminParentGroupJid,h=v==null?void 0:v.data,i=c.mentionedJidList||[];c=c.groupMentions||[];var j=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(E,M),k=Na.current;Wa(null);Fa(!1);w(null);(a=V.current)==null?void 0:a.close();if(eb){a=!0;hb(a)}I&&(d("WAWebQuickReplyLogging").logQuickReplySendEvent(I===o.ATTACHMENT_MENU?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD),I=null);if(k){a=d("WAWebStateUtils").unproxy(q);a.urlText&&(a.urlText=void 0)}k={linkPreview:h,quotedMsg:e,mentionedJidList:i,groupMentions:c,quotedMsgAdminGroupJid:f,quotedMsgAdminGroupSubject:g,quotedMsgAdminParentGroupJid:aa,ctwaContext:j};q.isNewsletter?d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(q,b,k):(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(q,b,babelHelpers["extends"]({},k,{botMsgBodyType:d("WAWebBotGating").isBizBot3pAvailable()&&(z==null?void 0:z.commands)&&d("WAWebLexicalUtils").hasBotCommand(K==null?void 0:K.editor)?d("WAWebBotTypes").BotMsgBodyType.COMMAND:null})),tb(),ib.handleOnce.forEach(function(a){return a==null?void 0:a()}),ib.handleMultiple.forEach(function(a){return a==null?void 0:a()}),jb({handleMultiple:ib.handleMultiple,handleOnce:[]}));if(d("PaymentLinkWamLogger").PaymentLinkWamLogger.shouldLogPaymentLinkSendEvent()){a=d("WAWebUserPrefsMeUser").getMaybeMeUser();h=a!=null?d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)):!1;d("PaymentLinkWamLogger").PaymentLinkWamLogger.genLogSendEventIfPaymentLink(d("WAWebCodeFormatMutator").removeCodeBlocks(b),pa,v,ra,h)["catch"](function(){})}Na.current=!1;la(null);ma(null);na(null);q.setComposeContents({});qb();Q()},$=c("useWAWebStableCallback")(function(a){K==null?void 0:K.setTextContent(a)}),Ib=function(a){if(Va){var b;(b=Ia.current)==null?void 0:b.restoreFocus(!0);d("WAWebStopEvent").stopEvent(a)}},Jb=c("useWAWebDebouncedCallback")(function(a){if(Q()||!(q.isNewsletter?d("WAWebNewsletterGatingUtils").isNewsletterMessageEditingEnabled():d("WAWebMessageEditGatingUtils").sendTextEditEnabled()||d("WAWebMessageEditGatingUtils").sendCaptionEditEnabled()))return;d("WAWebComposeBoxUtils").editLastMessage(q,a)},200,{trailing:!0}),Kb=function(){Sa(null),Ua(!1),U()},Lb=function(a){if(!a)return;a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);if(!a.length)return;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit();d("WAWebCmd").Cmd.attachMediaDrawer({chat:q,attachments:a.map(function(a){return{file:a,stickerMaker:!0}}),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,sendAsSticker:!0})};c("WAWebUseComposeBoxActionListeners")(q,{onFocus:U,onPaste:O,onRoutedPaste:S,onSend:Hb,onToggleQuickReplies:pb,onCtwaContextLinkData:W,onSendingLogAttributes:sb,onSetTextContent:$});O=d("WAWebTextSizeUtils").getWAWebTextSizeStyles().composerFontSize;S=d("WAWebStateUtils").unproxy(q).groupMetadata;pb=function(a){d("WAWebSendTextMsgChatAction").sendTextMsgToChat(q,a,{botMsgBodyType:d("WAWebBotGating").isBizBot3pAvailable()?d("WAWebBotTypes").BotMsgBodyType.PROMPT:null})};W=d("WAWebComposeBoxUtils").getComposeBoxPlaceholderText(q);var Mb=m(null);sb=function(a){var b;a&&d("WAWebAttachMenuGatingUtils").areExpressionPanelsOpenEnabled();Mb==null?void 0:(b=Mb.current)==null?void 0:b.forceHide(a)};J=l.jsxs(d("WAWebRichTextInput.react").RichTextInput,{ref:J,placeholder:W,ariaLabel:W,ariaActiveDescendents:Xa,textXstyle:O,testid:void 0,initialText:($=X())==null?void 0:$.text,groupMetadata:S,readOnly:Ra!=null,maxLength:c("WAWebConstantsDeprecated").MAX_TXT_MSG_SIZE,maxVisibleLines:ka,minVisibleLines:kb?2:1,spellCheck:r.spellcheck,transformTextEmoji:r.transformTextEmoji,enterIsNewLine:!r.enterIsSend,multiline:!0,focusOnMount:!u,textFormatEnabled:!0,tabOrder:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_INPUT,onChange:function(a){H.current=a,Bb(a.parsableText)},onEnter:Hb,onFiles:Eb,onTextPaste:Z,onMaxPasteExceeded:d("WAWebComposeBoxUtils").handleMaxPasteExceeded,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,internLinksEnabled:!0,phoneNumbersEnabled:!0,linksEnabled:!0,textFormatShortcutsEnabled:!0,floatingToolbarEnabled:!kb,botInvokeEnabled:q.canInvokeBot(),highlightedBotCommands:xa,children:[d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx(d("WAWebEmojiPickerPlugin").EmojiPickerPlugin,{}),d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx(d("WAWebMentionPickerPlugin").MentionPickerPlugin,{groupMetadata:S,elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(q),botInvokeEnabled:q.canInvokeBot()})]});var Nb;W=K==null?void 0:K.editor;W!=null&&(Nb=l.jsxs(l.Fragment,{children:[!d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx(d("WAWebMentionSuggestions.react").MentionSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W,groupMetadata:S,elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(q),botInvokeEnabled:q.canInvokeBot()}),!d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W,emojiSuggestionSelect:L}),d("WAWebABProps").getABPropConfigValue("web_sticker_suggestions_enable")&&l.jsx(d("WAWebStickerSuggestions.react").StickerSuggestions,{ref:Mb,kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W,onSelect:function(a){V==null?void 0:(a=V.current)==null?void 0:a.close()},onDismiss:function(){var a;V==null?void 0:(a=V.current)==null?void 0:a.close()}}),d("WAWebBizGatingUtils").canSendQuickReplyInChat(q)&&l.jsx(d("WAWebQuickReplySuggestions.react").QuickReplySuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W,ref:Qa,onSelect:function(){T.current===o.ATTACHMENT_MENU?(d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(q,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY),I=o.ATTACHMENT_MENU):I=o.OTHER,T.current=o.OTHER},onHide:function(){T.current===o.ATTACHMENT_MENU&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(q,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY),T.current=o.OTHER}}),(d("WAWebBotGating").isBizBot3pEnabled()&&z||d("WAWebBotGating").isMetaBotCommandsEnabled()&&f)&&l.jsx(d("WAWebBotCommandSuggestions.react").BotCommandSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W,businessProfile:z&&d("WAWebStateUtils").unproxy(z),botProfile:f}),!c("gkx")("26258")&&b("cr:5993")?l.jsx(b("cr:5993"),{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:W}):null]}));fa(e,function(){return{flushSaveComposeContentDebounced:wb,getCurrentComposeContent:X,updateTextAfterMediaDrawerClose:Y}},[wb,X,Y]);Xa=null;B&&(Xa=l.jsx(d("WAWebBotSuggestions.react").BotSuggestions,{id:q.id,onPromptSelect:pb}));O={chat:q,pttComposerActive:Ta,isMessageToBot:y(),getCurrentComposeContent:X,richTextInputRef:K,updateTextAfterMediaDrawerClose:Y,inputHotkeyRef:Ka,handleTab:Ib,handleMetaUpDebounced:Jb,handleInputFocus:Gb,input:J,expressionsPanelWrapperRef:rb,expressionsPanelPickerRef:V,replaceInputSelection:ob,handlePanelsSticker:Ab,handlePanelsGif:zb,hasTextState:Ea,handleSendText:Hb,recordingSession:Ra,startRecording:Cb,onExpressionPanelActive:sb};$=d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&Boolean(b("cr:7456"));kb&&b("cr:7456")?Eb=l.jsx(b("cr:7456"),babelHelpers["extends"]({},O,{onCollapseComposer:p})):Eb=l.jsx(d("WAWebMessageComposer.react").MessageComposer,babelHelpers["extends"]({},O,{handlePanelChange:Db,selectedPanelId:Va,onExpandComposer:$?p:null}));return l.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBox",ref:Ha,uimState:d("WAWebUim").UIMState.PASSIVE,requestFocus:u?null:U,children:l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{component:"footer",tabIndex:null,handlers:{pagedown:vb,pageup:vb},className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((Z={},Z[c("WAWebComposeBox.scss").pttComposerActive]=Ta,Z[c("WAWebComposeBox.scss").footer]=!0,Z[c("WAWebComposeBox.scss").botSuggestions]=B,Z)),ref:D,children:[!c("gkx")("26258")&&!q.isGroup&&b("cr:5981")?l.jsx(b("cr:5981").InternalStatusWarningComposeBox,{id:q.contact.id,borders:!0}):null,Xa,l.jsx(c("WAWebCopyPasteCopyableArea.react"),{canCut:!0,className:c("WAWebComposeBox.scss").blockCompose,ref:F,children:l.jsxs("div",{"data-testid":void 0,className:c("WAWebComposeBox.scss").mainContentContainer,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pttComposer",children:Ta?l.jsx("div",{className:c("WAWebComposeBox.scss").pttComposerContainer,children:l.jsx(c("WAWebPttComposer.react"),{chat:d("WAWebStateUtils").unproxy(q),recordingSession:c("WANullthrows")(Ra),onComplete:Kb})}):null}),l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"messageComposer",children:Eb})]})}),l.jsx(c("WAWebComposeBoxPopupPanels.react"),{ref:Ia,chat:q,linkPreviewData:v==null?void 0:v.data,ctwaContextLinkData:E,ctwaContextData:M,restoreFocus:U,selectedPanelId:Va,getComposeBlockWidth:Fb,onComposeHeightChange:i,omitLinkPreview:a,omitCtwa:tb,attachmentButtonHidden:y(),onEmoji:ob,onGif:zb,onPanelChange:Db,onSticker:Ab,onPanelClose:xb,showSpamPanel:j&&$a,onClickNotSpam:s,onClickDismissSpam:bb,canShowChatAutoMutedNux:cb,onOpenChatAutoMuteNux:N,onAcceptChatAutoMuteNux:hb,onUnmuteChatAutoMuteNux:gb}),l.jsx(c("WAWebFilePicker.react"),{ref:Ja,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:Lb,multiple:!1}),Nb]})})}a.displayName=a.name+" [from "+f.id+"]";a=e;g.ComposeBox=a}),226);
__d("WAWebCongratulationsAnimation.react",["WAWebCongratulationsAnimationsUtils","WAWebLottieAnimationLoadable","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef,m=b.useState,n={lottieComponent:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};e=j.forwardRef(a);function a(a,b){var e=a.onAnimationComplete;a=m(!1);var f=a[0],g=a[1];a=m(null);var h=a[0],i=a[1];a=l(null);var o=c("useWAWebUnmountSignal")(),p=function(){e==null?void 0:e();if(o.aborted)return;g(!1)},q=function(a){if(o.aborted)return;a=d("WAWebCongratulationsAnimationsUtils").getCongratulationsAnimationPath(a.animation);i(a);g(!0)};k(b,function(){return{triggerAnimation:q}});b=null;f&&h!=null&&(b=j.jsx("div",{className:"x10l6tqk x1omtkq1 x47corl x5yr21d xh8yej3 x78zum5 xl56j7k",children:j.jsx("div",{className:"x5yr21d xktia5q",children:j.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{ref:a,autoplay:!0,path:h,onComplete:p,xstyle:n.lottieComponent})})}));return b}a.displayName=a.name+" [from "+f.id+"]";b=e;g.CongratulationsAnimation=b}),98);
__d("WAWebCongratulationsAnimationConversation.react",["WAWebCongratulationsAnimation.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function l(a,b){a.animationCandidateData&&(b==null?void 0:b.triggerAnimation({animation:a.animationCandidateData.animationType}),a.setCelebrationAnimationLastPlayed())}function a(a){a=a.chat;var b=k();a=d("useWAWebModelValues").useModelValues(a,["animationCandidateData","celebrationAnimationLastPlayed"]);a.animationCandidateData&&a.animationCandidateData.msgTimestampSeconds>a.celebrationAnimationLastPlayed&&l(a,b.current);return j.jsx(d("WAWebCongratulationsAnimation.react").CongratulationsAnimation,{ref:b})}a.displayName=a.name+" [from "+f.id+"]";g.CongratulationsAnimationConversation=a}),98);
__d("WAWebContactMutator",["WALogger","WAWebBizCoexGatingUtils","WAWebContactCollection","WAWebProtobufsAdv.pb","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updated contact name"]);h=function(){return a};return a}function a(a){var b=a.contactId;a=a.pushname;b=d("WAWebContactCollection").ContactCollection.gadd(b);if(b.pushname===a)return!1;a={pushname:a};b.set(a);return!0}function b(a){a=a.lidPhoneNumberMappings;a.forEach(function(a){var b=a.lid;a=a.phoneNumber;b=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(b,"lid"));var c=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(a));b!=null&&(b.phoneNumber=d("WAWebWidFactory").createUserWid(a));b==null?void 0:b.updateContactBlocked();c==null?void 0:c.updateContactBlocked()})}function c(a){a=a.lidContactDataMappings;a.forEach(function(a){var b=a.lid,c=a.shareOwnPn,e=a.displayNameLID;a=a.requestedPnTimestamp;b=d("WAWebContactCollection").ContactCollection.gadd(b);b!=null&&(c!=null&&(b.shareOwnPn=c),e!=null&&(b.displayNameLID=e),a!=null&&(b.requestedPnTimestamp=a))})}function e(a){var b=a.contactId;a=a.name;d("WAWebContactCollection").ContactCollection.gadd(b).set({name:a});d("WALogger").LOG(h()).tags("contact")}function f(a){var b=a.contactId,c=a.disappearingModeDuration;a=a.disappearingModeSettingTimestamp;d("WAWebContactCollection").ContactCollection.gadd(b).set({disappearingModeDuration:c,disappearingModeSettingTimestamp:a})}function i(a){var b=a.contactId,c=a.textStatusString,e=a.textStatusEmoji,f=a.textStatusEphemeralDuration,g=a.textStatusLastUpdateTime;a=a.textStatusExpiryTs;d("WAWebContactCollection").ContactCollection.gadd(b).set({textStatusString:c,textStatusEmoji:e,textStatusEphemeralDuration:f,textStatusLastUpdateTime:g,textStatusExpiryTs:a})}function j(a){var b=a.contactId;a=a.businessInfo;if(a==null)return;d("WAWebContactCollection").ContactCollection.gadd(b).set(a)}function k(a){a=a.usernameUpdates;a.forEach(function(a){var b=a.id,c=a.username;a=a.displayNameLID;b=d("WAWebContactCollection").ContactCollection.gadd(d("WAWebWidFactory").createUserWid(b));if(b.username===c)return;b.username=c;a!=null&&(b.displayNameLID=a)})}function l(a){var b=a.contactId;a=a.advAccountType;if(d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){a=a===d("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED;d("WAWebContactCollection").ContactCollection.gadd(b).set(a?{isHosted:!0,isOrHasBeenHosted:!0}:{isHosted:!1})}}function m(a){var b=a.showMe;b=b===void 0?!1:b;var c=a.showWithoutName;c=c===void 0?!1:c;a=a.includeLidContacts;a=a===void 0?!1:a;return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:b,showWithoutName:c,includeLidContacts:a})}g.updatePushname=a;g.bulkUpdatePhoneNumberJids=b;g.bulkUpdateLidContactState=c;g.updateContactName=e;g.updateDisappearingMode=f;g.updateTextStatus=i;g.updateBusinessInfo=j;g.bulkUpdateUsernames=k;g.updateContactAdvAccountType=l;g.getFilteredContacts=m}),98);
__d("WAWebContactBridgeApi",["WAWebBizUpdateContactsWithVerifiedNamesAction","WAWebContactCollection","WAWebContactMutator"],(function(a,b,c,d,e,f,g){b={updatePushname:(a=d("WAWebContactMutator")).updatePushname,bulkUpdatePhoneNumberJids:a.bulkUpdatePhoneNumberJids,updateContactName:a.updateContactName,bulkUpdateLidContactState:a.bulkUpdateLidContactState,updateDisappearingMode:a.updateDisappearingMode,updateTextStatus:a.updateTextStatus,updateContactWithVerifiedName:function(a){var b=a.contactId;a=a.verifiedNameInfo;b=d("WAWebContactCollection").ContactCollection.gadd(b);d("WAWebBizUpdateContactsWithVerifiedNamesAction").updateContactsWithVerifiedNames([a],[b])},addContactToCollection:function(a){var b=a.contact;a=a.option;d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},b),a)},updateBusinessInfo:a.updateBusinessInfo,bulkUpdateUsernames:a.bulkUpdateUsernames,updateContactAdvAccountType:a.updateContactAdvAccountType,getFilteredContacts:a.getFilteredContacts};g.ContactBridgeApi=b}),98);
__d("WAWebContactMsgInfoFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebContactMsgInfoFlow.react").__setRef("WAWebContactMsgInfoFlowLoadable").load());return a}),"ContactMsgInfoFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingDrawer.react"),{title:h._("__JHASH__6ZxqC6H3okB__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.ContactMsgInfoFlowLoadable=d}),226);
__d("WAWebHistorySyncOnDemandEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.triggerSuccessHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:success_history_sync_od",a)};c.triggerErrorHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:error_history_sync_od",a)};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebHistorySyncOnDemandEvents=b}),98);
__d("WAWebConversationLoadMoreMessagesHistorySync",["fbt","WALogger","WAWebAlertSyncPausedIcon","WAWebChatConstants","WAWebClock","WAWebHistorySyncInProgressPopup.react","WAWebHistorySyncOnDemandEvents","WAWebHistorySyncPausedPopup.react","WAWebHistorySyncProgressGetters","WAWebHistorySyncUIText","WAWebModalManager","WAWebNonMessageDataRequestHistorySyncOnDemandUtils","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","WAWebSpinner.react","WAWebSyncGatingUtils","WAWebSyncInProgressIcon","WAWebUserPrefsHistorySync","gkx","react","stylex","useWAWebHistorySyncProgressValues","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][on demand] fail for chat ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][on demand] success for chat ",""]);m=function(){return a};return a}var n=k||c("react"),o=(i||(i=d("react"))).useState,p={historySyncSystemMsg:{color:"x14m1o6m",background:"x126m2zf",boxShadow:"x1b9z3ur",$$css:!0},historySyncLoadingIndicator:{color:"x14m1o6m",backgroundColor:"x150wa6m",boxShadow:"x1b9z3ur",$$css:!0},historySyncStateContainer:{boxSizing:"x9f619",display:"x1rg5ohu",flex:"x1okw0bk",maxWidth:"x193iq5w",paddingTop:"x123j3cw",paddingEnd:"xn6708d",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",fontSize:"x13a8xbf",lineHeight:"xdod15v",textAlign:"x2b8uid",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function a(a){var b=a.chatId;a=a.mdHistorySyncTransferState;var e=d("useWAWebHistorySyncProgressValues").useHistorySyncProgressValues([d("WAWebHistorySyncProgressGetters").getInProgress,d("WAWebHistorySyncProgressGetters").getPaused]),f=e[0];e=e[1];var g=a===d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.INCOMPLETE,i=b==null?void 0:b.toJid(),k=o(function(){return i!=null?new Set(d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.values()).has(i):!1}),q=k[0],r=k[1];k=o(null);var s=k[0],t=k[1];d("useWAWebListener").useListener(d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents,"history_sync_on_demand_events:success_history_sync_od",function(a){d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a===i&&(d("WALogger").LOG(m(),c("gkx")("26258")?"":b),r(!1),t(!0))});d("useWAWebListener").useListener(d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents,"history_sync_on_demand_events:error_history_sync_od",function(a){d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a===i&&(d("WALogger").LOG(l(),c("gkx")("26258")?"":b),r(!1),t(!1))});var u,v,w;if(g&&f)u=e?d("WAWebHistorySyncUIText").SYNCING_PAUSED_CONTEXTUAL_SYSTEM_MESSAGE_TEXT():d("WAWebHistorySyncUIText").SYNC_IN_PROGRESS_CONTEXTUAL_SYSTEM_MESSAGE_TEXT(),v=e?n.jsx(d("WAWebAlertSyncPausedIcon").AlertSyncPausedIcon,{width:14,height:14}):n.jsx(d("WAWebSyncInProgressIcon").SyncInProgressIcon,{width:11,height:14}),w=e?function(){d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebHistorySyncPausedPopup.react"),{}))}:function(){d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebHistorySyncInProgressPopup.react"),{}))};else{if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a!=null&&!f&&!q&&!d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").historySyncOnDemandRequestsFailureRecord.disableRequestSending)switch(a){case d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY:b!=null&&(s!==!1?u=h._("__JHASH__pvzE2_DSA1K__JHASH__"):(u=h._("__JHASH__S6j0zPwt9FS__JHASH__"),v=n.jsx(d("WAWebAlertSyncPausedIcon").AlertSyncPausedIcon,{width:14,height:14})),w=function(){r(!0),d("WAWebSendNonMessageDataRequest").sendPeerDataOperationRequest(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.HISTORY_SYNC_ON_DEMAND,{chatId:b}),t(null)});break;case d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY:u=h._("__JHASH__vxGNqBuXAuO__JHASH__");break;default:break}if(u==null){k=d("WAWebClock").Clock.relativeDateStr(d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate());u=h._("__JHASH__vIqNJqZEv6W__JHASH__",[h._param("date",k)])}}if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&q)return n.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xexx8yu x4uap5 xwxc41k xkhd6sd",children:n.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k x187nhsf xn3w4p2 xdj266r xkrivgy xat24cr x1gryazu xiqmkuo x150wa6m x14yjl9h xudhj91 x18nykt9 xww2gxu x1wpep30",children:n.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24,color:"highlight"})})});e=n.jsxs("div",{className:"x78zum5 x6s0dn4 x1r0jzty x17zd0t2",children:[v,n.jsx("div",{children:u})]});f=(j||(j=c("stylex")))(!g&&p.historySyncSystemMsg,g&&p.historySyncLoadingIndicator,p.historySyncStateContainer);a=w!=null?n.jsx("button",{className:f,onClick:w,children:e}):n.jsx("div",{className:f,children:e});return n.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xqy66fx x4uap5 x1hhzuzn xkhd6sd",children:a})}a.displayName=a.name+" [from "+f.id+"]";g.HistorySyncLoadMoreMessages=a}),226);
__d("WAWebConversationLoadMoreMessages.react",["fbt","WAWebConversationLoadMoreMessagesHistorySync","WAWebRefreshIcon","WAWebSpinner.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chatId,c=a.direction,e=a.isLoadingAroundMsgs,f=a.isLoadingEarlierMsgs,g=a.isLoadingRecentMsgs;a.isMostRecentCMC;var i=a.isRepairingMsgHistory,k=a.loadMoreMsgs;a=a.mdHistorySyncTransferState;f=c==="earlier"&&f;g=c==="recent"&&g;e=c==="around"&&e;f=f||g||e||i;g=a!=null&&!f;var l,m;if(f)e=j.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24,color:"highlight"}),l=h._("__JHASH__tdRLYwdNocz__JHASH__");else if(g)return j.jsx(d("WAWebConversationLoadMoreMessagesHistorySync").HistorySyncLoadMoreMessages,{mdHistorySyncTransferState:a,chatId:b});else{switch(c){case"earlier":l=h._("__JHASH__qUKMplZh2-K__JHASH__");break;case"recent":l=h._("__JHASH__AXXzuEim8e9__JHASH__");break;default:l=h._("__JHASH__tdRLYwdNocz__JHASH__")}e=j.jsx(d("WAWebRefreshIcon").RefreshIcon,{});m=k}return j.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xexx8yu x4uap5 xwxc41k xkhd6sd",children:j.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k x187nhsf xn3w4p2 xdj266r xkrivgy xat24cr x1gryazu xiqmkuo x150wa6m x14yjl9h xudhj91 x18nykt9 xww2gxu x1wpep30",title:l,onClick:m,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g.LoadMoreMessages=a}),226);
__d("WAWebConversationMsgs.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={pane:"_ajyl",selectable:"_ajym",empty:"_ajyw",incomingContainer:"_ajyv",atMentions:"_ajyr",incoming:"_ajyn",buttonGap:"_ajys",buttonGapRemove:"_ajyt",ffFix:"_ajyo",unread:"_ajyp"};b=a;g["default"]=b}),98);
__d("WAWebConversationMsgsUtils",["WALogger","WAWebFrontendMsgGetters","WAWebMsgCollection","WAWebMsgGetters","WAWebRenderCursor","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid unreadDividerOffset: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["insufficient unreadMsgs.length: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["unreadMsgs.length is: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MRM noEarlierMsgs on chat "," is true but chat.msgChunks has length: ",",\n                    and chat.msgs.length: ",""]);k=function(){return a};return a}function l(a){if(a==null)return null;return a.key!=null?babelHelpers["extends"]({},a,{msg:d("WAWebMsgCollection").MsgCollection.get(a.key)}):a}function a(a){a=a.msgLoadState;return{noEarlierMsgs:a.noEarlierMsgs,isLoadingEarlierMsgs:a.isLoadingEarlierMsgs,isLoadingRecentMsgs:a.isLoadingRecentMsgs,isLoadingAroundMsgs:a.isLoadingAroundMsgs,contextLoaded:a.contextLoaded,isRepairingMsgHistory:a.isRepairingMsgHistory}}function b(a,b,c){c=c.noEarlierMsgs&&a.shouldAppearInList&&b&&a.msgChunks.filter(function(a){return a.filter(function(b){return b.msgChunk===a}).length>0}).length>0;c&&d("WALogger").ERROR(k(),String(a.id),a.msgChunks.length,a.msgs.length).sendLogs("noEarlierMsgs-error");return c}function e(a,b){var c=a.focusCtx,e=a.chat,f=a.msgCollection;c=l(c)||m(a,b);a=c==null?void 0:c.msg;b=a==null?void 0:a.id;return{cursor:d("WAWebRenderCursor").RenderCursor.create({msgCollection:f,focusedMsgKey:b,type:e.isGroup?d("WAWebRenderCursor").RENDER_CURSOR.GROUP_CONVERSATION:d("WAWebRenderCursor").RENDER_CURSOR.CONVERSATION}),focusCtx:c}}function m(a,b){var e=a.chat,f=a.msgCollection,g=a.focusCtx,k;e.unreadCount?k=e.unreadCount:k=b;if(g&&!n(a)||!k)return;b=f.filter(function(a){return d("WAWebMsgGetters").getIsUnreadType(a)}).reverse().slice(0,k);if(b.length===k)c("gkx")("26258")||d("WALogger").LOG(j(),b.length),g=b[b.length-1];else{c("gkx")("26258")||d("WALogger").LOG(i(),b.length);return}a=e.unreadDividerOffset;if(a>0){k=f.filter(Boolean).reverse();b=k.indexOf(g);k.slice(b+1,b+a+1).every(function(a){return Boolean(d("WAWebFrontendMsgGetters").getAsRevoked(a))})?g=k[b+a]:d("WALogger").ERROR(h(),a).sendLogs("invalid-unread-divider-offset",{sampling:.001})}return{msg:g,isUnreadDivider:e.shouldShowUnreadDivider,highlightMsg:!1}}function n(a){return a.chat.msgs===a.msgCollection}g.validateFocusCtx=l;g.getMsgLoadState=a;g.noEarlierMsgStateIsIncorrect=b;g.getInitialCursorAndFocusContext=e;g.getUnreadFocusCtx=m;g.isMostRecentCMC=n}),98);
__d("WAWebGroupCatchUpWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({GroupCatchUp:[3058,{mentionsCountPendingPercentage:[4,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1,1],"regular"]},{GroupCatchUp:[]});g.GroupCatchUpWamEvent=a}),98);
__d("WAWebMath",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f,g,h){var i={x:null,y:null,onLine1:!1,onLine2:!1},j=(h-f)*(c-a)-(g-e)*(d-b);if(j===0)return i;var k=b-f,l=a-e;g=(g-e)*k-(h-f)*l;e=(c-a)*k-(d-b)*l;k=g/j;l=e/j;i.x=a+k*(c-a);i.y=b+k*(d-b);k>0&&k<1&&(i.onLine1=!0);l>0&&l<1&&(i.onLine2=!0);return i}function b(a,b){if(a===0||b===0)return 0;a=a/b*100;return a%10===0?a:(parseInt(a/10,10)+1)*10}f.intersect=a;f.roundUp10thPercentage=b}),66);
__d("WAWebMediaAlbumPosition",[],(function(a,b,c,d,e,f){a={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"};f.AlbumPosition=a}),66);
__d("WAWebMediaAlbumGrid.react",["fbt","WANullthrows","WAWebCmd","WAWebDisplayType","WAWebMediaAlbumPosition","WAWebMediaVideo.react","WAWebMessagePicture.react","WAWebMsgType","WAWebText_DONOTUSE.react","WAWebTypesMedia","err","react","stylex","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useImperativeHandle,n=b.useRef,o={albumGridClass:{flexBasis:"x4pfjvb",width:"xh8yej3",maxWidth:"xpmch1",height:"xt7dq6l",$$css:!0},albumAnnouncementGridClass:{maxWidth:"x10y2gmo",$$css:!0},albumTopLeft:{marginTop:"xdj266r",marginEnd:"xeyog9w",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},albumTopRight:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},albumBottomLeft:{marginTop:"x7r5mf7",marginEnd:"xeyog9w",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},albumBottomRight:{marginTop:"x7r5mf7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0}},p=new Map([[d("WAWebMediaAlbumPosition").AlbumPosition.TOP_LEFT,o.albumTopLeft],[d("WAWebMediaAlbumPosition").AlbumPosition.TOP_RIGHT,o.albumTopRight],[d("WAWebMediaAlbumPosition").AlbumPosition.BOTTOM_LEFT,o.albumBottomLeft],[d("WAWebMediaAlbumPosition").AlbumPosition.BOTTOM_RIGHT,o.albumBottomRight]]);e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.msg,f=a.albumPosition,g=a.numAdditionalMedia,h=a.displayType,i=n(null),k=n(null),s=function(){e.type===d("WAWebMsgType").MSG_TYPE.REVOKED&&d("WAWebCmd").Cmd.refreshMessages()};d("useWAWebListener").useListener(e,"change:type",s);var t=function(){return k.current},u=function(){return c("WANullthrows")(i.current)};m(b,function(){return{getRef:t,getContainerElement:u}});return l.jsx("div",{ref:i,className:(j||(j=c("stylex")))(o.albumGridClass,d("WAWebDisplayType").isWideDisplay(h)&&o.albumAnnouncementGridClass),children:l.jsx("div",{className:j(p.get(f)),children:l.jsx(r,babelHelpers["extends"]({},a,{elRef:k,overlayContent:g!=null&&g>0?l.jsx(q,{numAdditionalMedia:g}):null}))})})}a.displayName=a.name+" [from "+f.id+"]";b=e;function q(a){a=a.numAdditionalMedia;return l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:"x10l6tqk x1n327nk xr1yuqi xkrivgy x4ii5y1 x1gryazu x1h833of x7o08j2 x47corl",children:h._("__JHASH__QhUfc76QPSg__JHASH__",[h._param("number",a)])})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.elRef,e=a.overlayContent;a=babelHelpers.objectWithoutPropertiesLoose(a,["elRef","overlayContent"]);if(a.msg.type===d("WAWebMsgType").MSG_TYPE.IMAGE)return l.jsx(d("WAWebMessagePicture.react").ImageMessage,{theme:d("WAWebTypesMedia").DisplayTheme.Album,albumMsgs:a.albumMsgs,msg:a.msg,mediaData:a.msg.mediaData,ref:b,isMsgVisible:a.isMsgVisible,zoomMsg:a.zoomMsg,overlayContent:e,displayAuthor:!1,displayType:a.displayType});if(a.msg.type===d("WAWebMsgType").MSG_TYPE.VIDEO)return l.jsx(c("WAWebMediaVideo.react"),{theme:d("WAWebTypesMedia").DisplayTheme.Album,albumMsgs:a.albumMsgs,msg:a.msg,ref:b,zoomMsg:a.zoomMsg,displayAuthor:!1,overlayContent:e,displayType:a.displayType});throw c("err")("Unexpected Album Type: "+a.msg.type)}r.displayName=r.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("WAWebMessageGroupedSticker.react",["fbt","WALogger","WAWebCmd","WAWebComposeBoxActions","WAWebCopyStickerToClipboard","WAWebCopyToClipboard","WAWebDeleteRevokeMsgFlow.react","WAWebDevOnlyBadge.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFavoriteStickerAction","WAWebFindChatAction","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebInMemoryLottieStickerCache","WAWebMediaInMemoryBlobCache","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageStickerBubble.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgReply","WAWebReactIcon","WAWebReactionsPanel.react","WAWebReactionsUtils","WAWebReplyToMsgChatAction","WAWebRequestMediaReuploadBridge","WAWebRevokeMetricUtils","WAWebRound.react","WAWebSendReactionMsgAction","WAWebSendReactionsTray","WAWebSendReactionsTrayContainer","WAWebStateUtils","WAWebStickerUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebVelocityTransitionGroup","WAWebWrapperListeners.react","gkx","react","useWAWebDebouncedCallback","useWAWebMsgValues","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error sending from sticker row ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error ",""]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useImperativeHandle,p=b.useRef,q=b.useState,r={entryPointColor:{color:"x1odib58",$$css:!0}},s={REACTION_BUTTON:75};e=m.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=e.msg;a=e.menuTransition;var g=e.isMsgVisible,i=e.onOpenForwardFlow,j=e.rowIsKeyboardFocused,t=j===void 0?!1:j,u=e.onModalClosed,v=p(null),w=p();j=q(null);var x=j[0],y=j[1];j=q(!1);var z=j[0],A=j[1];j=q(null);var B=j[0],C=j[1];j=q(null);var D=j[0],E=j[1];j=q(!1);var F=j[0];j=j[1];var G=p(null),H=d("useWAWebMsgValues").useMsgValues(f.id,[d("WAWebFrontendMsgGetters").getAsRevoked]);H=H[0];H&&d("WAWebCmd").Cmd.refreshMessages();var I=function(a){G.current&&c("WAWebFocusTracer").focus(G.current,a)},J=c("useWAWebStableCallback")(function(){I({preventScroll:!0})}),K=c("useWAWebDebouncedCallback")(j,s.REACTION_BUTTON);n(function(){K(z||B!=null||t)},[z,B,K,t]);var L=function(a){A(!0)},M=function(){A(!1)};H=function(){K(z||B!=null||t)};var N=function(){if(!v.current)return;return v.current.getContext()},O=function(){d("WAWebCmd").Cmd.msgInfoDrawer(d("WAWebStateUtils").unproxy(f.unsafe()))},P=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe()),b=d("WAWebFrontendMsgGetters").getChat(a);b.composeQuotedMsg=a;d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)},Q=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());c("WAWebReplyToMsgChatAction")(a)},R=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},aa=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},ba=function(){d("WAWebFavoriteStickerAction").addStickerMsgsToFavorites([d("WAWebStateUtils").unproxy(f.unsafe())])},ca=function(){d("WAWebFavoriteStickerAction").removeStickerMsgFromFavorites(d("WAWebStateUtils").unproxy(f.unsafe()))},da=function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebDeleteRevokeMsgFlow.react"),{chat:d("WAWebFrontendMsgGetters").getChat(f),msgList:[d("WAWebStateUtils").unproxy(f.unsafe())],isMsgVisible:g})),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},ea=function(){d("WAWebFindChatAction").findOrCreateLatestChat(f.author,"messageGroupedSticker").then(function(a){d("WAWebCmd").Cmd.openChatFromUnread(a).then(function(b){b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)})})},S=function(){u==null?void 0:u(),C(null),J()},T=function(){u==null?void 0:u(),E(null),J()},fa=c("useWAWebStableCallback")(function(a){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var b=function(b){d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b)["catch"](function(a){d("WALogger").DEV(l(),a)}),T()};E({dirY:d("WAWebDropdown.react").DirY.BOTTOM,dirX:d("WAWebMsgGetters").getIsSentByMe(a)?d("WAWebDropdown.react").DirX.LEFT:d("WAWebDropdown.react").DirX.RIGHT,type:d("WAWebDropdown.react").MenuType.ReactionPicker,menu:m.jsx(d("WAWebReactionsPanel.react").ReactionsPanel,{msgId:a.id.toString(),onSelection:b}),flipOnRTL:!0,anchor:w.current})}),U=function(a){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var b=function(b){b!==d("WAWebSendReactionsTray").MORE_REACTIONS?d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b)["catch"](function(a){d("WALogger").DEV(k(),a)}):self.setTimeout(function(){fa(a)},150),S()};b={dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.ReactionSendTray,menu:m.jsx(d("WAWebSendReactionsTrayContainer").SendReactionsTrayContainer,{msg:f.unsafe(),selectedCallback:b,onMouseEnter:L,onMouseOver:L,onMouseLeave:M}),flipOnRTL:!1,anchor:w.current};C(b)},ga=function(b,e){if(e&&x){y(null);return}e=e?N():b;b=d("WAWebStateUtils").unproxy(f);var a=[];d("WAWebMsgGetters").getIsSentByMe(b)&&!d("WAWebFrontendMsgGetters").getAsRevoked(b)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:O,children:h._("__JHASH__6ZxqC6H3okB__JHASH__")},"info"));d("WAWebMsgReply").canReplyMsg(b.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:P,children:h._("__JHASH__9qwPCOZrFoa__JHASH__")},"reply"));(d("WAWebMsgReply").canPrivateReply(b.unsafe())||d("WAWebMsgReply").canPrivateReplyInRestrictedGrp(b.unsafe()))&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:Q,children:h._("__JHASH__dS67_Denh_O__JHASH__")},"private_reply"));d("WAWebReactionsUtils").canReactToMessage(f.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){U(f.unsafe())},children:h._("__JHASH__AxiUt4Efrtn__JHASH__")},"sendReaction"));d("WAWebMsgActionCapability").canForwardMsg(b.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){i(!0,f.unsafe())},children:h._("__JHASH__jYHCjlR6HcL__JHASH__",[h._plural(1)])},"forward"));d("WAWebMsgActionCapability").canStarMsg(b.unsafe())&&(b.star?a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:aa,children:h._("__JHASH__X3QIRH8IFsq__JHASH__",[h._plural(1)])},"star")):a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:R,children:h._("__JHASH__TWFJFniUvZ8__JHASH__",[h._plural(1)])},"star")));d("WAWebMiscGatingUtils").isFavoriteStickersEnabled()&&(d("WAWebFavoriteStickerAction").isStickerFilehashFavorited(f.filehash)?a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ca,children:h._("__JHASH__10aUrzJv-aW__JHASH__")},"remove-favorite-sticker")):a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ba,children:h._("__JHASH__H-tHYVLT5WO__JHASH__")},"favorite-sticker")));b=f.mediaData;var g=b.stickerPackId;b=b.isFirstParty;g&&b===!0&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.openStickerPack(g)},children:h._("__JHASH__Hd-aIQawmmJ__JHASH__")},"open-sticker-pack"));var j=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.get(f.filehash);if(d("WAWebStickerUtils").getStickerFileType(f.mediaData.mimetype)===d("WAWebStickerUtils").StickerFileType.LOTTIE){var k=d("WAWebInMemoryLottieStickerCache").InMemoryLottieStickerCache.get(f.filehash);k!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyStickerToClipboard").copyLottieStickerToClipboard(k)},children:h._("__JHASH__OLGkra74hh4__JHASH__")},"copy-favorite-sticker"))}else j!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyImageToClipboard(j)},children:h._("__JHASH__OLGkra74hh4__JHASH__")},"copy-favorite-sticker"));a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:da,children:h._("__JHASH__bihMRyAdtz8__JHASH__",[h._plural(1)])},"delete"));d("WAWebMsgGetters").getIsGroupMsg(f)&&!!f.author&&!d("WAWebMsgGetters").getIsSentByMe(f)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ea,children:h._("__JHASH__eKdD9YzdLgN__JHASH__",[h._param("author",f.displayName())])},"author"));c("gkx")("26258")||(a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.id.toString())},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Msg ID"})},"copy-id")),d("WAWebFrontendMsgGetters").getAsMms(f)&&(f.deprecatedMms3Url!=null&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.deprecatedMms3Url||"")},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Mms3 Url"})},"copy-mms3-url")),a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.filehash||"")},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Media filehash"})},"copy-filehash"))),a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){c("WAWebRequestMediaReuploadBridge")(f.unsafe())},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Trigger RMR"})},"trigger-rmr")));y({menu:a,anchor:e,theme:d("WAWebDropdownItem.react").ThemeOptions.COMPACT})};j=function(){u==null?void 0:u(),y(null)};var V=function(a,b){e.scrollMsg(a,b)},W={scrollMsg:V};o(b,function(){return W});var X;(z||x||t)&&(X=m.jsx(c("WAWebMessageMenu.react"),{msg:f.unsafe(),hasAuthor:!1,displayType:e.displayType,position:d("WAWebMessagePosition").MsgPosition.SINGLE,ref:v,onToggle:function(a){ga(a)},isGroupedSticker:!0,role:"button",ariaLabel:h._("__JHASH__YjpyvfIbeIH__JHASH__"),isMenuOpen:Boolean(x),tabIndex:0,contextOwnerIsKeyboardFocused:t},"icon-context"));var Y;e.isFocused&&(Y=m.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:W}));var Z;x&&(Z=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:x})}));var $;B?$=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:B})}):D&&($=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:T,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:D})}));V=m.jsx(c("WAWebMessageStickerBubble.react"),{mediaData:f.mediaData,msg:f,displayAuthor:!1,forwardRef:e.forwardRef,animateOnView:!0,displayType:e.displayType,onDetailsPaneClosed:u,isGroupedSticker:!0},"sticker-bubble");var ha=function(){B?S():U(f.unsafe())};b=[V];if(d("WAWebReactionsUtils").canReactToMessage(f.unsafe())){j=null;F&&(j=m.jsx(c("WAWebFlexItem.react"),{children:m.jsx(d("WAWebRound.react").Round,{testid:void 0,label:h._("__JHASH__Nd9Nqs7s_UX__JHASH__"),theme:d("WAWebRound.react").RoundTheme.QuickAction,onClick:function(){return ha(f.unsafe())},small:!0,children:m.jsx(d("WAWebReactIcon").ReactIcon,{xstyle:r.entryPointColor,width:15})})}));D=m.jsx("div",{ref:w,className:"x1n2onr6 xzi7r1p xezl2tj",children:j},"reaction-entry-point");d("WAWebMsgGetters").getIsSentByMe(f)?b.unshift(D):b.push(D)}return m.jsxs("div",{className:"x78zum5",onMouseEnter:L,onFocus:H,onBlur:H,ref:G,onMouseLeave:M,children:[m.jsx(d("WAWebFlex.react").FlexRow,{children:b}),m.jsx("div",{className:"x1n2onr6 x1sln4lm",children:m.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:a,children:X})}),Z,$,Y]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebMessageGroupedStickerCheckbox.react",["WAWebCheckBox.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var c=a.checked;a=a.onClick;return i.jsx("div",{ref:b,className:"x10l6tqk x1rozsjd xh8yej3 x5yr21d x1ypdohk",onClick:a,children:i.jsx("div",{className:"x10l6tqk xxk6nc9 x1f1mv5i",onClick:function(a){return a.stopPropagation()},children:i.jsx(d("WAWebCheckBox.react").CheckBox,{onChange:a,checked:c})})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebReactionsListeners.react",["useWAWebReactions"],(function(a,b,c,d,e,f,g){function a(a){var b=a.msgIds;a=a.onReactionChange;c("useWAWebReactions")(b,a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageAlbumWrapper.react",["fbt","invariant","WALogger","WANullthrows","WAWebABProps","WAWebAddOnBubblesContainer.react","WAWebCheckBox.react","WAWebClassnames","WAWebClientFeatureFlags","WAWebCmd","WAWebConfirmPopup.react","WAWebDeleteRevokeMsgFlow.react","WAWebDisplayType","WAWebDomScroll","WAWebDropdownItem.react","WAWebFbtCommon","WAWebFileSaver","WAWebFocusIndicator","WAWebFocusTracer","WAWebForwardChatIcon","WAWebForwardMessageModalLoadable","WAWebForwardedNewsletterMessageInfoActionButton.react","WAWebFrontendMsgGetters","WAWebGroupChatProfilePicture.react","WAWebKeyboardListHotKeys.react","WAWebKeyboardRotateFocusArrows.react","WAWebMedia","WAWebMediaAlbumGrid.react","WAWebMediaAlbumPosition","WAWebMessageAuthor.react","WAWebMessageCheckbox.react","WAWebMessageForwardedIndicator.react","WAWebMessageGroupedSticker.react","WAWebMessageGroupedStickerCheckbox.react","WAWebMessageListAlbums","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageUiUtils","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgSelectors","WAWebMsgSendFailIcon.react","WAWebReactionsListeners.react","WAWebReactionsUtils","WAWebRevokeMetricUtils","WAWebRound.react","WAWebStateUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUseIsKeyboardUser","WAWebVelocityTransitionGroup","WAWebWrapper.scss","WAWebWrapperGetTailIcon","WAWebWrapperListeners.react","WAWebWrapperMessageActionButtonsRow","react"],(function(a,b,c,d,e,f,g,h,aa){var i,j;function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["Only ","/"," were valid album messages"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"]);da=function(){return a};return a}b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,ea=b.useEffect,fa=b.useImperativeHandle,m=b.useRef,n=b.useState,ga={svgColor:{color:"x10b7xu",$$css:!0}},ha=[d("WAWebMediaAlbumPosition").AlbumPosition.TOP_LEFT,d("WAWebMediaAlbumPosition").AlbumPosition.TOP_RIGHT,d("WAWebMediaAlbumPosition").AlbumPosition.BOTTOM_LEFT,d("WAWebMediaAlbumPosition").AlbumPosition.BOTTOM_RIGHT],o=4;e=k.forwardRef(a);function a(a,b){var e,f,g=babelHelpers["extends"]({},a),i=g.msgs;a=g.position;var j=g.isMsgVisible,p=g.selectable,q=g.selectedMessages,r=g.onMessageSelect,s=g.albumId,t=g.isFocusedAlbum,u=g.focusedMsgIndex,v=g.isFocusable,w=g.displayType,x=n(),y=x[0],z=x[1];x=n(!1);var A=x[0],B=x[1];x=n(i.filter(function(a){return q.isSelected(d("WAWebStateUtils").unproxy(a.unsafe()))}).length);var C=x[0],ia=x[1];x=n();var ja=x[0],ka=x[1];x=c("WAWebUseIsKeyboardUser")();var D=x.isKeyboardUser,E=m(new Set()),la=m(!0),F=m(),G=m({}),H=m(),ma=m(),na=m(null),oa=m(),pa=m(),qa=m(null),ra=m(null),I=l(function(a){ka(a)},[]);ea(function(){d("WAWebClientFeatureFlags").isFeatureEnabled("media_existence_check")&&i.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean).forEach(function(a){E.current.has(a.id.toString())||(void d("WAWebMedia").checkMediaExistence(a),E.current=new Set(E.current).add(a.id.toString()))}),d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&!la.current&&d("WAWebMessageUiUtils").getAlbumRowAriaLabel(i).then(I)["catch"](function(){d("WALogger").DEV(da())}),la.current=!1},[I,i]);x=l(function(a){!a.buttons&&!A&&B(!0)},[A]);var sa=l(function(){A&&B(!1)},[A]),ta=l(function(a){a.stopPropagation()},[]),J=l(function(a){F.current&&c("WAWebFocusTracer").focus(F.current,a)},[F]),K=l(function(a){var b=a.selectedMsg,c=a.event;d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession();c&&c.stopPropagation();if(b){r(d("WAWebStateUtils").unproxy(b.unsafe()),!q.isSelected(d("WAWebStateUtils").unproxy(b)),c);return}var e=C===0;i.forEach(function(a){r(d("WAWebStateUtils").unproxy(a.unsafe()),e,c)})},[i,C,q,r]),L=l(function(a,b){for(var e=0;e<i.length;e++)if(d("WAWebFrontendMsgGetters").getIsUnsentMedia(i[e])){var f=h._("__JHASH__eMwcRvhni12__JHASH__",[h._plural(1)]);d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__3jedy_AkFol__JHASH__"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:f}));return}a?K({selectedMsg:b}):d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebForwardMessageModalLoadable").ForwardMessageModalLoadable,{msgs:i.map(function(a){return a.unsafe()}),onClose:function(){return d("WAWebModalManager").ModalManager.close()}}),{transition:"modal-flow"})},[K,i]),ua=l(function(){d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),i.map(function(a){return a.unsafe()}))},[i]),va=l(function(){d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),i.map(function(a){return a.unsafe()}))},[i]),wa=l(function(){d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&J({preventScroll:!0})},[J]),M=l(function(){wa()},[wa]),xa=l(function(){var a=0;i.forEach(function(b){q.isSelected(d("WAWebStateUtils").unproxy(b.unsafe()))&&a++});return a},[i,q]),N=l(function(){var a=i[0],b=i[1];return d("WAWebFrontendMsgGetters").getAsGroupedSticker(a.unsafe())!=null&&d("WAWebFrontendMsgGetters").getAsGroupedSticker(b.unsafe())!=null},[i]),ya=l(function(a){var b;N()?b=xa():b=a?i.length:0;C!==b&&ia(b)},[xa,N,i.length,C]),za=l(function(){d("WAWebFileSaver").FileSaver.initDownload(i.map(function(a){return a.unsafe()}))},[i]),Aa=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebDeleteRevokeMsgFlow.react"),{chat:d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),msgList:i.map(function(a){return a.unsafe()}),isMsgVisible:j})),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},[i,j]),Ba=l(function(){if(!H.current)return;return H.current.getContext()},[H]),Ca=l(function(a,b){if(b&&y){z(null);return}b=b?Ba():a;a=[];var c=i.every(function(a){return d("WAWebMsgActionCapability").canDownloadMsg(a.unsafe())});c&&a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:za,children:h._("__JHASH__4H4cb6R4DXe__JHASH__")},"download"));c=i.every(function(a){return d("WAWebMsgActionCapability").canForwardMsg(a.unsafe())});c&&a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){L(!0)},children:h._("__JHASH__q9fMh-WcO3H__JHASH__")},"forward"));c=i.every(function(a){return d("WAWebMsgActionCapability").canStarMsg(a.unsafe())});if(c){c=i.every(function(a){return a.star});c?a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){va()},children:h._("__JHASH__TnSW5en7OI-__JHASH__")},"star")):a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){ua()},children:h._("__JHASH__4at6h4PHw6h__JHASH__")},"star"))}a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:Aa,children:h._("__JHASH__E7QholNynqe__JHASH__")},"delete"));z({menu:a,anchor:b,theme:d("WAWebDropdownItem.react").ThemeOptions.COMPACT})},[y,Ba,i,Aa,za,L,va,ua]),Da=l(function(){M(),D&&B(!1),z(null)},[M,D]),O=l(function(){var a;a=(a=(a=F.current)==null?void 0:a.contains(document.activeElement))!=null?a:!1;return D&&a},[D,F]),Ea=l(function(a,b){a?G.current[b.id.toString()]=a:delete G.current[b.id.toString()]},[G]),P=l(function(a,b){var c=F.current;if(!c)return;var e=c.offsetParent;if(!e)return;e instanceof HTMLElement||aa(0,56542);void d("WAWebDomScroll").scrollAt(c,e,b).then(a)},[F]),Q=l(function(){var a=na.current,b;N()?u===0?b=oa:u===1&&(b=pa):b=ma;if(!b)return;c("WAWebFocusIndicator").indicateFocus(b.current,c("WAWebWrapper.scss").highlightAnimation);c("WAWebFocusIndicator").indicateFocus(a,c("WAWebWrapper.scss").highlightAnimation);v&&J({preventScroll:!0})},[N,v,u,J]),Fa=l(function(){var a=i.map(function(a){return a.id.toString()});d("WAWebReactionsUtils").lastMessageReactionChange(a);d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&d("WAWebMessageUiUtils").getAlbumRowAriaLabel(i).then(I)["catch"](function(){d("WALogger").DEV(ca())})},[i,I]);fa(b,function(){return{getContainerElement:function(){return F.current},props:g,refAlbumComponents:G.current,isGroupedSticker:N}});var R=i[0],Ga=i[1];b=d("WAWebMsgGetters").getIsSentByMe(R);var S=d("WAWebMsgGetters").getIsGroupMsg(R);O=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&O();var Ha=i.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?i.length-d("WAWebMessageListAlbums").ALBUM_MIN_SIZE+1:null,T=d("WAWebDisplayType").isWideDisplay(w),U=N(),V=!T&&(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.SINGLE||U);e=S&&!b&&!!V&&w===d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION&&!p&&((e=R.senderObj)==null?void 0:e.id)!=null;e=e?k.jsx(d("WAWebGroupChatProfilePicture.react").GroupChatProfilePicture,{userContact:R.senderObj,chatWid:d("WAWebFrontendMsgGetters").getChat(R.unsafe()).id}):null;var W=U&&V&&(b||!S);f=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").msgContinuation]=(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.MID)&&!T,f["message-out"]=b,f["message-in"]=!b,f[d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME]=v,f[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=w!==d("WAWebDisplayType").DISPLAY_TYPE.ANNOUNCEMENT,f[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=!d("WAWebFrontendMsgGetters").getChat(R.unsafe()).isGroup,f[c("WAWebWrapper.scss").row]=!0,f[c("WAWebWrapper.scss").msgBottomMargin]=!0,f[c("WAWebWrapper.scss").msg]=!0,f[c("WAWebWrapper.scss").animateMsg]=d("WAWebABProps").getABPropConfigValue("web_animate_messages"),f[c("WAWebWrapper.scss").msgAnnouncement]=T,f));S=(!b||T)&&S;var Ia;if(S){var X,Y;Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[(Y=c("WAWebWrapper.scss")).groupStickerAuthor]=U,X[Y.groupStickerAuthorAnnouncement]=T,X[Y.author]=!0,X[Y.groupStickerAuthorOutgoing]=b,X));Ia=k.jsx("div",{className:Y,children:k.jsx(c("WAWebMessageAuthor.react"),{msg:i[0],contact:i[0].senderObj,albumId:s,displayType:w})})}Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[c("WAWebWrapper.scss").messageTransparent]=U,X[c("WAWebWrapper.scss").hasTail]=V,X[c("WAWebWrapper.scss").tailOverrideHide]=W,X[c("WAWebWrapper.scss").hasAuthor]=!U&&S,X[c("WAWebWrapper.scss").forwarded]=!U&&d("WAWebMsgSelectors").showForwarded(i[0]),X[c("WAWebWrapper.scss").message]=!0,X));X=d("WAWebClassnames").classnamesConvertMeToStylexPlease((W={},W[c("WAWebWrapper.scss").messageBackground]=!U,W[c("WAWebWrapper.scss").hasBorderBox]=!U,W[c("WAWebWrapper.scss").albumBubbleContainer]=!0,W[c("WAWebWrapper.scss").albumAnnouncementBubbleContainer]=T,W));var Ja;if(V){W=d("WAWebWrapperGetTailIcon").getTailIcon(b);Ja=k.jsx(W,{className_DONOTUSE:c("WAWebWrapper.scss").tail,containerRef:na,"aria-hidden":!0})}V=[];if(d("WAWebMsgActionCapability").canQuickForwardMsg(R.unsafe())){W=k.jsx(d("WAWebRound.react").Round,{label:h._("__JHASH___1iXL2x6FDv__JHASH__"),theme:d("WAWebRound.react").RoundTheme.QuickAction,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((W={},W[c("WAWebWrapper.scss").authorForward]=S,W[c("WAWebWrapper.scss").quickActionButton]=!0,W)),onClick:function(){L(!1)},children:k.jsx(d("WAWebForwardChatIcon").ForwardChatIcon,{xstyle:ga.svgColor})});V.push(W)}var Z=i.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean);W=Z.some(function(a){return a.hasReaction===!0});var Ka;(A||y||O)&&(Ka=k.jsx(c("WAWebMessageMenu.react"),{msg:R.unsafe(),hasAuthor:S,position:a,ref:H,onToggle:function(a){Ca(a)},role:"button",ariaLabel:h._("__JHASH__YjpyvfIbeIH__JHASH__"),tabIndex:0,displayType:w,isMenuOpen:Boolean(y)},"icon-context"));y?S="none":d("WAWebFrontendMsgGetters").getIsRTL(R)?S="pop-fast-reverse":S="pop-fast";var La;y&&(La=k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Da,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:y})}));a=p?k.jsx(c("WAWebMessageCheckbox.react"),{checked:C>0,theme:C>0&&C<i.length?d("WAWebCheckBox.react").CheckboxTheme.PARTIAL:void 0,onClick:function(a){K({event:a})}}):null;var Ma;t&&(Ma=k.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:{scrollMsg:P,highlight:Q}}));if(U){var $;Da=i.map(function(a){return k.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:ya},msgId:a.id.toString(),selectedMessages:q},a.id.toString())});U=p?k.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:q.isSelected(d("WAWebStateUtils").unproxy(R.unsafe())),onClick:function(a){K({selectedMsg:R.unsafe()})}}):null;p=p?k.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:q.isSelected(d("WAWebStateUtils").unproxy(Ga.unsafe())),onClick:function(a){K({selectedMsg:Ga.unsafe()})}}):null;var Na=i.some(function(a){return d("WAWebReactionsUtils").canReactToMessage(a.unsafe())})?k.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:i,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;$=d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebWrapper.scss").groupStickerContainer]=!0,$[c("WAWebWrapper.scss").groupStickerAnnouncementContainer]=T,$));$=k.jsxs("div",{className:f,"data-id":s,ref:F,tabIndex:-1,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),k.jsxs("div",{className:Y,role:"group",onContextMenu:ta,children:[Ja,e,Ia,k.jsxs("div",{className:$,children:[k.jsxs("div",{onMouseEnter:function(){var a;return(a=qa.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:oa,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:U}),k.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(R.unsafe())),menuTransition:S,onOpenForwardFlow:L,isMsgVisible:j,scrollMsg:P,highlight:Q,isFocused:t&&u===0,forwardRef:qa,displayType:w,rowIsKeyboardFocused:O,onModalClosed:M})]}),k.jsxs("div",{onMouseEnter:function(){var a;return(a=ra.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:pa,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:p}),k.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(Ga.unsafe())),menuTransition:S,onOpenForwardFlow:L,isMsgVisible:j,scrollMsg:P,highlight:Q,isFocused:t&&u===1,forwardRef:ra,displayType:w,rowIsKeyboardFocused:O,onModalClosed:M})]}),k.jsx(c("WAWebReactionsListeners.react"),{msgIds:i.map(function(a){return a.id.toString()}),onReactionChange:Fa})]}),Na]}),Da]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?k.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:$}):$}Z.length!==i.length&&d("WALogger").ERROR(ba(),Z.length,i.length).sendLogs("invalid-album-grid");U=null;if(Z.length>0){p=Z.map(function(a){return a.id.toString()});U=k.jsx(c("WAWebAddOnBubblesContainer.react"),{isOutgoingMsg:b,displayType:w,hasReaction:W,onDetailsPaneClosed:M,parentIds:p})}P=Z.length>0?k.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:Z,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;var Oa=Z.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?Z[0]:null;Q=d("WAWebMsgSelectors").showForwarded(i[0])?k.jsx(c("WAWebMessageForwardedIndicator.react"),{msg:i[0].unsafe(),className:c("WAWebWrapper.scss").forwardedIndicator}):null;O=k.jsxs("div",{className:f,"data-id":s,"data-testid":void 0,ref:F,"aria-label":ja,tabIndex:-1,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),k.jsxs("div",{className:Y,role:"group",onContextMenu:ta,onMouseOver:x,onFocus:x,onMouseDown:sa,onMouseUp:x,onMouseLeave:sa,children:[Ja,e,k.jsxs("div",{className:X,ref:ma,children:[Ia,Q,k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((t={},t[c("WAWebWrapper.scss").gridContainer]=!0,t[c("WAWebWrapper.scss").gridAnnouncementContainer]=T,t)),children:i.slice(0,o).map(function(a,b){var e=b===o-1?{numAdditionalMedia:Ha,zoomMsg:Oa}:null;return k.jsx(c("WAWebMediaAlbumGrid.react"),babelHelpers["extends"]({msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())),albumMsgs:Z,albumPosition:ha[b%o],isMsgVisible:j,displayType:w,ref:function(b){Ea(b,a)}},e),a.id.toString())})}),k.jsx(d("WAWebForwardedNewsletterMessageInfoActionButton.react").ForwardedNewsletterMessageInfoActionButton,{msg:i[0].unsafe(),isAlbum:!0})]}),k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:S,children:Ka}),P,k.jsx(d("WAWebWrapperMessageActionButtonsRow").MessageActionButtonsRow,{isOutgoingMsg:b,isMsgGallery:!1,hasReaction:W,messageActionButtons:V})]}),U,d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()?k.jsx(c("WAWebReactionsListeners.react"),{msgIds:i.map(function(a){return a.id.toString()}),onReactionChange:Fa}):null,La,Ma,k.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:ya},msgId:i[0].id.toString(),selectedMessages:q})]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?k.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:O}):O}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebMessageListBotCarousel",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WAWebABProps").getABPropConfigValue("bonsai_carousel_enabled")===!0&&b.botResponseTargetId===a.botResponseTargetId}g.canBeGroupedAsBotCarousel=a}),98);
__d("WAWebMessageListGenerateMsgListRows",["WAWebFrontendMsgGetters","WAWebMessageListAlbums","WAWebMessageListBotCarousel","WAWebMessageListDayOfMsg"],(function(a,b,c,d,e,f,g){var h=10;function a(a,b,e,f,g,k){var l=a.msg,m=a.date,n=a.unread,o=a.album;a=a.botPluginCarousel;var p=[],q=0,r;for(q=0;!r&&q<b.length;q++)r=b[q];q--;var s=!1,t=!1,u=r?c("WAWebMessageListDayOfMsg")(r):0,v=0,w=q;while(r){var x=r;t||p.push(m(x,v++));x===f&&n&&p.push(n(g));var y=void 0,z=q+1;for(;!y&&z<b.length;z++)y=b[z];z=void 0;var A=void 0,B=void 0,C=[],D=[],E=!1,F=!1,G=void 0,H=!1,I=null,J=d("WAWebFrontendMsgGetters").getAsGroupedSticker(x.unsafe());if(J&&!i(x,k)){C.push(J);H=x===e;I=0;w=q+1;J=b[w];var K=J!=null?d("WAWebFrontendMsgGetters").getAsGroupedSticker(J.unsafe()):null;K&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(x,J)&&J!==f&&!i(J,k)&&(C.push(K),y=b[w+1],F=!0,G=!0,J===e&&(H=!0,I=1))}K=d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(x.unsafe());if(K){D.push(K);J=r;K=void 0;w=q;for(;w<b.length-1&&D.length<h;w++){J=b[w];K=b[w+1];var L=K!=null?d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(K.unsafe()):null;if(L&&d("WAWebMessageListBotCarousel").canBeGroupedAsBotCarousel(J,K))D.push(K);else break}D.length>=1&&(E=!0,y=b[w+1])}if(E){p.push(a(D,(L=D[0].id)==null?void 0:L.id));q=w+1;r=b[q];s=!1;continue}J=d("WAWebFrontendMsgGetters").getAsAlbumAsset(x.unsafe());if(J&&!i(x,k)){C.push(J);K=r;E=void 0;H=r===e;w=q;for(;w<b.length-1&&C.length<d("WAWebMessageListAlbums").ALBUM_MAX_SIZE;w++){K=b[w];E=b[w+1];D=E!=null?d("WAWebFrontendMsgGetters").getAsAlbumAsset(E.unsafe()):null;if(D&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(K,E)&&E!==f&&!i(E,k))C.push(D),E===e&&(H=!0);else break}C.length>=d("WAWebMessageListAlbums").ALBUM_MIN_SIZE&&(F=!0,G=!1,y=b[w+1])}if(y){L=y;B=c("WAWebMessageListDayOfMsg")(y);A=B===u;z=A&&d("WAWebMessageListAlbums").canBeGroupedWithNext(x,L)&&y!==f}else z=!1,A=!1,B=0;if(F){G===!0?J=C.reduce(function(a,b){return a+"-"+b.id.toString()},"grouped-sticker-"):J=j(C);p.push(o(C,J,s,z,H,I));q=w+1;r=b[q];s=z;t=A;u=B;continue}p.push(l(x,x===e,s,z));q++;s=z;t=A;u=B;r=y}return p}function i(a,b){return b==null?!0:a.t>b.t}function j(a){var b=a.length,c=a[0]?a[0].id.toString():"";a=a[b-1]?a[b-1].id.toString():"";return"album-"+c+"-"+a+"-"+b}g["default"]=a}),98);
__d("WAWebMessageUnread.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={msgUnread:"_agtb",msgUnreadBody:"_agtk"};b=a;g["default"]=b}),98);
__d("WAWebMessageUnread.react",["fbt","WAWebClassnames","WAWebKeyboardListHotKeys.react","WAWebMessageUnread.scss","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.count;a=a.textContainerRef;b=h._("__JHASH__OY_D1wJkxBD__JHASH__",[h._plural(b,"count")]);return j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebMessageUnread.scss").msgUnread,d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME),ref:a,tabIndex:-1,children:j.jsx("span",{className:c("WAWebMessageUnread.scss").msgUnreadBody,"aria-live":"polite",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.MessageUnread=a}),226);
__d("WAWebMessageList.react",["fbt","WAArraysShallowEqual","WALogger","WANullthrows","WAWebBotPluginCarouselWrapper.react","WAWebCmd","WAWebGetDisplayType","WAWebKeyboardListHotKeys.react","WAWebL10N","WAWebListenerHoc_DEPRECATED","WAWebMessageAlbumWrapper.react","WAWebMessageDateMarker.react","WAWebMessageListGenerateMsgListRows","WAWebMessagePosition","WAWebMessageUnread.react","WAWebMiscGatingUtils","WAWebMsgCollection","WAWebMsgType","WAWebTabOrder","WAWebWrapper.react","asyncToGeneratorRuntime","react","shallowEqual","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["getMsgVisibility on invalid ref: ",""]);l=function(){return a};return a}a=k||d("react");var m=i||(i=c("react"));e=a.Component;var n=a.createRef,o={messageList:{flex:"x3psx0u",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",transition:"xrmvbpv",$$css:!0},messageListSelectable:{paddingStart:"xo0ujly",paddingLeft:null,paddingRight:null,transition:"xdi6fk3",$$css:!0}};f=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this,e)||this;f.$1={};f.$2={};f.$3={};f.$4={};f.$5={};f.$7=n();f.$8=function(){return f.$7.current};f.$10=function(){f.forceUpdate()};f.$11=function(a){var b=f.$5[a.id.toString()];if(!b)return;var c=b.isGroupedSticker();if(c)return;c=b.props.msgs;c=new Set((c||[]).map(function(a){return a.id.toString()}));var e=function(){var c=b.refAlbumComponents[a.id.toString()];return c==null?void 0:c.getContainerElement()};f.$5[a.id.toString()]&&d("WAWebCmd").Cmd.mediaViewerModal({msg:a,getZoomNode:e,highlightedMsgIds:c})};f.$9=function(a){var b=a.newKey;a=a.oldKey;b=b.toString();a=a.toString();var c=f.$1[a];c&&(delete f.$1[a],f.$1[b]=c)};f.$12=function(a,b){a?f.$1[b]=a:delete f.$1[b]};f.$16={msg:function(a){function b(b,c,d,e){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,b,c,e){var g=f.props,h;e&&!c?h=d("WAWebMessagePosition").MsgPosition.FRONT:e&&c?h=d("WAWebMessagePosition").MsgPosition.MID:!e&&c?h=d("WAWebMessagePosition").MsgPosition.END:h=d("WAWebMessagePosition").MsgPosition.SINGLE;e=a.type===d("WAWebMsgType").MSG_TYPE.IMAGE||a.type===d("WAWebMsgType").MSG_TYPE.VIDEO||a.type===d("WAWebMsgType").MSG_TYPE.AUDIO||a.carouselCards!=null;return m.jsx(d("WAWebWrapper.react").Wrapper,{ref:function(b){f.$12(b,a.id.toString())},msg:a.unsafe(),displayType:(c=g.displayType)!=null?c:d("WAWebGetDisplayType").getDisplayType(a.unsafe()),isMsgVisible:e||a.selectedCarouselCardIndex!=null?g.isMsgVisible:function(){},selectable:g.selectable,selectedMessages:g.selectedMessages,onMessageSelect:g.onMessageSelect,position:h,isFocusedMsg:b,getSequentialMsg:f.props.getSequentialMsg,isFocusable:!0},"msg-"+a.id.toString())}),album:function(a,b,e,g,h,i){var j=f.props,k;g&&!e?k=d("WAWebMessagePosition").MsgPosition.FRONT:g&&e?k=d("WAWebMessagePosition").MsgPosition.MID:!g&&e?k=d("WAWebMessagePosition").MsgPosition.END:k=d("WAWebMessagePosition").MsgPosition.SINGLE;g=a[0];return m.jsx(c("WAWebMessageAlbumWrapper.react"),{msgs:a,ref:function(c){f.$14(c,b,a)},position:k,isMsgVisible:j.isMsgVisible,selectable:j.selectable,selectedMessages:j.selectedMessages,onMessageSelect:j.onMessageSelect,albumId:b,isFocusedAlbum:h,focusedMsgIndex:i,displayType:d("WAWebGetDisplayType").getDisplayType(g==null?void 0:g.unsafe()),isFocusable:!0},"album-"+b)},date:function(a,b){var d=f.props.isLoadingEarlierMsgs;d=!d||b!==0;return m.jsx(c("WAWebMessageDateMarker.react"),{ref:function(a){return void f.$13(b,a)},timestamp:a.t,isFocusable:d},"msg-"+a.id.toString()+"-date")},unread:function(){return m.jsx(d("WAWebMessageUnread.react").MessageUnread,{count:f.props.unreadCount,textContainerRef:f.$7},"msg-unread")},botPluginCarousel:function(a,b){return m.jsx(c("WAWebBotPluginCarouselWrapper.react"),{msgs:a,ref:function(b){return f.$15(b,a)},botPluginCarouselId:b},"botCarousel-"+b)}};f.$17=function(a){if(a.target instanceof HTMLElement){a=(a=a.target.dataset)==null?void 0:a.id;a=f.$1[a]||f.$3[a];a==null?void 0:a.openContextMenu==null?void 0:a.openContextMenu()}};f.$18=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebCmd").Cmd.openChatBottom(f.props.chat)});e=e.msgs;f.$6=e.length>0?e[e.length-1]:null;return f}var f=e.prototype;f.shouldComponentUpdate=function(a){var b=a.msgs;a=babelHelpers.objectWithoutPropertiesLoose(a,["msgs"]);var d=this.props,e=d.msgs;d=babelHelpers.objectWithoutPropertiesLoose(d,["msgs"]);return!c("shallowEqual")(a,d)||!c("WAArraysShallowEqual")(b,e)};f.getSnapshotBeforeUpdate=function(a){var b=this,d;a=this.props.getScrollContainer();var e=this.props.msgs.find(function(a){return Object.prototype.hasOwnProperty.call(b.$1,a.id)});if(e==null)return null;e=e.id.toString();d=c("WANullthrows")((d=this.getMsgWrapperRef(e))==null?void 0:d.getContainerElement());return{commonMessageId:e,commonMessageTop:d.offsetTop-a.scrollTop}};f.componentDidMount=function(){this.props.listeners.add(d("WAWebMsgCollection").MsgCollection,"change:msgKey",this.$9),this.props.listeners.add(d("WAWebCmd").Cmd,"refresh_messages",this.$10),this.props.listeners.add(d("WAWebCmd").Cmd,"open_media_viewer_for_album_media",this.$11)};f.componentDidUpdate=function(a,b,d){a=this.props.getScrollContainer();if(d!=null){b=d.commonMessageId;d=d.commonMessageTop;b=c("WANullthrows")((b=this.getMsgWrapperRef(b))==null?void 0:b.getContainerElement());a.scrollTop=b.offsetTop-d}};f.getMsgVisibility=function(a){var b=this.props.getScrollContainer(),c=b.scrollTop;b=c+b.clientHeight;var e=a==null?void 0:a.getContainerElement();if(!e){d("WALogger").WARN(l(),a);return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:0}}if(e.offsetTop+e.clientHeight<=c)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.ABOVE,offset:e.offsetTop-c};else if(e.offsetTop>=b)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.BELOW,offset:e.offsetTop-c};return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:e.offsetTop-c}};f.getMsgWrapperRef=function(a){return this.$1[a]||this.$5[a]||this.$4[a]};f.getMsgComponentRef=function(a){if(this.$1[a])return this.$1[a].getMsgComponentRef();else if(this.$5[a])return this.$5[a].refAlbumComponents[a]&&this.$5[a].refAlbumComponents[a].getRef()};f.getDateMarkerRef=function(a){return this.$2[a]};f.$13=function(a,b){b?this.$2[a]=b:delete this.$2[a]};f.getRenderedDateMarkers=function(){return this.$2};f.$14=function(a,b,c){var d=this;a?(this.$3[b]=a,c.forEach(function(b){d.$5[b.id.toString()]=a})):delete this.$3[b]};f.$15=function(a,b){var c=this;a&&b.forEach(function(b){c.$4[b.id.toString()]=a})};f.render=function(){var a=this.props,b=a.msgs,e=a.focusedMsgCtx;a=a.unreadCount;var f,g;e&&(f=e.msg,e.isUnreadDivider&&(a>0&&(g=e.msg)));e=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:(e={},e[""+c("WAWebL10N").LR("right","left")]=this.$17,e);var i=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:c("WAWebL10N").LR(h._("__JHASH__fNz5NCzT4Nm__JHASH__"),h._("__JHASH__8fQBKGdV_ws__JHASH__"));return m.jsx(d("WAWebKeyboardListHotKeys.react").ListHotKeys,{dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST,className:(j||(j=c("stylex")))(o.messageList,this.props.selectable&&o.messageListSelectable),getPriorityFocusItem:this.$8,onBeforeEnd:this.$18,handlers:e,role:"application",removeTabIndexFocusInside:d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled(),"aria-label":i,children:c("WAWebMessageListGenerateMsgListRows")(this.$16,b,(e=f)==null?void 0:e.safe(),(i=g)==null?void 0:i.safe(),a,this.$6)})};return e}(e);a=d("WAWebListenerHoc_DEPRECATED").ListenerHOC(f);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getDateMarkerRef=function(a){return this.getComponent().getDateMarkerRef(a)};c.getMsgComponentRef=function(a){return this.getComponent().getMsgComponentRef(a)};c.getMsgWrapperRef=function(a){return this.getComponent().getMsgWrapperRef(a)};c.getMsgVisibility=function(a){return this.getComponent().getMsgVisibility(a)};c.getRenderedDateMarkers=function(){return this.getComponent().getRenderedDateMarkers()};return b}(a);g["default"]=e}),226);
__d("WAWebMessageStickyDateMarker.react",["WAWebEmojiText.react","WAWebVelocityTransitionGroup","WAWebWrapperSystemBubble.react","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useState;e=j.forwardRef(a);function a(a,b){var e;a=l(void 0);var f=a[0],g=a[1];a=l(!0);var h=a[0],i=a[1],m=function(a){g(a)},n=function(a){i(a)};k(b,function(){return{updateDateMarkerText:m,setVisibility:n}});f&&h&&(e=j.jsx("div",{className:"x10l6tqk x8k05lb x9f619 x78zum5 xl56j7k xh8yej3 x12mz7nx xsyo7zv x47corl",children:j.jsx(c("WAWebWrapperSystemBubble.react"),{theme:"sticky",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:f})})}));return j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"slide-down-date",children:e})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesQuery",["WASmaxNewslettersSubscribeToLiveUpdatesRPC","WAWebBackendErrors","WAWebNewsletterRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebNewsletterRpcUtils").runWithBackoff(function(){return h(a)})}function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxNewslettersSubscribeToLiveUpdatesRPC").sendSubscribeToLiveUpdatesRPC({iqTo:a}));switch(a.name){case"SubscribeToLiveUpdatesResponseSuccess":return{duration:a.value.liveUpdatesDuration*1e3};case"SubscribeToLiveUpdatesResponseServerError":var b=a.value.errorIQErrorInternalServerErrorMixin,c=b.code;b=b.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(c,b);case"SubscribeToLiveUpdatesResponseClientError":c=a.value.subscribeToLiveUpdatesClientErrors;switch(c.name){case"ItemNotFoundIQErrorResponse":b=c.value.errorIQErrorItemNotFoundMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"RateLimitedIQErrorResponse":b=c.value.errorIQErrorRateOverlimitMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"BadRequestIQErrorResponse":b=c.value.errorIQErrorBadRequestMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"SuspendedIQErrorResponse":b=c.value.errorIQErrorLockedMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"UnavailableForLegalReasonsResponse":b=c.value.errorIQErrorUnavailableForLegalReasonsGenericMixin;a=b.text;c=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(c,a)}}});return i.apply(this,arguments)}g.subscribeToLiveUpdatesQuery=a}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesJob",["WAJobOrchestratorTypes","WAWebNewsletterSubscribeToLiveUpdatesQuery","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("subscribeToLiveUpdates",function(){return d("WAWebNewsletterSubscribeToLiveUpdatesQuery").subscribeToLiveUpdatesQuery(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.subscribeToLiveUpdatesJob=a}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesAction",["WAJids","WALogger","WAWebNewsletterBridgeApi","WAWebNewsletterMetadataJob","WAWebNewsletterSubscribeToLiveUpdatesJob","WAWebNewsletterValidationUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[subscribeToLiveUpdatesJob] Failed to subscribe to live updates"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][subscribeToLiveUpdatesJob] Failed to geosuspend channel "," on receiving 451 error - ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][subscribeToLiveUpdatesJob] Failed to suspend channel "," on receiving 423 error - ",""]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{return yield d("WAWebNewsletterSubscribeToLiveUpdatesJob").subscribeToLiveUpdatesJob(d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a.toJid()))}catch(b){if((b==null?void 0:b.status)===423)try{yield d("WAWebNewsletterMetadataJob").suspendNewsletter(d("WAJids").toNewsletterJid(a.toJid())),void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.suspendNewsletter({id:a})}catch(b){d("WALogger").ERROR(j(),a.toString(),b.name).devConsole(b).tags("newsletter").sendLogs("newsletter-subscribe-to-live-updates-suspend-error");return}else if((b==null?void 0:b.status)===451)try{yield d("WAWebNewsletterMetadataJob").geosuspendNewsletter(d("WAJids").toNewsletterJid(a.toJid())),void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.geosuspendNewsletter({id:a})}catch(b){d("WALogger").ERROR(i(),a.toString(),b.name).devConsole(b).tags("newsletter").sendLogs("newsletter-subscribe-to-live-updates-geosuspend-error");return}d("WALogger").ERROR(h()).devConsole(b)}});return k.apply(this,arguments)}g.subscribeToLiveUpdates=a}),98);
__d("WAWebNewsletterLiveUpdatesManager",["WALogger","WAWebNewsletterSubscribeToLiveUpdatesAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[LiveUpdatesManager] Failed to subscribe to live updates"]);h=function(){return a};return a}a=function(){function a(){}var c=a.prototype;c.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebNewsletterSubscribeToLiveUpdatesAction").subscribeToLiveUpdates(a));if(a==null){d("WALogger").WARN(h());return}return a.duration});function c(b){return a.apply(this,arguments)}return c}();c.$4=function(a,c){var d=this;this.unsubscribe();this.$1=self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d.$3(a));if(b!=null)return d.$4(a,b)}),c)};c.subscribe=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.unsubscribe();this.$2=a;var b=(yield this.$3(a));b!=null&&this.$4(a,b)});function c(b){return a.apply(this,arguments)}return c}();c.unsubscribe=function(){self.clearTimeout(this.$1)};return a}();c=new a();g.LiveUpdatesManager=c}),98);
__d("WAWebNewsletterRepairMsgHistoryAction",["WALogger","WAPromiseDelays","WARaceSignal","WAWebCommonNewsletterEnums","WAWebMsgDataFromModel","WAWebMsgModelFromData","WAWebNewsletterGatingUtils","WAWebNewsletterMsgHistoryLoggingUtils","WAWebNewsletterMsgHistoryUtils","WAWebNewsletterPullMessagesFromServerAction","WAWebNewsletterValidationUtils","WAWebStateUtils","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose([""," repaired"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," nothing to repair, exiting"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," pulled "," from server"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose([""," no recent message found on server"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose([""," called for ",", anchor ",""]);l=function(){return a};return a}var m="[news-msg-history][repairMsgHistory]",n=1e3;function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=d("WAWebStateUtils").unproxy(a.chat);if(!c("WAWebWid").isNewsletter(e.id))return;if(!d("WAWebNewsletterGatingUtils").isProactiveGapFillingEnabled())return;var f=(b=a.msgCollection)!=null?b:e.msgs;if(f!==e.msgs)return;if(f.repairMsgHistoryPromise!=null)return f.repairMsgHistoryPromise;b=e.newsletterMetadata;if(b==null||b.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest)return;var g=f.sort().last();d("WALogger").DEV(l(),m,e.id.toString(),g==null?void 0:g.id).devConsole(e,g);if(g==null||g.serverId==null)return;var o=new AbortController();try{void c("WARaceSignal")([o.signal,a.unmountSignal],function(){return d("WAPromiseDelays").delayMs(n,o.signal).then(function(){f.msgLoadState.isRepairingMsgHistory=!0})["catch"](function(){})});if(a.fetchLastMessage){b=(yield d("WAWebNewsletterPullMessagesFromServerAction").pullNewsletterMessagesFromServer(e,{messageCount:1,resetUnreadCount:!0,shouldUpdateMsg:function(a){return a.serverId!==g.serverId}}));a=b[0];if(a==null){d("WALogger").DEV(k(),m);return}d("WALogger").DEV(j(),m,a.serverId).devConsole(a);b=a.serverId===g.serverId;b||void d("WAWebNewsletterMsgHistoryLoggingUtils").logHistoryGap({gapSize:1,newsletterJidOrWid:e.id})}f.repairMsgHistoryPromise=d("WAWebNewsletterMsgHistoryUtils").fillMsgHistoryGaps(d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(e.id.toJid()),f.toArray().map(d("WAWebMsgDataFromModel").msgDataFromMsgModel)).then(function(a){return a.map(d("WAWebMsgModelFromData").msgModelFromMsgData)});b=(a=(yield e.msgs.repairMsgHistoryPromise))!=null?a:[];if(f.length===b.length){d("WALogger").DEV(i(),m);return}d("WALogger").DEV(h(),m).devConsole(b);f.add(b,{silent:!0});f.sort({silent:!0});e.trigger("msgs:history_repaired")}finally{o.abort(),f.msgLoadState.isRepairingMsgHistory=!1,f.repairMsgHistoryPromise=null}});return o.apply(this,arguments)}g.repairNewsletterMsgHistory=a}),98);
__d("WAWebConversationMsgs.react",["fbt","WAAbortError","WAArrayFindNext","WAFilteredCatch","WALogger","WANullthrows","WARaceSignal","WAShiftTimer","WATimeUtils","WAWebBackendErrors","WAWebBizChatAssignmentOpenedAction","WAWebChatAssignmentUtils","WAWebChatConstants","WAWebChatLoadMessages","WAWebChatMessageSearch","WAWebChatThreadLogging","WAWebChatUnreadCount.react","WAWebChevronCustomIcons","WAWebClassnames","WAWebClock","WAWebCmd","WAWebComposeBoxActions","WAWebCongratulationsAnimationsGatingUtils","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebConversationLoadMoreMessages.react","WAWebConversationMenus","WAWebConversationMsgs.scss","WAWebConversationMsgsUtils","WAWebCopyPasteCopyableArea.react","WAWebDocumentFlushed","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebGroupCatchUpWamEvent","WAWebListenerHoc_DEPRECATED","WAWebMath","WAWebMentionsIcon","WAWebMessageList.react","WAWebMessagePosition","WAWebMessageStickyDateMarker.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgKey","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebNewsletterGetMessageUpdatesAction","WAWebNewsletterLiveUpdatesManager","WAWebNewsletterRepairMsgHistoryAction","WAWebNonMessageDataRequestPlaceholderMessageResendUtils","WAWebRound.react","WAWebSystemMessageGatingUtils","WAWebTabOrder","WAWebToast.react","WAWebToastManager","WAWebUA","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnmountSignalHoc_DEPRECATED.react","WAWebUpdateUnreadChatAction","WAWebUserPrefsMeUser","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","WAWebWid","err","fbs","lodash","react","shallowEqual"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs] Error while checking if group notification context card is displayed: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["ConversationMsgs:loadRecentMsgs failed\n",""],["ConversationMsgs:loadRecentMsgs failed\\n",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["ConversationMsgs:loadEarlierMsgs failed\n",""],["ConversationMsgs:loadEarlierMsgs failed\\n",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMgs] Promise reject openChatBottom"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMgs] Promise reject loadAroundPromise"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["_onHistorySyncStateUpdate called, attempt to load earlier"]);p=function(){return a};return a}a=j||d("react");var q=i||(i=c("react"));b=a.Component;var r=a.createRef,s=3e3,t=8.5,u=300,v=80,w={iconColor:{color:"x1h7gb8d",$$css:!0}};e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=0;e.$3=new Map();e.$4=[];e.$10=!1;e.$11=!1;e.$12=function(a){return e.scrollContainer=a};e.$13=r();e.$14=r();e.$15=r();e.$27=function(a){var b=e.scrollContainer;b&&(void c("WAWebVelocityAnimate")(b,"stop"),void c("WAWebVelocityAnimate")(b,"scroll",{duration:300,container:b,offset:a}))};e.$37=function(a){var b=e.$14.current;e.$15.current=b==null?void 0:b.getMsgWrapperRef(a.toString())};e.$34=function(a){a.has(e.props.chat.id.toString())&&(d("WALogger").LOG(p()).tags("history-sync"),e.$10=!1,e.loadEarlierMsgs())};e.$43=function(){e.forceUpdate()};e.$28=function(a){a=e.$4[e.$4.length-1];if(!a)return;a=a.toString();var b=e.$14.current;if(a&&b){a=(b=b.getMsgWrapperRef(a))==null?void 0:b.getContainerElement();if(a){b=e.scrollContainer;if(!b)return;var c=e.$44(b,a);e.$42={msg:a,container:b,msgBottom:c}}}};e.$29=function(a){if(!e.$42)return;a=e.$42;var b=a.msg,c=a.container;a=a.msgBottom;e.$45(c,b,a);e.$42=void 0};e.$38=function(a){var b=e.props,c=b.listeners,f=b.chat;b=b.msgCollection;var g=a.focusCtx,i=a.chat;a=a.msgCollection;b&&(c.remove(b,"remove_msgs insert_msgs",e.$47),c.remove(f.msgs,"change:last",e.$48));c.remove(f,"change:unreadCount",e.$49);c.remove(f,"change:activeUnreadCount",e.$50);c.remove(f,"change:pendingDeleteForMeCount",e.$43);e.$9!=null&&e.$9();e.$9=a.onMsgLoadStateChange(e.$51);f.isGroup&&((b=f.groupMetadata)==null?void 0:b.unreadMentionMetadata.unreadMentionCollection)&&c.remove(f.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",e.$52);i.isGroup&&((b=i.groupMetadata)==null?void 0:b.unreadMentionMetadata.unreadMentionCollection)&&c.add(i.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",e.$52);c.add(i,"change:unreadCount",e.$49);c.add(i,"change:activeUnreadCount",e.$50);c.add(i,"change:pendingDeleteForMeCount",e.$43);c.add(i.msgs,"change:last",e.$48);c.add(a,"remove_msgs insert_msgs",e.$47);g&&a.loadAroundPromise&&a.loadAroundPromise["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){d("WALogger").DEV(o()),d("WAWebToastManager").ToastManager.open(q.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__ly_tfcw2PD0__JHASH__")})),d("WAWebCmd").Cmd.openChatBottom(i)["catch"](function(){d("WALogger").DEV(n())})}))};e.$17=c("lodash").throttle(function(){var a=e.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:a}).then(function(){if(a.aborted)throw new(d("WAAbortError").AbortError)();e.$41();if(a.aborted)return;var b=babelHelpers.assertThisInitialized(e);b=b.scrollContainer;if(b==null)return;!e.$10&&b.scrollTop<u&&e.loadEarlierMsgs();if(e.$10&&b.scrollTop<v)return;b.scrollTop>v&&(e.$10=!1);b=e.state;var c=b.isNearBottom;b=b.cursor;var f=e.$53();f?(e.$21(!0),d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)&&c!==f&&e.setState({isNearBottom:f,newUnread:0}),(b.getEnd(e.props.msgCollection)<e.props.msgCollection.length||!d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props))&&e.$54()):c!==f&&e.setState({isNearBottom:f})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,function(){}))},100);e.$51=function(){var a=e.state.msgLoadState,b=d("WAWebConversationMsgsUtils").getMsgLoadState(e.props.msgCollection),c={msgLoadState:b};if(a.isLoadingAroundMsgs&&!b.isLoadingAroundMsgs){a=d("WAWebConversationMsgsUtils").validateFocusCtx(e.props.focusCtx);b=a==null?void 0:a.msg;b&&(c=babelHelpers["extends"]({},c,{cursor:e.state.cursor.init(b.id,e.props.msgCollection),focusCtx:a}))}e.setState(c)};e.$18=c("lodash").throttle(function(){e.$41()},100);e.$33=function(a){var b=a.newKey;a=a.oldKey;var c=a.toString(),d=b.toString(),f=e.$3.get(c);f&&(e.$3["delete"](c),e.$3.set(d,f));for(c=0;c<e.$4.length;++c)if(e.$4[c]===a){e.$4[c]=b;break}};e.$19=c("lodash").debounce(function(){var a=e.$53();e.$53!==a&&e.setState({isNearBottom:a})},100);e.loadEarlierMsgs=function(){var a=e.props,b=a.chat,c=a.msgCollection;a=e.state;var f=a.cursor;a=a.msgLoadState;if(f.getStart(c)>0)f.hasBefore(c)&&e.setState({cursor:f.loadBefore(c)});else{if(a.isLoadingEarlierMsgs||a.isLoadingAroundMsgs)return;d("WAWebConversationMsgsUtils").noEarlierMsgStateIsIncorrect(b,d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props),a)&&(c.msgLoadState.noEarlierMsgs=!1);if(c.msgLoadState.noEarlierMsgs)return;var g=e.props.getUnmountSignal();d("WAWebChatLoadMessages").loadEarlierMsgs(b,c).then(function(a){if(g.aborted)return;!a||a.length===0?e.$10=!0:e.$10=!1;a={};e.state.focusCtx||(a.focusCtx=d("WAWebConversationMsgsUtils").getUnreadFocusCtx(e.props,e.state.unreadCount));f.hasBefore(c)?(a.cursor=f.loadBefore(c),e.setState(a)):e.setState(a)})["catch"](function(a){d("WALogger").LOG(m(),a)})}};e.$54=function(){var a=e.props,b=a.chat,f=a.msgCollection;a=e.state;var g=a.cursor;a=a.msgLoadState;if(g.getEnd(f)<f.length){e.setState({cursor:g.loadAfter(f)});return}if(a.isLoadingRecentMsgs||a.isLoadingAroundMsgs)return;a=new AbortController();var h=a.signal,i=e.props.getUnmountSignal();h=c("WARaceSignal")([h,i],function(a){return d("WAWebChatLoadMessages").loadRecentMsgs(b,f,a).then(function(){if(a.aborted)throw new(d("WAAbortError").AbortError)();g.hasAfter(f)?e.setState({cursor:g.loadAfter(f)}):e.state.cursor.getEnd(f)>=f.length&&d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)&&e.forceUpdate()})})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(a){d("WALogger").LOG(l(),a)})["finally"](function(){e.$8=null});e.$8={promise:h,controller:a}};e.handleComposeHeightChange=function(a){var b=e.scrollContainer;if(!b)return;if(a){if(b&&a<0&&b.scrollTop===b.scrollHeight-b.clientHeight)return;e.$46(b,b.scrollTop+a)}else{var d=b.scrollHeight-(b.scrollTop+b.clientHeight);c("WAWebVelocityAnimate")(b,{tween:18},{progress:function(){e.$46(b,b.scrollHeight-d-b.clientHeight)},duration:300},[.1,.82,.25,1])}};e.$55=function(){return c("WANullthrows")(e.scrollContainer)};e.getScrollBottom=function(){var a=e.scrollContainer;return!a?0:a.scrollHeight-(a.scrollTop+a.clientHeight)};e.$20=new(d("WAShiftTimer").ShiftTimer)(function(){var a;(a=e.$13.current)==null?void 0:a.setVisibility(!1)});e.$16=new(d("WAShiftTimer").ShiftTimer)(function(a){a=a||{};var b=a.dateMarkerIdx;a=a.silent;a=a===void 0?!1:a;var c=e.$14.current;if(!c||typeof b!=="number")return;a=a||Date.now()-(e.$2||0)<200;a||e.$39();a=c.getDateMarkerRef(b);if(b===-1){var f;(f=e.$13.current)==null?void 0:f.updateDateMarkerText()}else if(a){var g;f=a.getTimestamp();f=d("WAWebClock").Clock.relativeDateStr(f).toString().toUpperCase();(g=e.$13.current)==null?void 0:g.updateDateMarkerText(f)}if(e.$7!==b){g=c.getDateMarkerRef(e.$7);g&&g.show();a&&a.hide()}});e.$57=function(){e.$3.forEach(function(a,b){if((a=e.props.chat.groupMetadata)==null?void 0:a.unreadMentionMetadata.hasMentionId(b)){(a=e.props.chat.groupMetadata)==null?void 0:a.unreadMentionMetadata.removeUnreadMentions(b)}})};e.isMsgVisible=function(a,b){b===void 0&&(b=!1);a=a;var c=d("WAWebMsgCollection").MsgCollection.get(a);if(c!=null&&c.isCarouselCard===!0){a=(c=c.parentMsgId)!=null?c:a}return e.$3.has(a.toString())&&(b?!0:e.getMsgComponent(a))};e.getSequentialMsg=function(a){var b=e.getMsgs();return!b?null:c("WAArrayFindNext")(b,function(b){return a.equals(b.id)})};e.$58=function(a){e.$17()};e.$31=function(){var a=e.props.chat;if(e.$5||!a.isDirty()&&!a.hasUnreadEdit())return;a=2500;e.$5=self.setTimeout(function(){delete e.$5,e.$21()},a)};e.$32=function(){if(!e.state.unreadCount||!d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props))return;var a=e.props.chat;a.unreadCount===0&&(e.setState({unreadCount:0}),a.activeUnreadCount=0);a.markedUnread=!1};e.$59=function(){var a=e.props.msgCollection;d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)&&e.state.cursor.getEnd(a)>=a.length?e.$26():d("WAWebCmd").Cmd.openChatBottom(e.props.chat).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(e.props.chat)})};e.$60=function(){var a,b=e.props.chat;a=(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata;if(a){var f=a.pendingUnreadMentionCount,g=d("WAWebMath").roundUp10thPercentage(f,a.getUnreadMentionCount());new(d("WAWebGroupCatchUpWamEvent").GroupCatchUpWamEvent)({mentionsCountPendingPercentage:g}).commit();if(f>0){g=h._("__JHASH__JHt7qwKNC9z__JHASH__",[h._plural(f,"count")]);d("WAWebToastManager").ToastManager.open(q.jsx(d("WAWebToast.react").Toast,{msg:g}));a.pendingUnreadMentionCount=0;e.setState({unreadMentionCount:a.getUnreadMentionCount()});return}if(a.unreadMentionCollection.length){f=a.oldestUnreadMention();g=c("WAWebMsgKey").fromString(f==null?void 0:f.id);a=d("WAWebMsgCollection").MsgCollection.get(g.toString());f=d("WAWebChatMessageSearch").getSearchContext(b,a||g);f.highlightMentionMsg=!0;f.enableAnimation=!1;f&&d("WAWebCmd").Cmd.openChatAt(e.props.chat,f)}}};e.$26=function(a){var b=e.scrollContainer;b&&e.$46(b,b.scrollHeight-b.clientHeight);a&&a();var c=e.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:c}).then(function(){if(c.aborted)return;e.setState({cursor:e.state.cursor.resetBeforeCursor(e.props.msgCollection)})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,function(){}))};e.$48=function(a,b){var f=e.props,g=f.msgCollection;f=f.chat;var h=e.state.focusCtx,i=e.state.cursor,j=g.last();if(!d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)){b&&a&&d("WAWebMsgGetters").getIsSentByMe(a)&&e.$59();return}a={};var k=document.hasFocus(),l=e.$53(),m=l;k&&l?(a.unreadCount=f.activeUnreadCount,f.activeUnreadCount===0&&(a.focusCtx=void 0),i=i.setFocusedMsgKey(g)):j&&d("WAWebMsgGetters").getIsSentByMe(j)&&b&&(m=!0,e.state.unreadCount&&(a.unreadCount=0),a.focusCtx=void 0,i=i.setFocusedMsgKey(g),e.$59());h&&!Object.prototype.hasOwnProperty.call(a,"focusCtx")?i=i.loadAfter(g,{count:1}):i=i.loadBeforeCapped(g,{count:1});i!==e.state.cursor&&(a.cursor=i);c("lodash").isEmpty(a)||(e.$11=!0,e.setState(a,function(){b&&e.$25({fetchLastMessage:!1}),e.$11=!1,m&&e.$26(),e.$49()}))};e.$30=function(){e.$6=self.setTimeout(function(){e.state.isNearBottom&&e.$26()},1)};e.$52=function(){var a=e.props.chat;a=(a=(a=a.groupMetadata)==null?void 0:a.unreadMentionMetadata.getUnreadMentionCount())!=null?a:0;e.setState({unreadMentionCount:a})};e.$49=c("lodash").debounce(function(){if(e.$11)return;var a=e.props.chat,b=e.$53(),f=document.hasFocus();e.$21(b,f);f={};if(a.unreadCount&&!a.pendingSeenCount&&d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)){f.unreadCount=a.unreadCount;var g=d("WAWebConversationMsgsUtils").getUnreadFocusCtx(e.props,e.state.unreadCount);if(g&&f.focusCtx!==e.props.focusCtx){f.focusCtx=g;f.cursor=e.state.cursor.setFocusedMsgKey(e.props.msgCollection,(g=g.msg)==null?void 0:g.id)}}else if(a.unreadCount===0&&e.state.unreadCount!==0){g=e.props.msgCollection.last();g&&d("WAWebFrontendMsgGetters").getAsRevoked(g)&&(f.unreadCount=0)}var h=b&&f.unreadCount-e.state.unreadCount===1;(!b&&d("WAWebConversationMsgsUtils").isMostRecentCMC(e.props)||!a.pendingSeenCount&&e.state.newUnread!==a.unreadCount)&&(f.newUnread=a.unreadCount);c("lodash").isEmpty(f)||e.setState(f,function(){h&&e.$26()});a.unreadCount===0&&e.state.unreadCount!==0&&(a.activeUnreadCount=e.state.unreadCount)},150);e.$50=function(){if(e.$11)return;var a=e.props.chat;e.setState({unreadCount:a.activeUnreadCount})};e.$47=function(){var a=e.state.cursor.ensureValidFocus(e.props.msgCollection);e.state.cursor!==a?e.setState({cursor:a}):e.forceUpdate()};e.handlePageUpDown=function(a){c("WAWebFocusTracer").focus(e.scrollContainer)};e.scrollMessages=function(){var a=e.$4[e.$4.length-1];if(!a)return;var b=e.$14.current;if(!b)return;a=(b=b.getMsgWrapperRef(a.toString()))==null?void 0:b.getContainerElement();if(!a)return;b=e.$4.length===1?a.clientHeight:0;var d=e.scrollContainer;c("WAWebVelocityAnimate")(a,"stop");d&&c("WAWebVelocityAnimate")(d,"stop");c("WAWebVelocityAnimate")(a,"scroll",{duration:300,container:d,offset:b})};e.$61=function(a){if(a.metaKey||a.ctrlKey)return;a.preventDefault();a.key==="Enter"&&!a.shiftKey?d("WAWebComposeBoxActions").ComposeBoxActions.send(e.props.chat):d("WAWebComposeBoxActions").ComposeBoxActions.paste(e.props.chat,String.fromCharCode(a.charCode))};e.$62=function(a){var b=e.props.chat,f=e.props.onSelectMessages,g;if(d("WAWebContactGetters").getIsUser(b))g=q.jsx(c("WAWebContactMenuDropdown.react"),{chat:b,toContextMenuManager:!0,contact:b.contact,onSelectMessages:f,enableChatThreadLogging:!1});else if(d("WAWebContactGetters").getIsGroup(b))g=d("WAWebConversationMenus").groupMenu(b,f);else if(d("WAWebContactGetters").getIsBroadcast(b))g=d("WAWebConversationMenus").broadcastMenu(b,f);else return;a.preventDefault();a.stopPropagation();d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:b.id}]);e.setState({contextMenu:{menu:g,event:a}})};e.$63=function(){e.setState({contextMenu:null})};e.$64=function(a){a.preventDefault(),d("WAWebComposeBoxActions").ComposeBoxActions.sendPaste(e.props.chat,a)};e.$40=function(){if(!e.props.notifyChatRendered)return;e.props.notifyChatRendered(e.getMsgs())};e.$35=function(){var a=e.props.msgCollection,b=e.state.cursor;b.hasBefore(a)&&e.setState({cursor:b.loadBefore(a)})};e.$36=function(){var a,b=e.props.msgCollection;e.setState({cursor:e.state.cursor.init((a=b.last())==null?void 0:a.id,b)},function(){e.props.chat.unreadCount===0&&e.$59()})};var f=b.chat,g=f.pendingSeenCount?0:f.unreadCount,i=0;if(f.isGroup){i=(f=(f=f.groupMetadata)==null?void 0:f.unreadMentionMetadata.getUnreadMentionCount())!=null?f:0}e.state=babelHelpers["extends"]({},d("WAWebConversationMsgsUtils").getInitialCursorAndFocusContext(b,g),{unreadCount:g,unreadMentionCount:i,isNearBottom:!0,newUnread:0,contextMenu:null,msgLoadState:d("WAWebConversationMsgsUtils").getMsgLoadState(b.msgCollection),lastSelectable:b.selectable,lastChat:b.chat,lastMsgCollection:b.msgCollection,lastFocusCtx:b.focusCtx});return e}var e=b.prototype;e.componentWillUnmount=function(){this.$9!=null&&this.$9();this.$16.cancel();this.$17.cancel();this.$18.cancel();this.$19.cancel();this.$20.cancel();this.$5&&self.clearTimeout(this.$5);this.$6&&self.clearTimeout(this.$6);this.$21();this.props.chat.markedUnread=!1;if(this.props.chat.isGroup){var a;(a=this.props.chat.groupMetadata)==null?void 0:a.unreadMentionMetadata.reset()}this.props.chat.activeUnreadCount=0;this.$22()};e.$23=function(){var a=this.props.chat;a.isNewsletter&&d("WAWebNewsletterGatingUtils").isNewsletterReactionEnabled()&&void d("WAWebNewsletterGetMessageUpdatesAction").maybeUpdateMsgsAddOns(a.msgs.getModelsArray(),a)};e.$24=function(){var a=this.props.chat;a.isNewsletter&&void d("WAWebNewsletterLiveUpdatesManager").LiveUpdatesManager.subscribe(a.id)};e.$22=function(){void d("WAWebNewsletterLiveUpdatesManager").LiveUpdatesManager.unsubscribe()};e.componentDidMount=function(){var a=this,b,c=this.props,e=c.chat;c=c.listeners;this.$24();this.$23();this.$25({fetchLastMessage:!0});c.add((b=d("WAWebCmd")).Cmd,"scroll_chat_to_bottom",function(b){a.$26(b)});c.add(b.Cmd,"scroll_messages",this.scrollMessages);c.add(b.Cmd,"scroll_chat_by_height",function(b){a.$27(b)});c.add(b.Cmd,"panes_will_change",this.$28);c.add(b.Cmd,"panes_did_change",this.$29);c.add(b.Cmd,"scroll_to_focused_msg",function(b){a.$1=Date.now(),b()});c.add(b.Cmd,"reaction_changed_last_msg",this.$30);c.add(window,"focus",this.$31);c.add(window,"blur",this.$32);c.add(window,"resize",this.$18);c.add(window,"resize",this.$19);c.add(d("WAWebMsgCollection").MsgCollection,"change:msgKey",this.$33);c.add(b.Cmd,"new_history_sync_chunk_processed",this.$34);c.add(e,"msgs:preloaded",this.$35);c.add(e,"msgs:history_repaired",this.$36);d("WAWebSystemMessageGatingUtils").isGroupContextCardEnabled()&&c.add(d("WAWebCmd").Cmd,"group_notification_context_card_rendered",this.$37);this.$38(this.props);var f=this.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:f}).then(function(){if(f.aborted)return;a.$39()})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,function(){}));this.props.updateOpenedChatInfo({chat:e});d("WAWebUpdateUnreadChatAction").sendSeen(e);d("WAWebChatAssignmentUtils").canAssignChats()&&(e.isAssignedToMe&&e.unopenedByAssignedAgent&&d("WAWebBizChatAssignmentOpenedAction").markChatAsOpened(e,!0));this.$17();this.$40()};b.getDerivedStateFromProps=function(a,b){var c={lastSelectable:a.selectable,lastChat:a.chat,lastMsgCollection:a.msgCollection,lastFocusCtx:a.focusCtx};a.selectable===b.lastSelectable&&(a.chat!==b.lastChat||a.msgCollection!==b.lastMsgCollection||a.focusCtx!==b.lastFocusCtx)&&(c=babelHelpers["extends"]({},c,{msgLoadState:d("WAWebConversationMsgsUtils").getMsgLoadState(a.msgCollection)},d("WAWebConversationMsgsUtils").getInitialCursorAndFocusContext(a,b.unreadCount)));return c};e.shouldComponentUpdate=function(a,b){if(!c("shallowEqual")(a,this.props))return!0;a=this.state;var d=a.msgLoadState;a=babelHelpers.objectWithoutPropertiesLoose(a,["msgLoadState"]);var e=b.msgLoadState;b=babelHelpers.objectWithoutPropertiesLoose(b,["msgLoadState"]);if(!c("shallowEqual")(e,d))return!0;return!c("shallowEqual")(b,a)?!0:!1};e.componentDidUpdate=function(a){a.selectable===this.props.selectable&&(a.chat!==this.props.chat||a.msgCollection!==this.props.msgCollection||a.focusCtx!==this.props.focusCtx)&&(this.$8&&this.$8.controller.abort(),this.$38(this.props));a.chat!==this.props.chat&&(this.$22(),this.$24());var b=this.props.chat;this.$41(a.chat===b);this.props.updateOpenedChatInfo({chat:b});a.msgCollection!==this.props.msgCollection&&(this.$25({fetchLastMessage:!0}),this.$17());this.$40()};e.$25=function(a){a=a.fetchLastMessage;c("WAWebWid").isNewsletter(this.props.chat.id)&&void d("WAWebNewsletterRepairMsgHistoryAction").repairNewsletterMsgHistory({chat:this.props.chat,msgCollection:this.props.msgCollection,unmountSignal:this.props.getUnmountSignal(),fetchLastMessage:a})};e.$44=function(a,b){var c=a.scrollTop,d=a.scrollHeight;a=a.clientHeight;c=d-(c+a);return d-(b.offsetTop+b.clientHeight+c)};e.$45=function(a,b,c){var d=b.offsetTop;b=b.clientHeight;d=d+b+c-a.clientHeight;this.$46(a,d)};e.getRenderedMessageCount=function(){return this.getMsgs().length};e.setScrollBottom=function(a){var b=this.scrollContainer;if(!b)return;this.$46(b,b.scrollHeight-a-b.clientHeight)};e.$46=function(a,b){this.$2=Date.now(),a&&(a.scrollTop=b)};e.focus=function(){var a;a=(a=this.state.focusCtx)==null?void 0:(a=a.msg)==null?void 0:a.id.toString();if(a!=null){var b;b=(b=this.$14.current)==null?void 0:b.getMsgWrapperRef(a);b==null?void 0:(a=b.getContainerElement())==null?void 0:a.focus()}};e.$39=function(){var a;(a=this.$13.current)==null?void 0:a.setVisibility(!0);this.$20.debounce(s)};e.$53=function(){var a=this.scrollContainer;return!a?!1:a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight};e.getMsgs=function(a){var b=this;a===void 0&&(a=!1);var c=this.props,e=c.focusCtx;c=c.msgCollection;var f=this.state,g=f.cursor;f=f.msgLoadState;if(e&&f.isLoadingAroundMsgs)return[];e=c.toArray().slice(g.getStart(c),g.getEnd(c)).map(function(a){return a.safe()}).filter(function(a){var c;return a.type===d("WAWebMsgType").MSG_TYPE.GP2&&a.subtype==="create"&&!d("WAWebUserPrefsMeUser").isMeAccount((c=b.props.chat.groupMetadata)==null?void 0:c.owner)&&d("WAWebSystemMessageGatingUtils").isGroupContextCardEnabled()?!1:!a.pendingDeleteForMe});d("WAWebNonMessageDataRequestPlaceholderMessageResendUtils").handlePlaceholderMsgsSeen(e,a);return e};e.$56=function(a){if(d("WAWebCongratulationsAnimationsGatingUtils").isCongratulationsAnimationsEnabled()){var b,c=d("WAWebFrontendMsgGetters").getChat(a),e=d("WAWebFrontendMsgGetters").getCelebrationAnimationCandidate(a);if(e==null||d("WAWebContactGetters").getIsMe(c.contact))return;b=c.animationCandidateData!=null?a.t>((b=c.animationCandidateData)==null?void 0:b.msgTimestampSeconds):a.t>c.celebrationAnimationLastPlayed;b&&c.setAnimationCandidateData({animationType:e,msgTimestampSeconds:a.t})}};e.$41=function(a){var b=this.$14.current;if(!b){this.$3.clear();return}var e=[],f=b.props.msgs,g=new Map(),h={},i=0,j=f.length-1;while(i<j){var k=Math.floor((i+j)/2),l=f[k].id.toString();l=b.getMsgWrapperRef(l);b.getMsgVisibility(l).visibility===d("WAWebMessagePosition").MSG_VISIBILITY.ABOVE?i=k+1:j=k}for(l=i;l<f.length;l++){k=f[l].id.toString();var m=b.getMsgWrapperRef(k);if(!m)throw c("err")("msgRef not found!");var n=b.getMsgVisibility(m);if(n.visibility!==d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE)break;h[k]={offset:n.offset,t:f[l].t};g.set(k,m);e.push(f[l].id);this.$56(f[l].unsafe())}if(!this.scrollContainer)return;n=this.scrollContainer.scrollTop;i=0;j=Object.keys(b.getRenderedDateMarkers()).length-1;k=b.getDateMarkerRef(0);m=k&&k.getElement();if(m&&m.offsetTop<=n+t)while(i<j){l=Math.ceil((i+j)/2);f=b.getDateMarkerRef(l);if(!f)throw c("err")("DateMarkerRef: "+l+" not found. "+Object.keys(b.getRenderedDateMarkers()).toString()+"}");k=c("WANullthrows")(f.getElement());k.offsetTop>n+t?j=l-1:i=l}else i=-1;this.$16.onOrBefore(0,{dateMarkerIdx:i,silent:a});this.$7=i;this.pauseHiddenGifs(this.$3,g);this.$3=g;this.$4=e;this.props.chat.isGroup&&this.$57();this.props.updateOpenedChatInfo({renderedMsgsInfo:h,visibleMsgOrder:e,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0});d("WAWebContactGetters").getIsGroup(this.props.chat)&&d("WAWebSystemMessageGatingUtils").isGroupContextCardEnabled()&&(this.props.updateCanShowSpamPanel==null?void 0:this.props.updateCanShowSpamPanel(!this.checkIfGroupNotificationContextCardDisplayed()))};e.getMsgComponent=function(a){var b=this.$14.current;if(b)return b.getMsgComponentRef(a.toString())};e.pauseHiddenGifs=function(a,b){var c=this;a.forEach(function(a,d){if(b.has(d))return;a=c.props.msgCollection.get(d);if((a==null?void 0:a.isGif)!==!0)return;a=c.$14.current;a=a==null?void 0:a.getMsgComponentRef(d);if((a==null?void 0:a.pause)==null)return;a.pause()})};e.$21=function(a,b){a=a;b=b;var c=this.props,e=c.chat;c=c.msgCollection;var f=this.state.cursor;if(!(e.isDirty()&&d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)&&f.getEnd(c)>=c.length)&&!e.hasUnreadEdit())return;typeof b==="undefined"&&(b=document.hasFocus());if(!b)return;typeof a==="undefined"&&(a=this.$53());if(!a)return;d("WAWebUpdateUnreadChatAction").sendSeenDebounced(e);return!0};e.checkIfGroupNotificationContextCardDisplayed=function(){try{var a;return this.$15.current!=null&&((a=this.$14.current)==null?void 0:a.getMsgVisibility(this.$15.current).visibility)===d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE}catch(a){d("WALogger").WARN(k(),a).sendLogs("group-notification-context-card-visibility-check-error");return!1}};e.render=function(){var a,b=this.props,e=b.chat,f=b.msgCollection,g=b.selectable;b=b.onMessageSelect;var i=this.state,j=i.focusCtx,k=i.msgLoadState;i=i.unreadMentionCount;a=d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebConversationMsgs.scss").selectable]=g,a[c("WAWebConversationMsgs.scss").pane]=!0,a));var l=!!j,m=this.getMsgs(!0);b=q.jsx(c("WAWebMessageList.react"),{ref:this.$14,getScrollContainer:this.$55,chat:e,unreadCount:this.state.unreadCount,selectable:g,onMessageSelect:b,msgs:m,focusedMsgCtx:j,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg,isLoadingEarlierMsgs:k.isLoadingEarlierMsgs});m=q.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"around",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:function(){},isLoadingEarlierMsgs:k.isLoadingEarlierMsgs,isLoadingRecentMsgs:k.isLoadingRecentMsgs,isLoadingAroundMsgs:k.isLoadingAroundMsgs,isRepairingMsgHistory:k.isRepairingMsgHistory});var n;(this.state.cursor.getStart(f)>0||!k.noEarlierMsgs||[d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY,d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC,d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY].includes(e.endOfHistoryTransferType)||d("WAWebConversationMsgsUtils").noEarlierMsgStateIsIncorrect(e,d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),k))&&(n=q.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"earlier",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:k.isLoadingEarlierMsgs,isLoadingRecentMsgs:k.isLoadingRecentMsgs,isLoadingAroundMsgs:k.isLoadingAroundMsgs,mdHistorySyncTransferState:e.endOfHistoryTransferType,isRepairingMsgHistory:k.isRepairingMsgHistory,chatId:e.id}));var o;(this.state.cursor.getEnd(f)<f.length||!d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)||k.isRepairingMsgHistory)&&(o=q.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"recent",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:this.$54,isLoadingEarlierMsgs:k.isLoadingEarlierMsgs,isLoadingRecentMsgs:k.isLoadingRecentMsgs,isLoadingAroundMsgs:k.isLoadingAroundMsgs,isRepairingMsgHistory:k.isRepairingMsgHistory}));l&&k.isLoadingAroundMsgs?(o=void 0,n=void 0):m=void 0;var p,r;j=this.state;f=j.isNearBottom;l=j.newUnread;if(!f||!k.isLoadingAroundMsgs&&!d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)){l&&e.unreadCount&&(r=q.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:this.state.newUnread},"icon-unread"));k=d("WAWebClassnames").classnamesConvertMeToStylexPlease((j={},j[c("WAWebConversationMsgs.scss").ffFix]=d("WAWebUA").UA.isGecko,j[c("WAWebConversationMsgs.scss").incoming]=!0,j));p=q.jsxs(d("WAWebRound.react").Round,{className:k,dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,onClick:this.$59,label:h._("__JHASH__OwMMzHewa9E__JHASH__"),children:[q.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",className_DONOTUSE:c("WAWebConversationMsgs.scss").unread,children:r}),q.jsx(d("WAWebChevronCustomIcons").ChevronDownCustomIcon,{xstyle:w.iconColor})]})}l=null;if(e.isGroup&&i>0){e=d("WAWebClassnames").classnamesConvertMeToStylexPlease((j={},j[(k=c("WAWebConversationMsgs.scss")).ffFix]=d("WAWebUA").UA.isGecko,j[k.buttonGap]=p,j[k.buttonGapRemove]=!p,j[k.atMentions]=!0,j));j=c("fbs")._("__JHASH__-SHWX4t5tcl__JHASH__",[c("fbs")._plural(i,"count")]);e=q.jsxs(d("WAWebRound.react").Round,{className:e,onClick:this.$60,dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,children:[q.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",className_DONOTUSE:k.unread,children:q.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:i,ariaLabel:j.toString()})}),q.jsx(d("WAWebMentionsIcon").MentionsIcon,{xstyle:w.iconColor})]});l=f?e:q.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",children:e})}var s;this.state.contextMenu&&(s=q.jsx(d("WAWebUimUie.react").UIE,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:this.$63,children:q.jsx(c("WAWebUimUieMenu.react"),{contextMenu:this.state.contextMenu})}));return q.jsxs(c("WAWebCopyPasteCopyableArea.react"),{children:[q.jsx(c("WAWebMessageStickyDateMarker.react"),{ref:this.$13}),q.jsxs("div",{className:c("WAWebConversationMsgs.scss").incomingContainer,children:[l,q.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",children:p})]}),q.jsxs("div",{className:a,"data-testid":void 0,ref:this.$12,onScroll:this.$58,onKeyPress:this.$61,onContextMenu:g?null:this.$62,onPaste:this.$64,tabIndex:"0",children:[q.jsx("div",{className:c("WAWebConversationMsgs.scss").empty}),m,n,b,o]}),s]})};return b}(b);f=c("WAWebUnmountSignalHoc_DEPRECATED.react")(d("WAWebListenerHoc_DEPRECATED").ListenerHOC(e));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getRenderedMessageCount=function(){return this.getComponent().getRenderedMessageCount()};c.getScrollBottom=function(){return this.getComponent().getScrollBottom()};c.onComposeHeightChange=function(a){this.getComponent().handleComposeHeightChange(a)};c.onPageUpDown=function(a){this.getComponent().handlePageUpDown(a)};c.setScrollBottom=function(a){this.getComponent().setScrollBottom(a)};c.focus=function(){this.getComponent().focus()};c.checkIfGroupNotificationContextCardDisplayed=function(){return this.getComponent().checkIfGroupNotificationContextCardDisplayed()};return b}(f);g["default"]=a}),226);
__d("WAWebConversationPanel.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={footer:"_amm5",body:"_amm9",footerMessage:"_amm8"};b=a;g["default"]=b}),98);
__d("WAWebGroupDescriptionBanner.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={body:"_ajvq",text:"_ajvr",hidden:"_ajvs",desc:"_ajvt",more:"_ajvu"};b=a;g["default"]=b}),98);
__d("WAWebGroupDescriptionBanner.react",["fbt","WAWebClassnames","WAWebCmd","WAWebConversationBanner.react","WAWebEmojiText.react","WAWebFormatConfiguration","WAWebGroupDescriptionBanner.scss","WAWebLinkify","WAWebResizeObserver.react","WAWebRichTextInputGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebWDSText.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o=b.useState;function p(a,b){a=a==null?void 0:a.split("\n");return a==null?void 0:a.slice(0,b).join("\n")}function q(a){a=(a=a==null?void 0:a.split("\n"))!=null?a:[];return a.length}e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=a.onClose,g=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["displayedDesc"]),i=n(null),k=n(null);g=r(g);var s=o(g),t=s[0];s=s[1];var u=p(t,1),v=o(!1),w=v[0],x=v[1];v=o(!0);var y=v[0],z=v[1];v=function(){d("WAWebCmd").Cmd.chatInfoDrawer(e,{showFullGroupDescription:!0})};var A=function(a){var b;a=a.height;b=(b=(b=k.current)==null?void 0:(b=b.getElement())==null?void 0:b.offsetHeight)!=null?b:0;x(q(t)>1||a<b)};m(function(){var a,b;if(!i.current||!k.current)return;a=(a=(a=i.current)==null?void 0:a.clientHeight)!=null?a:0;b=(b=(b=k.current)==null?void 0:(b=b.getElement())==null?void 0:b.offsetHeight)!=null?b:0;x(q(t)>1||a<b);z(!1)},[t]);t!==g&&(s(g),x(!1),z(!0));if(!t)return null;s=a.chat.isTrusted()?d("WAWebFormatConfiguration").TrustedGroupDesc({links:d("WAWebLinkify").findLinks(t),bulletPointsEnabled:!0,expandedFormattingEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled()}):d("WAWebFormatConfiguration").UntrustedGroupDesc({bulletPointsEnabled:!0,expandedFormattingEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled()});g=l.jsx("div",{className:c("WAWebGroupDescriptionBanner.scss").more,role:"button",onClick:v,children:h._("__JHASH__YmkFxppzHPq__JHASH__")});return l.jsx(d("WAWebUimUie.react").UIE,{displayName:"GroupDesc",escapable:!0,requestDismiss:f,children:l.jsxs(c("WAWebConversationBanner.react"),{ref:b,onClose:f,children:[l.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:h._("__JHASH__Bo_0-nr4vTi__JHASH__")}),l.jsx(c("WAWebResizeObserver.react"),{ref:i,onResize:A,className:c("WAWebGroupDescriptionBanner.scss").body,children:l.jsx(d("WAWebWDSText.react").WDSTextSmall,{as:"span",children:l.jsxs("span",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebGroupDescriptionBanner.scss").hidden]=y,a[c("WAWebGroupDescriptionBanner.scss").text]=!0,a)),children:[l.jsx(d("WAWebEmojiText.react").EmojiText,{ref:k,text:u,selectable:!0,formatters:s,className:c("WAWebGroupDescriptionBanner.scss").desc,multiline:!0}),w&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.top1),children:"..."}),g]})]})})})]})})}a.displayName=a.name+" [from "+f.id+"]";b=e;function r(a){return a==null?void 0:a.displayedDesc}g["default"]=b}),226);
__d("WAWebDashes.react",["fbt","WAWebFlex.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={dashContainer:{height:"x10w6t97",width:"xfo62xy",$$css:!0},dash:{height:"x5yr21d",width:"xfo62xy",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",backgroundColor:"x1vf10k5",$$css:!0},active:{backgroundColor:"x1ooda66",$$css:!0}};function m(a){a=a.active;return k.jsx("div",{className:(j||(j=c("stylex")))([l.dash,d("WAWebUISpacing").marginTop2,a&&l.active])})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.activeIndex;a=a.count;var e=[];for(var f=0;f<a;f++)e.push(k.jsx(m,{active:f===b},"dash-"+f));return k.jsx(d("WAWebFlex.react").FlexColumn,{"aria-label":h._("__JHASH__2DW3euUX-Gp__JHASH__",[h._param("current",b+1),h._param("total",a)]),className:(j||(j=c("stylex")))([l.dashContainer]),children:e})}a.displayName=a.name+" [from "+f.id+"]";g.Dashes=a}),226);
__d("WAWebPinnedMessagesBannerBody.react",["WAFilteredCatch","WALogger","WAReplaceRepeatingWhitespace","WAWebABProps","WAWebBaseCollection","WAWebChatMsgSymbol.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebFrontendMsgGetters","WAWebL10N","WAWebMediaMsgPreview.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgModelPropUtils","WAWebName.react","WAWebPinInChatCollection","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebWDSText.react","WAWebWamEnumWebcRmrReasonCode","react","useWAWebAsync","useWAWebListener","useWAWebModelValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to hydrate pin in chat parent message with id '","': ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing pin in chat with id '","': ",""]);k=function(){return a};return a}var l=i||c("react"),m=(h||(h=d("react"))).useEffect;function a(a){var b=a.pinInChat;a=c("useWAWebAsync")(function(){return d("WAWebMsgCollection").MsgCollection.hydrateOrGetMessages([b.parentMsgKey.toString()])["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBaseCollection").CollectionSilentQueryError,function(a){d("WALogger").WARN(k(),b.id,a.message);d("WAWebPinInChatCollection").PinInChatCollection.remove(b.id);return[]}))},[b]);if(a.loading)return null;if(a.error){d("WALogger").WARN(j(),b.parentMsgKey,a.error.message);return null}a=(a=a.value)==null?void 0:a[0];return a!=null&&l.jsx(o,{msg:a})}a.displayName=a.name+" [from "+f.id+"]";var n={text:{fontSize:"x1f6kntn",lineHeight:"x1fc57z9",display:"x1rg5ohu",$$css:!0},content:{height:"x5yr21d",whiteSpace:"xuxw1ft",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",$$css:!0},mediaPreview:{minWidth:"x900493",width:"x1useyqa",height:"xsdox4t",$$css:!0}};function o(a){var b;a=a.msg;b=d("useWAWebMsgValues").useMsgValues(a.id,[d("WAWebFrontendMsgGetters").getSenderObj,d("WAWebFrontendMsgGetters").getDir,d("WAWebFrontendMsgGetters").getRtl,(b=d("WAWebMsgGetters")).getIsGroupMsg,b.getLatestEditMsgKey,b.getAck,b.getType]);var e=b[0],f=b[1],g=b[2],h=b[3];b[4];b[5];b=b[6];d("useWAWebListener").useListener(a,"change:msgKey",function(a){a=a.oldKey;d("WAWebPinInChatCollection").PinInChatCollection.deleteByParentMessageKey(a)});var i=[];h&&i.push(l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{color:"teal",weight:"semibold",children:[l.jsx(d("WAWebName.react").ContactName,{contact:e,useShortName:!0}),":\xa0"]},e.id.toString()));d("WAWebMsgModelPropUtils").hasSymbol(a.unsafe())&&i.push(l.jsx(c("WAWebChatMsgSymbol.react"),{msg:a.unsafe()},"msg-symbol"));h=c("WAWebFormatMsgText")(a,{stripFormatting:!1}).toString();i.push(l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:[n.text,d("WAWebUISpacing").uiPadding.end16],direction:f,text:c("WAReplaceRepeatingWhitespace")(h,!0),dirMismatch:g!==c("WAWebL10N").isRTL(),ellipsify:!0,inlineblock:!0,formatters:d("WAWebFormatConfiguration").InlineMessage({mentions:a.mentionMap(),groupMentions:a.groupMentionMap()})},"text"));d("WAWebMediaMsgPreview.react").isMediaTypeWithImage(b)&&d("WAWebABProps").getABPropConfigValue("pinned_messages_m2_image_thumbnail")&&i.push(l.jsx(p,{msg:a}));return l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pin-message",children:l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:n.content,align:"center",children:i},a.id)})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.msg;a=d("useWAWebMsgValues").useMsgValues(b.id,[d("WAWebFrontendMsgGetters").getMediaData]);a=a[0];var c=d("useWAWebModelValues").useModelValues(a,["preview","fullPreviewData"]),e=c.preview;c=c.fullPreviewData;m(function(){void b.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER})},[b]);e=e!=null||c!=null;return!e?null:l.jsx(d("WAWebFlex.react").FlexItem,{xstyle:n.mediaPreview,children:l.jsx(d("WAWebMediaMsgPreview.react").MediaMsgPreview,{mediaData:a},"media-preview")})}p.displayName=p.name+" [from "+f.id+"]";g.PinnedMessagesBannerBody=a}),98);
__d("WAWebPinnedMessagesBanner.react",["fbt","WALogger","WAWebChatMessageSearch","WAWebCmd","WAWebConversationBanner.react","WAWebDashes.react","WAWebFlex.react","WAWebFlexItem.react","WAWebMsgCollection","WAWebPinInChatCollection","WAWebPinInChatMetricUtils","WAWebPinMsgGatingUtils","WAWebPinned3Icon","WAWebPinnedMessagesBannerBody.react","WAWebPinnedMessagesUserJourneyLogger","WAWebProtobufsE2E.pb","WAWebSendPinMessageAction","WAWebUISpacing","WAWebUimUie.react","react","stylex","useWAWebListener","useWAWebPinnedMessages"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while unpinning a message: ",""]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),n=e.useMemo,o=e.useState,p={banner:{backgroundColor:"x150wa6m",minHeight:"xuwdbiy",borderStartWidth:"xy80clv",borderStartStyle:"x26u7qi",borderStartColor:"x1ux35ld",cursor:"x1ypdohk",":hover_backgroundColor":"x1z0qo99",$$css:!0},iconWrapper:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x1td3qas",height:"x10w6t97",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",backgroundColor:"xsknx04",$$css:!0},icon:{display:"x1rg5ohu",color:"x1anpt5t",$$css:!0},bannerBody:{height:"xsdox4t",width:"xh8yej3",$$css:!0},clearMinWidth:{minWidth:"xaaagfd",$$css:!0},dashContainer:{width:"xfo62xy",$$css:!0}};function q(){return m.jsx("div",{className:(j||(j=c("stylex")))([p.iconWrapper,d("WAWebUISpacing").uiMargin.start12]),children:m.jsx(d("WAWebPinned3Icon").Pinned3Icon,{xstyle:p.icon,"aria-hidden":!0})})}q.displayName=q.name+" [from "+f.id+"]";e=m.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=c("useWAWebPinnedMessages")(e);a=o(function(){return f.length>0?f.length-1:null});var g=a[0],i=a[1];g!=null&&g>f.length-1&&f.length>0&&i(f.length-1);var j=g==null?null:f[g];d("useWAWebListener").useListener(d("WAWebPinInChatCollection").PinInChatCollection,["add","remove","change"],function(){f.length>0&&i(f.length-1)});var k=n(function(){if(f.length>0&&j!=null){var a=j==null?void 0:j.parentMsgKey;if(a)return d("WAWebMsgCollection").MsgCollection.get(a)}},[f,j]),r=function(){var a,b=f.length;a=b-1-((a=g)!=null?a:0);d("WAWebPinInChatMetricUtils").logPinInChatTapOnBanner({msg:k,chat:e,pin:j,pinCount:b,pinIndex:a})},s=function(){f.length>0&&i(function(a){return a==null?f.length-1:(a+1)%f.length})},t=function(){if(j!=null){var a=j.parentMsgKey;a=d("WAWebChatMessageSearch").getSearchContext(e,k||a,null);a&&(a.slideToMsg=!0);d("WAWebCmd").Cmd.openChatAt(e,a)}};a=function(){s();if(j!=null){var a=d("WAWebMsgCollection").MsgCollection.get(j.parentMsgKey);a&&(new(d("WAWebPinnedMessagesUserJourneyLogger").PinnedMessagesUserJourneyLogger)(e).pinBannerClickUnpin(a,j),d("WAWebSendPinMessageAction").sendPinInChatMsg(a,d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL)["catch"](function(a){d("WALogger").ERROR(l(),a)}))}};a=[{content:h._("__JHASH___LTQvdQdtP7__JHASH__"),onClick:a},{content:h._("__JHASH__QpyBszCgUNM__JHASH__"),onClick:t}];var u=function(a){a.stopPropagation(),t(),s(),r()},v=d("WAWebPinMsgGatingUtils").isPinnedMessagesM2Enabled()&&f.length>1;v=m.jsx(c("WAWebFlexItem.react"),{xstyle:p.dashContainer,children:v?m.jsx(d("WAWebDashes.react").Dashes,{count:f.length,activeIndex:(v=g)!=null?v:0}):null});return j==null?null:m.jsx(d("WAWebUimUie.react").UIE,{displayName:"PinnedMessagesBanner",children:m.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:[p.banner,d("WAWebUISpacing").uiPadding.start20,d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.end0],onClick:u,menuItems:a,children:m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",grow:1,children:[m.jsx(c("WAWebFlexItem.react"),{"aria-label":h._("__JHASH__8i3nxmuyh4o__JHASH__")}),v,m.jsx(c("WAWebFlexItem.react"),{xstyle:p.clearMinWidth,align:"center",justify:"center",children:m.jsx(q,{})}),m.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiPadding.start12,p.bannerBody],children:m.jsx(d("WAWebPinnedMessagesBannerBody.react").PinnedMessagesBannerBody,{pinInChat:j})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=c("useWAWebPinnedMessages")(a);return a.length>0}g.PinnedMessagesBanner=e;g.useWAWebPinnedMessagesBanner=b}),226);
__d("WAWebReportToAdminNewReportBanner.react",["fbt","WATimeUtils","WAWebABProps","WAWebConversationBanner.react","WAWebDrawerManager","WAWebFlex.react","WAWebFlexItem.react","WAWebKeyboardTabUtils","WAWebRevokeMsgConstants","WAWebSendForAdminReviewUtils","WAWebSentForAdminReviewFlow.react","WAWebStateUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUimUie.react","WAWebWDSText.react","WAWebWarningBubbleIcon","react","useWAWebModelValues","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={banner:{backgroundColor:"x150wa6m",$$css:!0},icon:{color:"x1anpt5t",$$css:!0}};e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onClose,f=a.chat,g=c("useWAWebUIM")();a=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(j.jsx(c("WAWebSentForAdminReviewFlow.react"),{chat:d("WAWebStateUtils").unproxy(f),ref:b,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"rta-"+f.id.toString()),{transition:"slide-left",uim:g,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),e()};return j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ReportToAdminNewReportBanner",escapable:!0,children:j.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:k.banner,onClick:a,onClose:e,children:j.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top6,align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end20,children:j.jsx(d("WAWebWarningBubbleIcon").WarningBubbleIcon,{xstyle:k.icon,width:20,height:20})}),j.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:j.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"span",children:h._("__JHASH__sY69c_UGuzK__JHASH__",[h._implicitParam("=m0",j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"accent",weight:"semibold",children:h._("__JHASH__tDH3Bq8m1wO__JHASH__")}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=d("useWAWebModelValues").useModelValues(a,["groupMetadata"]);a=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["lastReportToAdminTimestamp"]);a=a==null?void 0:a.lastReportToAdminTimestamp;if(a==null)return!1;var b=d("WAWebRevokeMsgConstants").REVOKE_WINDOW+d("WAWebRevokeMsgConstants").REVOKE_WINDOW_RECEIVER_MARGIN;a=d("WATimeUtils").unixTime()-a<=b;return a}function m(a){a=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["reportToAdminMode"]);return d("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch")&&(a==null?void 0:a.reportToAdminMode)===!0}function b(a){var b=d("useWAWebModelValues").useModelValues(a,["id","groupMetadata"]);a=l(b);a=m(b)&&a;return[a,function(){d("WAWebSendForAdminReviewUtils").clearLastReportTimestamp(b)}]}g.ReportToAdminNewReportBanner=e;g.useReportToAdminNewReportBanner=b}),226);
__d("WAWebSubgroupSuggestionsBanner.react",["fbt","WAWebCmd","WAWebCommunityGatingUtils","WAWebConversationBanner.react","WAWebFlex.react","WAWebFlexItem.react","WAWebGroupType","WAWebNux","WAWebSubgroupsNuxIcon","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUimUie.react","WAWebWDSText.react","react","useWAWebEventTargetValue","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={banner:{backgroundColor:"x150wa6m",$$css:!0},icon:{color:"xs17brd",$$css:!0}};e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onClose,f=a.chat;a=a.subgroupSuggestionsCount;var g=function(){var a;a=(a=f.groupMetadata)==null?void 0:a.parentGroup;if(!a)return;d("WAWebCmd").Cmd.openCommunityPendingGroupsDrawer(a);e()};return j.jsx(d("WAWebUimUie.react").UIE,{displayName:"SubgroupSuggestionsBanner",escapable:!0,children:j.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:k.banner,onClick:g,onClose:e,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end18,children:j.jsx(d("WAWebSubgroupsNuxIcon").SubgroupsNuxIcon,{xstyle:k.icon,height:20})}),j.jsx(c("WAWebFlexItem.react"),{children:j.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"span",children:(b=h._plural(a,"group_suggestions"),h._("__JHASH__5zWYvo0hQZ-__JHASH__",[b,h._implicitParam("=m0",j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"accent",weight:"semibold",children:h._("__JHASH__-EPtWAG_XYo__JHASH__",[b])}))]))})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b;b=c("useWAWebEventTargetValue")(a==null?void 0:(b=a.groupMetadata)==null?void 0:b.subgroupSuggestions,["add","remove","reset"],function(){var b;return(b=a==null?void 0:(b=a.groupMetadata)==null?void 0:b.getSubgroupSuggestions().length)!=null?b:0});return b}function b(a){var b,e,f;b=(b=a.groupMetadata)==null?void 0:b.getParentGroupChat();var g=l(b),h=(b==null?void 0:b.id)?b.id.toString():"";h=d("WAWebNux").getSubgroupSuggestionsBannerNuxKey(h);e=c("useWAWebEventTargetValue")((e=a.groupMetadata)==null?void 0:e.participants,["bulk_add","bulk_remove","reset","change:isAdmin"],function(){var b;return Boolean((b=a.groupMetadata)==null?void 0:b.participants.iAmAdmin())});h=c("useWAWebNux")(h);var i=h[0];h=h[1];f=((f=a.groupMetadata)==null?void 0:f.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&Boolean(b)&&g>0&&e&&i&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled();return[f,h,g]}g.SubgroupSuggestionsBanner=e;g.useSubgroupSuggestionsBanner=b}),226);
__d("useWAWebCagEventsAwarenessBanner.react",["WATimeUtils","WAWebChatGroupUtils","WAWebEventsGatingUtils","WAWebNux","WAWebUserPrefsEvents","useWAWebIAmCommunityAdmin","useWAWebNux"],(function(a,b,c,d,e,f,g){function a(a){var b,e=c("useWAWebNux")(d("WAWebNux").NUX.CAG_EVENTS_AWARENESS_BANNER),f=e[0];e[1];e=e[2];b=c("useWAWebIAmCommunityAdmin")((b=a.groupMetadata)==null?void 0:(b=b.getParentGroupChat())==null?void 0:b.groupMetadata);f=f&&b&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)&&d("WAWebEventsGatingUtils").isEventsCreationEnabledInCag();if(f){b=d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerFirstSeenTimestamp();b!=null&&(f=d("WATimeUtils").happenedWithin(b,d("WATimeUtils").WEEK_SECONDS))}return[f,e]}g["default"]=a}),98);
__d("useWAWebConversationPanelGroupDescription",["WAWebMsgType","WAWebServerPropsModel","WAWebUserPrefsGeneral","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a){var b=i(function(){if(!a.isGroup||d("WAWebServerPropsModel").ServerProps.groupDescLength<=0||d("WAWebUserPrefsGeneral").getSeenGroupDesc(a.id))return!1;d("WAWebUserPrefsGeneral").setSeenGroupDesc(a.id);return a.unreadCount===0?!a.msgs.some(function(a){return a.type!==d("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION&&a.type!==d("WAWebMsgType").MSG_TYPE.GP2}):!a.shouldShowUnreadDivider}),c=b[0],e=b[1];b=function(){e(!1)};return[c,b]}g["default"]=a}),98);
__d("WAWebConversationPanelBanner.react",["$InternalEnum","WAWebCagEventsAwarenessBanner.react","WAWebChangeNumberNotificationBanner.react","WAWebGroupDescriptionBanner.react","WAWebMembershipApprovalRequestsBanner.react","WAWebNewsletterChannelAlertsBanner.react","WAWebNewsletterGatingUtils","WAWebPinnedMessagesBanner.react","WAWebReportToAdminNewReportBanner.react","WAWebSimilarNewslettersUnits.react","WAWebSubgroupSuggestionsBanner.react","WAWebVelocityTransitionGroup","WAWebWDSGatingUtils","react","stylex","useWAWebCagEventsAwarenessBanner.react","useWAWebConversationPanelGroupDescription"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={banner:{zIndex:"xmbbrlm",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xa93pmm",$$css:!0},absoluteBanner:{position:"x10l6tqk",top:"xef1mmm",start:"x17qophe",end:"xds687c",borderStartColor:"xgkeump",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",$$css:!0},material:{borderBottomWidth:"x1qhh985",$$css:!0}},l=b("$InternalEnum")({CagEventsAwareness:1,MembershipApprovalRequests:2,ReportToAdminNewReport:3,SubgroupSuggestions:4,GroupDescription:5,PinnedMessages:6,NewsletterChannelAlerts:7});function a(a){var b=a.chat;a=a.groupMetadata;var e=c("useWAWebConversationPanelGroupDescription")(b),f=e[0];e=e[1];var g=d("WAWebMembershipApprovalRequestsBanner.react").useMembershipApprovalRequestsBanner(b),h=g[0];g=g[1];var m=d("WAWebReportToAdminNewReportBanner.react").useReportToAdminNewReportBanner(b),n=m[0];m=m[1];var o=d("WAWebPinnedMessagesBanner.react").useWAWebPinnedMessagesBanner(b),p=d("WAWebNewsletterChannelAlertsBanner.react").useNewsletterChannelAlertsBanner(b),q=p[0];p=p[1];var r=d("WAWebSubgroupSuggestionsBanner.react").useSubgroupSuggestionsBanner(b),s=r[0],t=r[1];r=r[2];var u=c("useWAWebCagEventsAwarenessBanner.react")(b),v=u[0];u=u[1];v=[{condition:v,component:j.jsx(d("WAWebCagEventsAwarenessBanner.react").CagEventsAwarenessBanner,{onClose:u}),priority:l.CagEventsAwareness},{condition:h,component:j.jsx(d("WAWebMembershipApprovalRequestsBanner.react").MembershipApprovalRequestsBanner,{onClose:g,chat:b}),priority:l.MembershipApprovalRequests},{condition:n,component:j.jsx(d("WAWebReportToAdminNewReportBanner.react").ReportToAdminNewReportBanner,{onClose:m,chat:b}),priority:l.ReportToAdminNewReport},{condition:s,component:j.jsx(d("WAWebSubgroupSuggestionsBanner.react").SubgroupSuggestionsBanner,{onClose:t,chat:b,subgroupSuggestionsCount:r}),priority:l.SubgroupSuggestions},{condition:Boolean(f&&(a==null?void 0:a.displayedDesc)),component:j.jsx(c("WAWebGroupDescriptionBanner.react"),{onClose:e,chat:b,groupMetadata:a}),priority:l.GroupDescription},{condition:o,component:j.jsx(d("WAWebPinnedMessagesBanner.react").PinnedMessagesBanner,{chat:b}),priority:l.PinnedMessages},{condition:b.isNewsletter&&q,component:j.jsx(d("WAWebNewsletterChannelAlertsBanner.react").NewsletterChannelAlertsBanner,{newsletter:b,onClose:p}),priority:l.NewsletterChannelAlerts}];h=(u=v.filter(function(a){return a.condition}).sort(function(a,b){return a.priority-b.priority})[0])==null?void 0:u.component;return j.jsxs(j.Fragment,{children:[j.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",xstyle:[k.banner,d("WAWebWDSGatingUtils").materialRefreshEnabled()&&k.material],children:[h,j.jsx(d("WAWebChangeNumberNotificationBanner.react").ChangeNumberNotificationBanner,{chat:b})]}),j.jsx("div",{className:(i||(i=c("stylex")))(k.banner,k.absoluteBanner,d("WAWebWDSGatingUtils").materialRefreshEnabled()&&k.material),children:b.isNewsletter&&d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()?j.jsx(d("WAWebSimilarNewslettersUnits.react").SimilarNewslettersConversationBanner,{chat:b}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterSuspendedConversationPanelBody.react",["fbt","WAWebClickableLink.react","WAWebCommonNewsletterStrings","WAWebExternalLink.react","WAWebFaqUrl","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWrapperSystemBubble.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useState,n={linkColor:{color:"x14m1o6m",textDecoration:"x1hl2dhg",$$css:!0}};function o(){var a=m(null),e=a[0],f=a[1];l(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebCommonNewsletterStrings").getGeosuspendedInYourCountryString({isPreview:!1}));f(a)});return c.apply(this,arguments)}void a()},[]);if(e==null)return;return k.jsx(c("WAWebWrapperSystemBubble.react"),{theme:"center",children:k.jsxs(c("WAWebClickableLink.react"),{testid:void 0,onClick:function(){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getNewsletterGeosuspendFaqUrl())},xstyle:n.linkColor,children:[k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,children:e}),k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{children:h._("__JHASH__JLEANMVTJaE__JHASH__")})]})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isAdminOrOwner;a=a.isGeosuspended;return a?k.jsx(o,{}):k.jsxs(c("WAWebWrapperSystemBubble.react"),{theme:"center",children:[k.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"2",size:"16",weight:"bold",xstyle:d("WAWebUISpacing").uiMargin.bottom2,testid:void 0,children:h._("__JHASH__7waLRHpnY5S__JHASH__")}),k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,children:b?h._("__JHASH__oYRuUftwVrV__JHASH__"):h._("__JHASH__wCNqwcDgR5k__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUseBizBotTos",["WAWebBizBotTos.react","WAWebBotGating","WAWebBotTos","WAWebBotTypes","WAWebChatEntryPoint","WAWebModalManager","WAWebTos","WAWebUseBusinessProfile.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useRef;function b(b){var c=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?b.id:null,["isBizBot3p"]),e=l(),f=function(){var f;(f=e.current)==null?void 0:f.close();if(!c)return;d("WAWebBotGating").isBizBot3pAvailable()&&c.isBizBot3p&&!d("WAWebBotTos").hasSeenBizBotTos(d("WAWebBotTypes").BizBotType.BIZ_3P)&&a.setTimeout(function(){var a;d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebBizBotTos.react").BizBotTos,{ref:e,automatedType:d("WAWebBotTypes").BizBotAutomatedType.FULL_3P,chatEntryPoint:(a=b.chatEntryPoint)!=null?a:d("WAWebChatEntryPoint").ChatEntryPoint.Unknown}),{blockClose:!0})},250)};k(f,[b,c]);d("useWAWebListener").useListener(d("WAWebTos").TosManager,"change",f)}g.useBizBot3pTos=b}),98);
__d("WAWebSendBotRequestWelcomeAction",["WAJobOrchestratorTypes","WAMemoizeConcurrent","WAWebBotMessageSecret","WAWebBotWelcomeRequestSync","WAWebDBProcessMessage","WAWebMsgDataUtils","WAWebMsgModel","WAWebMsgType","WAWebOrchestratorNonPersistedJob","WAWebSendMsgRecordAction","WAWebSendMsgResultAction","WAWebSyncd","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return i({chat:a,signal:new AbortController().signal})});return h.apply(this,arguments)}var i=c("WAMemoizeConcurrent")(function(a){a=a.chat;return a.id.toString()},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.chat;return j(a)});return function(b){return a.apply(this,arguments)}}());function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.id,f=self.crypto.getRandomValues(new Uint8Array(32)),g=(yield d("WAWebBotMessageSecret").genBotMsgSecretFromMsgSecret(f)),h=babelHelpers["extends"]({},yield d("WAWebMsgDataUtils").genOutgoingMsgData(a,d("WAWebMsgType").MSG_TYPE.PROTOCOL),{type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.Protocol,subtype:"bot_request_welcome",messageSecret:f,botMessageSecret:new Uint8Array(g)}),i=new(d("WAWebMsgModel").Msg)(h);a.hasRequestedWelcomeMsg=!0;yield d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("sendMessage",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebDBProcessMessage").storeMessages([h],e);var a=(yield d("WAWebSendMsgRecordAction").sendMsgRecord(i));if(a.messageSendResult===d("WAWebSendMsgResultAction").SendMsgResult.OK){var f=c("WAWebBotWelcomeRequestSync").getBotWelcomeRequestSetMutation(e,!0);yield d("WAWebSyncd").lockForSync(["chat"],[f],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];return a.merge(e.toString(),{hasRequestedWelcomeMsg:!0})});return function(b){return a.apply(this,arguments)}}())}return a}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()});return k.apply(this,arguments)}g.sendBotRequestWelcome=a}),98);
__d("WAWebUseMaybeRequestWelcomeMessage",["WAWebBotGating","WAWebBotTos","WAWebBotTypes","WAWebSendBotRequestWelcomeAction","WAWebTos","WAWebUseBusinessProfile.react","react","useWAWebListener","useWAWebModelValues","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=d("useWAWebModelValues").useModelValues(a,["hasRequestedWelcomeMsg"]),e=b.hasRequestedWelcomeMsg;b=(b=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot1pEnabled()||d("WAWebBotGating").isBizBot3pAvailable()?a.id:null,["isBizBot1p","welcomeMsgProtocolMode"]))!=null?b:{};var f=b.isBizBot1p,g=b.welcomeMsgProtocolMode,h=c("useWAWebStableCallback")(function(){var b=g!=null&&g!==d("WAWebBotTypes").BotWelcomeMsgProtocolModeType.NONE;(d("WAWebBotGating").isBizBot1pEnabled()&&f===!0||d("WAWebBotGating").isBizBot3pAvailable()&&b)&&d("WAWebBotTos").hasAcceptedBizBotTos()&&!e&&void d("WAWebSendBotRequestWelcomeAction").sendBotRequestWelcome(a)});d("useWAWebListener").useListener(d("WAWebTos").TosManager,"change",h);i(function(){return h()},[f,g,a])}g.useMaybeRequestWelcomeMessage=a}),98);
__d("WAWebSetChatOpenedAction",["WAWebDBUpdateChatTable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b={hasOpened:!0};yield d("WAWebDBUpdateChatTable").updateChatTable(a.id,b);a.set(b)});return h.apply(this,arguments)}g.setChatHasOpened=a}),98);
__d("useWAWebChatOpenMetrics",["WAWebFMXTrustSignals","WAWebFindCommonGroupsContactAction","WAWebFmxActionWamEvent","WAWebSetChatOpenedAction","WAWebWamEnumFmxEntryPoint","WAWebWamEnumFmxEvent","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){i(function(){a.hasOpened!==!0&&(d("WAWebSetChatOpenedAction").setChatHasOpened(a)["catch"](function(){}),self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a.msgs.some(function(a){return a.subtype==="contact_info_card"});if(b){new(d("WAWebFmxActionWamEvent").FmxActionWamEvent)({fmxEntryPoint:d("WAWebWamEnumFmxEntryPoint").FMX_ENTRY_POINT.FMX_CARD,fmxEvent:d("WAWebWamEnumFmxEvent").FMX_EVENT.FMX_CARD_VIEWED,countryShown:yield d("WAWebFMXTrustSignals").shouldShowCountryCodeTrustSignal(a.contact),notAContactShown:yield d("WAWebFMXTrustSignals").shouldShowContactTrustSignal(a.contact),commonGroupNum:(b=(b=(yield d("WAWebFindCommonGroupsContactAction").findCommonGroups(a.contact)))==null?void 0:b.length)!=null?b:0}).commit()}}),1e3))},[])}g.useChatOpenMetrics=a}),98);
__d("useWAWebConversationPanelActionListeners",["WAWebConversationPanelActions","useWAWebListener"],(function(a,b,c,d,e,f,g){function a(a){d("useWAWebListener").useListener(d("WAWebConversationPanelActions").ConversationPanelActions,"conversation_panel_focus",a.onFocus)}g["default"]=a}),98);
__d("WAWebGroupMsgInfoFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebGroupMsgInfoFlow.react").__setRef("WAWebGroupMsgInfoFlowLoadable").load());return a}),"GroupMsgInfoFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.GroupMsgInfoFlowLoadable=d}),98);
__d("WAWebLoadingMediaViewer.react",["WAWebClassnames","WAWebFbtCommon","WAWebLazyLoadLoading.react","WAWebMediaPanelHeader.scss","WAWebMediaViewerModal.scss","WAWebMenuBar.react","WAWebModalManager","WAWebXViewerIcon","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.error;var b=d("WAWebClassnames").classnamesConvertMeToStylexPlease("overlay",c("WAWebMediaViewerModal.scss").mediaViewer),e=i.jsx(d("WAWebXViewerIcon").XViewerIcon,{}),f=function(){return d("WAWebModalManager").ModalManager.closeMedia()};return i.jsx("div",{children:i.jsxs("div",{className:b,"data-animate-media-viewer":!0,children:[i.jsxs("div",{className:c("WAWebMediaPanelHeader.scss").mediaPanelHeader,children:[i.jsx("div",{className:c("WAWebMediaPanelHeader.scss").info}),i.jsx("div",{className:c("WAWebMediaPanelHeader.scss").mediaPanelTools,children:i.jsx(d("WAWebMenuBar.react").MenuBar,{theme:"strong",children:i.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:e,title:c("WAWebFbtCommon")("Close"),onClick:f})},"media-panel-header")})]}),i.jsx("div",{className:c("WAWebMediaViewerModal.scss").mediaContent,dir:"ltr",onClick:f,children:i.jsx("div",{className:c("WAWebMediaViewerModal.scss").media,children:i.jsx(c("WAWebLazyLoadLoading.react"),{error:a})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaViewerFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingMediaViewer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebMediaViewerFlow.react").__setRef("WAWebMediaViewerFlowLoadable").load());return a}),"MediaViewerFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingMediaViewer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.MediaViewerFlowLoadable=d}),98);
__d("WAWebMerchantDetailsDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizMerchantDetailsDrawer.react").__setRef("WAWebMerchantDetailsDrawerLoadable").load());return a}),"MerchantDetails");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.MerchantDetailsDrawerLoadable=d}),98);
__d("useWAWebConversationPanelChatActionListeners",["fbt","WALogger","WANullthrows","WAWebABProps","WAWebAttachMediaCollection","WAWebAttachMediaFlowLoadable","WAWebBotGating","WAWebChatFlowTypes","WAWebChatPreferenceCollection","WAWebChatSearchDrawer.react","WAWebCmd","WAWebContactCollection","WAWebContactMsgInfoFlowLoadable","WAWebDefaultEphemeralityDrawer.react","WAWebDrawerManager","WAWebEphemeralDrawer.react","WAWebFrontendMsgGetters","WAWebGroupMsgInfoFlowLoadable","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebMediaMissingModal.react","WAWebMediaViewerFlowLoadable","WAWebMerchantDetailsDrawerLoadable","WAWebModalManager","WAWebMsgCollection","WAWebRichTextInputConst","WAWebSendStickerToActiveChatStickersAction","WAWebStickerStoreFlowLoadable","WAWebStreamModel","WAWebToast.react","WAWebToastManager","WAWebVerificationDrawerLoadable","WAWebWamEnumDisappearingModeEntryPointType","WAWebWamEnumMediaPickerOriginType","WAWebWamEnumProfileEntryPoint","WAWebWidFactory","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[UUPN] handleChatInfoDrawer"]);k=function(){return a};return a}var l=i||c("react");function a(){var a,b,e=c("useWAWebUIM")(),f=function(a,b,c,f,g,h,i){d("WALogger").DEV(k()).devConsole(a,b,c,f,g,h,i),d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:a,showFullGroupDescription:b,scrollToParticipantList:c,profileEntryPoint:d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_MENU,sourceGroupChatOrNewsletter:f,focusNewsletterDescriptionOnMount:g,focusGroupSubjectOnMount:h,focusGroupDescriptionOnMount:i},"info-"+a.id.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})},g=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebVerificationDrawerLoadable").VerificationDrawerLoadable,{contact:d("WAWebContactCollection").ContactCollection.assertGet(a),isFirstLevel:!0}),{transition:"slide-left",uim:e})},i=function(a){if(d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.NORMAL){var b;d("WAWebBotGating").isBotEnabled()&&((b=a.invokedBotWid)==null?void 0:b.isBot())?d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebGroupMsgInfoFlowLoadable").GroupMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e}):d("WAWebFrontendMsgGetters").getChat(a).kind===d("WAWebChatFlowTypes").ChatKindType.Chat?d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebContactMsgInfoFlowLoadable").ContactMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e}):d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebGroupMsgInfoFlowLoadable").GroupMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e})}else d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__7Oc8AbKOOJ2__JHASH__"),id:d("WAWebToast.react").genId("msg_info_failed")}))},m=function(a){var b=a.chat,f=a.attachments,g=a.animationName,h=a.initCaption,i=a.onComplete,k=a.fileOrigin,m=a.sendAsSticker,n=a.onSend,o=a.onCancel,p=function(){var a=b.attachMediaContents;if(!a)return;f&&(k?a.processAttachments(f,k,b):(d("WALogger").WARN(j()),a.processAttachments(f,d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,b)))};a=(a=b.getComposeContents())==null?void 0:a.text;if(a!=null&&d("WAWebBotGating").isBotEnabled()){var q=new RegExp(d("WAWebRichTextInputConst").userJidRegexStr,"g"),r=q.exec(a);while(r!=null){var s=d("WAWebWidFactory").createWid(r[1]);if(s.isBot())return;r=q.exec(a)}}d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){if(a){p();return}b.attachMediaContents||b.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:b.getParticipantCount()}));a=c("WANullthrows")(b.attachMediaContents);d("WAWebDrawerManager").DrawerManager.openDrawerMid(l.jsx(d("WAWebAttachMediaFlowLoadable").AttachMediaFlowLoadable,{chat:b,onComplete:i,onSend:n,onCancel:o,onDismiss:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},initCaption:h,mediaCollection:a,sendAsSticker:m}),{transition:g||"slide-up",uim:e,noFocus:!0,onEnterAnimationComplete:p,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})},n=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebChatSearchDrawer.react"),{chat:a}),{transition:"slide-left",uim:e})},o=function(a){var b=a.msg,f=a.getZoomNode,g=a.currentTime;a=a.highlightedMsgIds;d("WAWebMsgCollection").MsgCollection.get(b.id)?d("WAWebModalManager").ModalManager.openMedia(l.jsx(d("WAWebMediaViewerFlowLoadable").MediaViewerFlowLoadable,{msg:b,startTime:g,getZoomNode:f,highlightedMsgIds:a}),{transition:"media-viewer",uim:c("WANullthrows")(e)}):d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebMediaMissingModal.react"),{msg:b}))},p=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebDefaultEphemeralityDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},entryPoint:a}),{transition:"slide-left",uim:e})},q=function(a,b,f){var g=a.isGroup?d("WAWebWamEnumDisappearingModeEntryPointType").DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:d("WAWebWamEnumDisappearingModeEntryPointType").DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebEphemeralDrawer.react"),{chat:a,showNux:b,entryPoint:f,onDDMSettingsClick:function(){return p(g)}}),{transition:"slide-left",uim:e})},r=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebMerchantDetailsDrawerLoadable").MerchantDetailsDrawerLoadable,{contactId:a,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"legal-entity-details"),{transition:"slide-left",uim:e})},s=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebStickerStoreFlowLoadable").StickerStoreFlowLoadable,{stickerPackId:a,onSticker:c("WAWebSendStickerToActiveChatStickersAction")}),{transition:"slide-left",uim:e})};(a=d("useWAWebListener")).useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_open",function(a){d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")&&a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()});a.useListener((b=d("WAWebCmd")).Cmd,"chat_info_drawer",f);a.useListener(b.Cmd,"msg_info_drawer",i);a.useListener(b.Cmd,"chat_search",n);a.useListener(b.Cmd,"attach_media_drawer",m);a.useListener(b.Cmd,"verification_drawer",g);a.useListener(b.Cmd,"media_viewer_modal",o);a.useListener(b.Cmd,"ephemeral_drawer",q);a.useListener(b.Cmd,"merchant_details_drawer",r);a.useListener(b.Cmd,"open_sticker_pack",s)}g["default"]=a}),226);
__d("useWAWebConversationPanelDragHandlers",["WAWebCmd","WAWebDataTransfer","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useRef;function a(a,b){var e=b.canCompose,f=b.onDragEnter,g=i(!1),h=i(null);b=function(a){if(!e)return;g.current=!0};var j=function(a){if(!e)return;g.current=!1},k=function(b){if(!e)return;var i=h.current;if(i!=null){var j=i.getCurrentComposeContent();f();var k=new(c("WAWebDataTransfer"))(b.dataTransfer);!g.current&&k.hasType("Files")&&(i.flushSaveComposeContentDebounced(),d("WAWebCmd").Cmd.attachMediaDrawer({chat:a,initCaption:j,onComplete:i.updateTextAfterMediaDrawerClose}),b.stopPropagation(),b.preventDefault())}};b={onDragStart:b,onDragEnd:j,onDragEnter:k};return[h,b]}g["default"]=a}),98);
__d("useWAWebConversationPanelEphemeralNux",["WAWebChatEphemerality","WAWebCmd","WAWebNux","WAWebWamEnumEphemeralSettingEntryPointType","react","useWAWebListener","useWAWebNux"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=c("useWAWebNux")(d("WAWebNux").NUX.EPHEMERAL),e=b[0];b=null;e&&(a.isGroup&&a.groupMetadata!=null?b=a.groupMetadata:a.isUser&&(b=a));var f=function(){e&&d("WAWebChatEphemerality").isEphemeralSettingOn(a)&&!1&&d("WAWebCmd").Cmd.ephemeralDrawer(a,!0,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.EPHEMERAL_NUX)};i(f,[]);d("useWAWebListener").useListener(b,"change:ephemeralDuration",f)}g["default"]=a}),98);
__d("useWAWebConversationPanelFiller.react",["Promise","WAAbortError","WAFilteredCatch","WAPromiseRaceAbort","WAWebMiscErrors","WAWebVelocityAnimate","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef;function a(a){var e=a.canCompose,f=a.selectable,g=a.setScrollBottom,i=a.getScrollBottom,j=a.onComposeHeightChange,n=m(null),o=m(0),p=m(null),q=m(),r=m(!1);l(function(){e||(o.current=0)},[e]);var s=function(a){return Math.max(0,o.current)},t=function(){var a=s();n.current&&(n.current.style.height=a+"px")};a=function(a,e){var f=a.input;a=a.overlay;var k=a===void 0?0:a,l=p.current,m=i();if(!l||m==null)return;if(f!==void 0){j(f);return}if(e){o.current=k;t();g(m);return}o.current+=k;k<0&&(t(),g(m));if(q.current){r.current=!0;(a=q.current)==null?void 0:a.controller.abort()}f=new AbortController();var n=f.signal;a=(((e=q.current)==null?void 0:e.promise)||(h||(h=b("Promise"))).resolve()).then(function(){return c("WAWebVelocityAnimate")(l,{translateY:k>0?[-k,0]:[0,k]},{duration:300,easing:[.1,.82,.25,1]})});e=c("WAPromiseRaceAbort")(a,n)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,function(){})).then(function(){if(n.aborted)throw new(d("WAAbortError").AbortError)();k>0&&t();l.style.transform="";k>0&&g(m)})["catch"](d("WAAbortError").catchAbort(function(){c("WAWebVelocityAnimate")(l,"finish",!0)})).then(function(){r.current?r.current=!1:q.current=void 0});q.current={promise:e,controller:f}};var u;f?u=k.jsx("div",{ref:n,className:"x1c4vz4f x2lah0s xdl72j9 x14yy4lh"}):e&&(u=k.jsx("div",{ref:n,style:{height:s()+"px"},className:"x1c4vz4f x2lah0s xdl72j9 x14yy4lh"}));return{msgPanelRef:p,filler:u,handleComposeHeightChange:a}}g["default"]=a}),98);
__d("useWAWebConversationPanelMessageSelection",["WANullthrows","WAWebMultiSelection","WAWebRevokeMetricUtils","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a){var b=i(!1),e=b[0],f=b[1],g=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})});b=function(){d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),f(!0)};var h=function(b,d,e){if(!b||!a)return;b=a.indexOf(b);if(!b)return;d=a.indexOf(d);var f=d>b?-1:1;b=b+(e?f:d<b?0:f*2);while(d!==b)g.current.setVal(c("WANullthrows")(a.at(d)).safe(),e,!0),d+=f},j=function(a,b,c){f(!0);var e=g.current.getSelected().pop();c=(c==null?void 0:c.shiftKey)===!0;g.current.setVal(a,b,!0);b&&d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected();c&&h(e,a,b)},k=function(){if(!e)return;g.current.unsetAll();f(!1)};d("useWAWebListener").useListener(a,"remove",function(a){g.current.isSelected(a)&&j(a,!1)});return{selectable:e,selectedMessages:g.current,handleSelectMessages:b,handleMessageSelect:j,handleCancelSelection:k}}g["default"]=a}),98);
__d("WAWebWebcChatOpenWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcChatOpen:[864,{webcChatOpenBeforePaintT:[7,a.TYPES.TIMER],webcChatOpenPaintedT:[6,a.TYPES.TIMER],webcChatOpenT:[2,a.TYPES.TIMER],webcFinalRenderedMessageCount:[5,a.TYPES.INTEGER],webcRenderedMessageCount:[4,a.TYPES.INTEGER],webcUnreadCount:[1,a.TYPES.NUMBER],webcWindowHeightFloat:[8,a.TYPES.NUMBER]},[1,1,5],"regular"]},{WebcChatOpen:[]});g.WebcChatOpenWamEvent=b}),98);
__d("useWAWebConversationPanelMetrics",["WAQplTypes","WAWebGroupType","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRenderCursorGetWindowHeight","WAWebUiActionWamEvent","WAWebWamAddressingModeUtils","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumUiActionChatType","WAWebWamEnumUiActionType","WAWebWamGroupMetricUtils","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","WAWebWebcChatOpenWamEvent","useLazyRef","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g){function a(a,b){var e=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0})}),f=e.current;e=c("useLazyRef")(function(){return new(d("WAWebWebcChatOpenWamEvent").WebcChatOpenWamEvent)({webcUnreadCount:a.unreadCount,webcWindowHeightFloat:c("WAWebRenderCursorGetWindowHeight")()})});var g=e.current;e=c("useLazyRef")(function(){return d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,{annotations:{"int":{unreadMessageCount:a.unreadCount,windowHeight:c("WAWebRenderCursorGetWindowHeight")()}},closePreviousInstanceWithAction:d("WAQplTypes").QuickLogActionType.ABORTED,instanceKeyOption:d("WAQplTypes").QplInstanceKeyOptions.AUTO_INCREMENT}).instanceKey});var i=e.current;c("useWAWebRenderCallbacks")({onMount:function(){var c=b();c!=null&&(g.webcRenderedMessageCount=c);g.markWebcChatOpenT();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"chat_open",{instanceKey:i});c=a.groupMetadata;if(a.isGroup&&c!=null){var e=c.isCag;e!=null&&(f.isLid=e);c.cachedDeviceSizeBucket!=null&&(f.sizeBucket=c.cachedDeviceSizeBucket,Object.assign(f,d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(c)));Object.assign(f,d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(c))}else f.isLid=a.id.isLid();a.id.isBot()&&(f.agentEngagementType=d("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT);f.botType=d("WAWebWamMsgUtils").getWamBotType(a.id,null,(e=a.contact.businessProfile)==null?void 0:e.automatedType);f.uiActionChatType=h(a);f.markUiActionT();f.commit();d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()},onBeforePaint:function(){g.markWebcChatOpenBeforePaintT(),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"painted_start",{instanceKey:i})},onAfterPaint:function(){var a=b();a!=null&&(g.webcFinalRenderedMessageCount=a,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,{"int":{finalRenderedMessageCount:a}},{instanceKey:i}));g.markWebcChatOpenPaintedT();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"painted_end",{instanceKey:i});g.commit();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.SUCCESS,{instanceKey:i})},onUnmount:function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.CANCEL,{instanceKey:i})},onError:function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.FAIL,{instanceKey:i})}})}function h(a){if(a.isGroup){var b;if(((b=a.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP)return d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.DEFAULT_SUBGROUP;return((b=a.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP?d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.SUBGROUP:d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.GROUP}return a.isNewsletter?d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.CHANNEL:d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.INDIVIDUAL}g["default"]=a}),98);
__d("WAWebDeleteExpiredPinsAction",["WAWebPinInChatCollection","WAWebPinMessageAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebPinMessageAction").seekAndDestroyExpiredPins(d("WAWebPinInChatCollection").PinInChatCollection.byChatId(d("WAWebWidFactory").toChatWid(a)).toArray())});return function(b){return a.apply(this,arguments)}}();g.deleteExpiredPins=a}),98);
__d("WAWebSupportAIInfoNuxLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingConfirmPopup.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebSupportAIInfoNux.react").__setRef("WAWebSupportAIInfoNuxLoadable").load());return a}),"SupportAIInfoChatNux");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingConfirmPopup.react"),{error:Boolean(a.error)})}});g.SupportAIInfoNuxLoadable=d}),98);
__d("WAWebSupportChatConfirmationModal.react",["WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSupportChatStrings","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(){return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsx(d("WAWebFlex.react").FlexColumn,{children:i.jsx(d("WAWebWDSText.react").WDSTextSmall,{children:d("WAWebSupportChatStrings").SupportChatConfirmationModalText()})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSupportChatUtils",["WALogger","WAWebApiChat","WAWebDrawerManager","WAWebHandleSingleMsg","WAWebModalManager","WAWebOpenChatFlow.react","WAWebSagaSystemMsg","WAWebSupportAIInfoNuxLoadable","WAWebSupportAiSessionWamEvent","WAWebSupportChatConfirmationModal.react","WAWebWamEnumSupportAiEventType","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["InAppSupport: Error opening support chat: ",""]);i=function(){return a};return a}var j=h||c("react");function a(){new(d("WAWebSupportAiSessionWamEvent").SupportAiSessionWamEvent)({supportAiEventType:d("WAWebWamEnumSupportAiEventType").SUPPORT_AI_EVENT_TYPE.SUPPORT_AI_SCREEN_SHOWN_ON_THE_CHAT}).commit(),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebSupportAIInfoNuxLoadable").SupportAIInfoNuxLoadable,{}),{transition:"modal-flow"})}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebWidFactory").createWid(a),f=(yield d("WAWebApiChat").getChatRecord(e));d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebOpenChatFlow.react").OpenChatFlow,{chatId:e,onSuccess:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft(),b&&(f&&void d("WAWebHandleSingleMsg").handleSingleMsg(e,d("WAWebSagaSystemMsg").genSagaInitSystemMsg(e)))},msgText:null,customError:j.jsx("div",{children:j.jsx(c("WAWebSupportChatConfirmationModal.react"),{})}),onError:function(a){d("WALogger").WARN(i(),a)}}),{transition:"modal-flow"})});return k.apply(this,arguments)}g.openSupportAINux=a;g.openSupportChat=e}),98);
__d("WAWebUpdateDuplicatedLidThreadChatAction",["WALogger","WAWebApiChat","WAWebApiContact","WAWebChatCollection","WAWebSchemaChat","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateChatIsDeprecated: reactivating a lid chat"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateChatIsDeprecated - false: chatId is ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateChatIsDeprecated: deprecating a lid chat"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateChatIsDeprecated - true: chatId is ",""]);k=function(){return a};return a}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=!1,e=!1,f=a.contact.phoneNumber;if(f!=null){b=d("WAWebChatCollection").ChatCollection.get(f)!=null;f=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(f));f!=null&&(e=!c("WAWebWid").equals(a.id,f))}f=b||e;f!==a.isDeprecated&&(yield m(a.id,f))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.isLid()){var c=d("WAWebChatCollection").ChatCollection.get(a);if(c==null||c.isDeprecated===b)return;var e={isDeprecated:b};c.set(e);d("WAWebApiChat").updateDeprecatedChatMatCache_DEPRECATED(a,b);b?(d("WALogger").LOG(k(),a.toLogString()),d("WALogger").WARN(j()).sendLogs("deprecating-lid-chat-pnh-ctwa-mat")):(d("WALogger").LOG(i(),a.toLogString()),d("WALogger").WARN(h()).sendLogs("reactivating-lid-chat-pnh-ctwa-mat"));yield d("WAWebSchemaChat").getChatTable().merge(c.id.toString(),e)}});return n.apply(this,arguments)}g.updateDuplicatedLidThread=a}),98);
__d("useWAWebConversationPanelOpenChat",["WAJids","WALogger","WAWebABProps","WAWebABPropsSaga","WAWebAddonHydrationUtils","WAWebBlockContactAction","WAWebChatGroupUtils","WAWebCmd","WAWebCommunityGatingUtils","WAWebDeleteExpiredPinsAction","WAWebGroupType","WAWebMembershipApprovalRequestAction","WAWebMiscGatingUtils","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNux","WAWebPinMsgGatingUtils","WAWebPnhGatingUtils","WAWebQueryAndUpdateNewslettersMetadataAction","WAWebRestoreSubgroupSuggestionsAction","WAWebSupportChatUtils","WAWebSuspendedCommunityUtils","WAWebSuspendedGroupUtils","WAWebUpdateDuplicatedLidThreadChatAction","WAWebWid","react","useWAWebGroupParticipantStatus","useWAWebNux","useWAWebSetModelValue"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["useOpenChat: error reading pins from DB: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["useOpenChat: error deleting expired pins from DB: ",""]);j=function(){return a};return a}var k=(h||d("react")).useEffect;function a(a){var b=d("useWAWebSetModelValue").useSetModelValue(a,"active"),e=c("useWAWebGroupParticipantStatus")(a.groupMetadata);e[0];var f=e[1];e=c("useWAWebNux")(d("WAWebNux").NUX.SUPPORT_AI);var g=e[0];k(function(){c("WAWebWid").isPSA(a.id)&&d("WAWebBlockContactAction").updatePSAUserBlockingStatus(a.id);b(!0);var e=a.groupMetadata;if(e!=null){var h=e.groupType,k=e.participants,l=e.membershipApprovalMode;(h===d("WAWebGroupType").GroupType.DEFAULT||h===d("WAWebGroupType").GroupType.LINKED_SUBGROUP)&&(k.iAmAdmin()||d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&f)&&l&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebMembershipApprovalRequestAction").readMembershipApprovalRequestsFromDB(a);if(h===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&k.iAmAdmin()&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled()){l=e.getParentGroupChat();l&&void d("WAWebRestoreSubgroupSuggestionsAction").restoreSubgroupSuggestionsFromDb(l)}}a.id.isCAPISupportAccount()&&d("WAWebABPropsSaga").getIsSagaV1ReengagementEnabled()&&g&&d("WAWebSupportChatUtils").openSupportAINux();a.id.isNewsletter()&&!((h=a.newsletterMetadata)==null?void 0:h.isPreview)&&void d("WAWebQueryAndUpdateNewslettersMetadataAction").queryAndUpdateNewsletterMetadataAction(d("WAJids").toNewsletterJid(a.id.toString()),{fields:{subscribers:!0,verification:!0},adminFields:{adminCount:d("WAWebNewsletterMembershipUtil").iAmOwner(a.newsletterMetadata)?!0:void 0,capabilities:d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a.newsletterMetadata)&&d("WAWebNewsletterGatingUtils").shouldFetchAndLogCapabilities()?!0:void 0}});d("WAWebPinMsgGatingUtils").isPinnedMessagesM1ReceiverEnabled()&&d("WAWebDeleteExpiredPinsAction").deleteExpiredPins(a.id)["catch"](function(a){d("WALogger").ERROR(j(),a).sendLogs("use-open-chat-delete-expired-pins-from-db-error")}).then(function(){void d("WAWebAddonHydrationUtils").hydrateAddons({ids:[a.id],hydrationType:d("WAWebMsgType").MSG_TYPE.PIN_MESSAGE})})["catch"](function(a){d("WALogger").ERROR(i(),a).sendLogs("use-open-chat-read-pins-from-db-error")});if(a.attachMediaContents){k=a.attachMediaContents.isStickerMaker;d("WAWebCmd").Cmd.attachMediaDrawer({chat:a,animationName:"noop",sendAsSticker:k})}d("WAWebChatGroupUtils").isIntegrityDeactivatedCommunityAnnouncementGroup(a)?d("WAWebSuspendedCommunityUtils").openTerminatedCommunityModal():d("WAWebChatGroupUtils").isDeactivatedCommunityAnnouncementGroup(a)||(d("WAWebChatGroupUtils").isSuspendedCommunityAnnouncementGroup(a)?d("WAWebSuspendedCommunityUtils").openSuspendedCommunityModal(a):d("WAWebChatGroupUtils").isTerminatedGroupOrNotMember(a)?d("WAWebChatGroupUtils").isSupportGroup(a)||(d("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()?d("WAWebSuspendedGroupUtils").openSuspendedGroupModalV2(a):d("WAWebSuspendedGroupUtils").openTerminatedGroupOrNotMemberModal()):d("WAWebChatGroupUtils").isSuspendedGroup(a)?d("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()?d("WAWebSuspendedGroupUtils").openSuspendedGroupModalV2(a):d("WAWebSuspendedGroupUtils").openSuspendedGroupModal(d("WAWebChatGroupUtils").shouldIncludeEntityIdInAppealRequest()===!0?a.id.user.toString():null):a.id.isLid()&&d("WAWebPnhGatingUtils").isMatFullyEnabled()&&void d("WAWebUpdateDuplicatedLidThreadChatAction").updateDuplicatedLidThread(a));return function(){a.urlText&&(a.urlText=void 0),a.urlNumber&&(a.urlNumber=void 0),b(!1)}},[])}g["default"]=a}),98);
__d("WAWebNewsletterPrivacyMsgBar.react",["fbt","WAWebCopyPasteSelectable.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebNewsletterPhoneNumberPrivacyNux.react","WAWebRoundXInvIcon","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useCallback,m={dismissButton:{display:"x78zum5",$$css:!0}};function a(a){a=a.onDismiss;var b=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebNewsletterPhoneNumberPrivacyNux.react").NewsletterPhoneNumberNux,{}))},[]);b=k.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{className:"x1ypdohk",id:"data-sharing-learn-more-link",selectable:!0,onClick:b,children:c("WAWebFbtCommon")("Learn more")});return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{grow:1,children:k.jsxs("span",{className:"x126k92a","data-testid":void 0,children:[h._("__JHASH__09i60qQLQnl__JHASH__")," ",b]})}),k.jsx(d("WAWebFlex.react").FlexItem,{grow:0,basis:0,align:"center",children:k.jsx(c("WAWebUnstyledButton.react"),{onClick:a,xstyle:m.dismissButton,children:k.jsx(d("WAWebRoundXInvIcon").RoundXInvIcon,{height:15})})})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterPrivacyMsgBar=a}),226);
__d("useWAWebNewsletterPrivacyBanner",["WAWebNewsletterPrivacyMsgBar.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useState;function m(a){var b;return a.isNewsletter&&((b=a.newsletterMetadata)==null?void 0:b.isPreview)===!0&&!a.isSuspendedOrTerminated()}function a(a){var b=l(m(a)),c=b[0],e=b[1];d("useWAWebListener").useListener(a.newsletterMetadata,["change:isPreview"],function(){return e(m(a))});b=k(function(){e(!1)},[]);return c?j.jsx(d("WAWebNewsletterPrivacyMsgBar.react").NewsletterPrivacyMsgBar,{onDismiss:b}):null}g["default"]=a}),98);
__d("WAWebConversationPanel.react",["WAWebAnimationGroupItem.react","WAWebChatGroupUtils","WAWebComposeBox.react","WAWebCongratulationsAnimationConversation.react","WAWebCongratulationsAnimationsGatingUtils","WAWebConversationBackground.react","WAWebConversationMsgs.react","WAWebConversationPanel.scss","WAWebConversationPanelBanner.react","WAWebConversationSpam.react","WAWebConversationSpamUtils","WAWebGroupType","WAWebHeader.react","WAWebMultiSelectBar.react","WAWebNewsletterMembershipUtil","WAWebNewsletterSuspendedConversationPanelBody.react","WAWebSystemMessageGatingUtils","WAWebTimeSpentLoggingNavigation","WAWebUimUie.react","WAWebUseBizBotTos","WAWebUseMaybeRequestWelcomeMessage","WAWebVelocityTransitionGroup","react","useWAWebChatOpenMetrics","useWAWebCommunityNux","useWAWebConversationPanelActionListeners","useWAWebConversationPanelCanCompose","useWAWebConversationPanelChatActionListeners","useWAWebConversationPanelDragHandlers","useWAWebConversationPanelEphemeralNux","useWAWebConversationPanelFiller.react","useWAWebConversationPanelMessageSelection","useWAWebConversationPanelMetrics","useWAWebConversationPanelOpenChat","useWAWebEventTargetValue","useWAWebModelValues","useWAWebNewsletterOpenMetrics","useWAWebNewsletterPrivacyBanner","useWAWebShowCommunitySubjectSyncIssue"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useRef,m=b.useState;function a(a){var b,e=a.chat,f=a.chatEntryPoint,g=a.msgCollection,h=a.focusCtx,i=a.groupMetadata,n=l(null),o=m(function(){return!d("WAWebSystemMessageGatingUtils").isGroupContextCardEnabled()}),p=o[0],q=o[1];o=k(function(a){a!==p&&q(a)},[p]);c("useWAWebShowCommunitySubjectSyncIssue")(e);c("useWAWebConversationPanelOpenChat")(e);c("useWAWebCommunityNux")(e);c("useWAWebConversationPanelEphemeralNux")(e);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:e.isNewsletter?"channel-thread":"chat",extras:{groupSize:e.isNewsletter?(b=e.newsletterMetadata)==null?void 0:b.size:(b=e.groupMetadata)==null?void 0:b.participants.length,channelWid:e.isNewsletter?e.id:void 0,typeOfGroup:e.groupMetadata==null?void 0:d("WAWebGroupType").groupTypeToWamEnum(d("WAWebGroupType").getGroupTypeFromGroupMetadata(e.groupMetadata))}});c("useWAWebConversationPanelMetrics")(e,function(){var a;return(a=n.current)==null?void 0:a.getRenderedMessageCount()});d("useWAWebNewsletterOpenMetrics").useNewsletterOpenMetrics(e,f);d("useWAWebChatOpenMetrics").useChatOpenMetrics(e);c("useWAWebConversationPanelChatActionListeners")();d("useWAWebModelValues").useModelValues(e,["isReadOnly","isAnnounceGrpRestrict","isDeprecated","newsletterMetadata"]);b=c("useWAWebNewsletterPrivacyBanner")(e);f=c("useWAWebConversationPanelCanCompose")(e);var r=f[0];f=f[1];var s=m(function(){return!r&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(e)&&d("WAWebConversationSpamUtils").shouldShowSpamPanel(e)}),t=s[0],u=s[1];s=c("useWAWebConversationPanelMessageSelection")(e.msgs);var v=s.selectable,w=s.selectedMessages,x=s.handleSelectMessages,y=s.handleMessageSelect;s=s.handleCancelSelection;var z=c("useWAWebConversationPanelDragHandlers")(e,{canCompose:r,onDragEnter:s}),A=z[0];z=z[1];var B=c("useWAWebConversationPanelFiller.react")({canCompose:r,selectable:v,setScrollBottom:function(a){var b;return(b=n.current)==null?void 0:b.setScrollBottom(a)},getScrollBottom:function(){var a;return(a=n.current)==null?void 0:a.getScrollBottom()},onComposeHeightChange:function(a){var b;return(b=n.current)==null?void 0:b.onComposeHeightChange(a)}}),C=B.msgPanelRef,D=B.filler;B=B.handleComposeHeightChange;var E=function(){var a;(a=n.current)==null?void 0:a.focus()};c("useWAWebConversationPanelActionListeners")({onFocus:E});d("WAWebUseBizBotTos").useBizBot3pTos(e);d("WAWebUseMaybeRequestWelcomeMessage").useMaybeRequestWelcomeMessage(e);E=c("useWAWebEventTargetValue")(e.newsletterMetadata,["change:suspended"],function(){var a;return e.isNewsletter&&((a=e.newsletterMetadata)==null?void 0:a.suspended)===!0});var F=c("useWAWebEventTargetValue")(e.newsletterMetadata,["change:geosuspended"],function(){var a;return e.isNewsletter&&((a=e.newsletterMetadata)==null?void 0:a.geosuspended)===!0}),G=function(a){var b;(b=n.current)==null?void 0:b.onPageUpDown(a)},H,I=null;d("WAWebCongratulationsAnimationsGatingUtils").isCongratulationsAnimationsEnabled()&&(I=j.jsx(d("WAWebCongratulationsAnimationConversation.react").CongratulationsAnimationConversation,{chat:e}));if(v)H=j.jsx(d("WAWebUimUie.react").UIE,{displayName:"MultiSelect",escapable:!0,requestDismiss:s,children:j.jsx(d("WAWebMultiSelectBar.react").MultiSelectBar,{chat:e,selectedMessages:w,noSortOnForward:!1,onCancel:s,entryPoint:d("WAWebMultiSelectBar.react").MultiSelectBarEntryPoint.CONVERSATION_PANEL})}),s=j.jsx("footer",{className:c("WAWebConversationPanel.scss").footer});else if(r)s=j.jsx(d("WAWebComposeBox.react").ComposeBox,{chat:e,ref:A,canShowSpamPanel:p,onComposeHeightChange:B,onPageUpDown:G});else{B=(A=f)!=null?A:b;G=null;p&&t&&e.shouldAppearInList&&e.msgs.length>0&&(G=j.jsx(c("WAWebAnimationGroupItem.react"),{children:j.jsx(c("WAWebConversationSpam.react"),{chat:e,contact:e.contact,onClickNotSpam:function(){u(!1),d("WAWebConversationSpamUtils").acknowledgeGroupAsNotSpam(e)},onClickDismissSpam:function(){return u(!1)}})}));s=B!=null&&j.jsxs("footer",{"data-testid":void 0,className:c("WAWebConversationPanel.scss").footer,children:[G,j.jsx("div",{"data-testid":void 0,className:c("WAWebConversationPanel.scss").footerMessage,children:B})]})}f=E?j.jsx(c("WAWebNewsletterSuspendedConversationPanelBody.react"),{isGeosuspended:F,isAdminOrOwner:d("WAWebNewsletterMembershipUtil").iAmOwner(e.newsletterMetadata)||d("WAWebNewsletterMembershipUtil").iAmAdmin(e.newsletterMetadata)}):j.jsx(c("WAWebConversationMsgs.react"),{ref:n,chat:e,selectable:v,onMessageSelect:y,msgCollection:g,onSelectMessages:x,focusCtx:h,selectedMessages:w,notifyChatRendered:a.notifyChatRendered,updateOpenedChatInfo:a.updateOpenedChatInfo,updateCanShowSpamPanel:d("WAWebSystemMessageGatingUtils").isGroupContextCardEnabled()?o:void 0});return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebConversationBackground.react"),{wallpaper:a.wallpaper,showDoodle:a.showDoodle}),j.jsx(d("WAWebHeader.react").ConversationHeader,{chat:e,contact:e.contact,onSelectMessages:x}),j.jsx(c("WAWebConversationPanelBanner.react"),{chat:e,groupMetadata:i}),j.jsxs("div",babelHelpers["extends"]({className:c("WAWebConversationPanel.scss").body,ref:C},z,{"data-testid":void 0,children:[I,f]})),D,s,j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"slide-up",children:H})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebConversationPanelAnimations",["WAWebVelocityAnimate"],(function(a,b,c,d,e,f,g){function a(a,b){c("WAWebVelocityAnimate")(a,{scaleX:[1,b]},{duration:300,easing:[.1,.82,.25,1]});a=b!==1;return a}g.animateConversationPanel=a}),98);
__d("WAWebConversationPanelWrapper.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={pane:"_ajx_",previewPane:"_ajy0",header:"_ajy1",title:"_ajy2"};b=a;g["default"]=b}),98);
__d("WAWebConversationPanelWrapper.react",["fbt","WAWebABProps","WAWebChatPreferenceCollection","WAWebClassnames","WAWebConversationBackground.react","WAWebConversationPanel.react","WAWebConversationPanel.scss","WAWebConversationPanelAnimations","WAWebConversationPanelWrapper.scss","WAWebErrorBoundary.react","WAWebHeader.scss","WAWebUim","WAWebUimUie.react","WAWebWDSGatingUtils","WAWebWallpaper","react","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useImperativeHandle,m=b.useRef,n=b.useState;e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=a.chatEntryPoint,g=a.msgCollection,i=a.focusCtx,j=a.notifyChatRendered,o=a.updateOpenedChatInfo,p=a.showPreview,q=m(null),r=d("useWAWebModelValues").useModelValues(a.chatPreference,["wallpaper","showDoodle"]),s=d("useWAWebModelValues").useOptionalModelValues(a.chat,["wallpaper","showDoodle"]);function t(){var a;return!p&&d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")?(a=s==null?void 0:s.wallpaper)!=null?a:r.wallpaper:r.wallpaper}var u=n(t()),v=u[0],w=u[1];u=n(t());var x=u[0];u=u[1];d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_preview",function(a){if(d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")){var b;w((b=(b=a)!=null?b:s==null?void 0:s.wallpaper)!=null?b:r.wallpaper)}else{w((b=a)!=null?b:r.wallpaper)}});t=t();x!==t&&(w(t),u(t));var y=function(a,b,c,e){var f;f=(f=q.current)==null?void 0:f.clientWidth;if(f==null||a===b)return!1;var g=f/(a-b);if(e===!0&&c!=null&&c>0){e=a-b-c;g=f/e}return d("WAWebConversationPanelAnimations").animateConversationPanel(q.current,g)},z=function(a){return!q.current?!1:q.current.contains(a)};l(b,function(){return{animatePanel:y,containsDOMNode:z}});x={};v!==d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER&&(x.backgroundColor=v);u=p?k.jsxs(k.Fragment,{children:[k.jsx("header",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebHeader.scss").chatHeader,d("WAWebWDSGatingUtils").materialRefreshEnabled()&&c("WAWebHeader.scss").chatHeaderMaterial,c("WAWebConversationPanelWrapper.scss").header),children:k.jsx("span",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebConversationPanelWrapper.scss").title,c("WAWebHeader.scss").chatTitle),children:h._("__JHASH__noDPub80SFt__JHASH__")})}),k.jsx(c("WAWebConversationBackground.react"),{wallpaper:v,showDoodle:r.showDoodle}),k.jsx("footer",{className:c("WAWebConversationPanel.scss").footer})]}):null;b=e&&g?k.jsx(c("WAWebConversationPanel.react"),{chat:e,chatEntryPoint:f,groupMetadata:e.groupMetadata,focusCtx:i,msgCollection:g,notifyChatRendered:j,updateOpenedChatInfo:o,wallpaper:v,showDoodle:d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")?(t=s==null?void 0:s.showDoodle)!=null?t:r.showDoodle:r.showDoodle},e.id.toString()):null;if(d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")){i=(f=u)!=null?f:b}else{i=(g=b)!=null?g:u}return k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"conversation-panel",children:k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ConversationPanel",uimState:d("WAWebUim").UIMState.INACTIVE,children:k.jsx("div",{id:"main",className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((j={},j[c("WAWebConversationPanelWrapper.scss").previewPane]=a.showPreview,j[c("WAWebConversationPanelWrapper.scss").pane]=!0,j)),style:x,ref:q,"data-testid":void 0,children:i})})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebIntroMdBetaLogoDarkIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="intro-md-beta-logo-dark";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=172;m=303;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 303 172",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 212.365 -11.5738 171.472 8.48673C115.998 35.6999 108.972 40.1612 69.2388 40.1612C39.645 40.1612 9.51317 54.4147 5.74669 92.952C3.01662 120.885 13.9985 145.267 54.6373 157.716C128.599 180.373 198.017 170.844 229.565 160.229Z",fill:"#364147"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.589 68.9422C131.593 68.9422 131.596 68.9422 131.599 68.9422C137.86 68.9422 142.935 63.6787 142.935 57.1859C142.935 50.6931 137.86 45.4297 131.599 45.4297C126.518 45.4297 122.218 48.8958 120.777 53.6723C120.022 53.4096 119.213 53.2672 118.373 53.2672C114.199 53.2672 110.815 56.7762 110.815 61.1047C110.815 65.4332 114.199 68.9422 118.373 68.9422C118.377 68.9422 118.381 68.9422 118.386 68.9422H131.589Z",fill:"#F1F1F2",fillOpacity:.38}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.682 128.716C109.186 128.716 112.026 125.908 112.026 122.446C112.026 118.983 109.186 116.176 105.682 116.176C104.526 116.176 103.442 116.481 102.509 117.015L102.509 116.959C102.509 110.467 97.1831 105.203 90.6129 105.203C85.3224 105.203 80.8385 108.616 79.2925 113.335C78.6052 113.143 77.88 113.041 77.1304 113.041C72.7503 113.041 69.1995 116.55 69.1995 120.878C69.1995 125.207 72.7503 128.716 77.1304 128.716C77.1341 128.716 77.1379 128.716 77.1416 128.716H105.682L105.682 128.716Z",fill:"#F1F1F2",fillOpacity:.38}),j.jsx("rect",{x:.445307,y:.549558,width:50.5797,height:100.068,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.5547 41.6171)",fill:"#42CBA5",stroke:"#316474"}),j.jsx("rect",{x:.445307,y:.549558,width:50.4027,height:99.7216,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.9258 37.9564)",fill:"#EEFAF6",stroke:"#316474"}),j.jsx("path",{d:"M57.1609 51.7354L48.5917 133.759C48.2761 136.78 45.5713 138.972 42.5503 138.654L9.58089 135.189C6.55997 134.871 4.36688 132.165 4.68251 129.144L13.2517 47.1204C13.5674 44.0992 16.2722 41.9075 19.2931 42.2251L24.5519 42.7778L47.0037 45.1376L52.2625 45.6903C55.2835 46.0078 57.4765 48.7143 57.1609 51.7354Z",fill:"#DFF3ED",stroke:"#316474"}),j.jsx("path",{d:"M26.2009 102.937C27.0633 103.019 27.9323 103.119 28.8023 103.21C29.0402 101.032 29.2706 98.8437 29.4916 96.6638L26.8817 96.39C26.6438 98.5681 26.4049 100.755 26.2009 102.937ZM23.4704 93.3294L25.7392 91.4955L27.5774 93.7603L28.7118 92.8434L26.8736 90.5775L29.1434 88.7438L28.2248 87.6114L25.955 89.4452L24.1179 87.1806L22.9824 88.0974L24.8207 90.3621L22.5508 92.197L23.4704 93.3294ZM22.6545 98.6148C22.5261 99.9153 22.3893 101.215 22.244 102.514C23.1206 102.623 23.9924 102.697 24.8699 102.798C25.0164 101.488 25.1451 100.184 25.2831 98.8734C24.4047 98.7813 23.5298 98.6551 22.6545 98.6148ZM39.502 89.7779C38.9965 94.579 38.4833 99.3707 37.9862 104.174C38.8656 104.257 39.7337 104.366 40.614 104.441C41.1101 99.6473 41.6138 94.8633 42.1271 90.0705C41.2625 89.9282 40.3796 89.8786 39.502 89.7779ZM35.2378 92.4459C34.8492 96.2179 34.4351 99.9873 34.0551 103.76C34.925 103.851 35.7959 103.934 36.6564 104.033C37.1028 100.121 37.482 96.1922 37.9113 92.2783C37.0562 92.1284 36.18 92.0966 35.3221 91.9722C35.2812 92.1276 35.253 92.286 35.2378 92.4459ZM31.1061 94.1821C31.0635 94.341 31.0456 94.511 31.0286 94.6726C30.7324 97.5678 30.4115 100.452 30.1238 103.348L32.7336 103.622C32.8582 102.602 32.9479 101.587 33.0639 100.567C33.2611 98.5305 33.5188 96.4921 33.6905 94.4522C32.8281 94.3712 31.9666 94.2811 31.1061 94.1821Z",fill:"#316474"}),j.jsx("path",{d:"M17.892 48.4889C17.7988 49.3842 18.4576 50.1945 19.3597 50.2923C20.2665 50.3906 21.0855 49.7332 21.1792 48.8333C21.2724 47.938 20.6136 47.1277 19.7115 47.0299C18.8047 46.9316 17.9857 47.5889 17.892 48.4889Z",fill:"white",stroke:"#316474"}),j.jsx("path",{d:"M231.807 136.678L197.944 139.04C197.65 139.06 197.404 139.02 197.249 138.96C197.208 138.945 197.179 138.93 197.16 138.918L196.456 128.876C196.474 128.862 196.5 128.843 196.538 128.822C196.683 128.741 196.921 128.668 197.215 128.647L231.078 126.285C231.372 126.265 231.618 126.305 231.773 126.365C231.814 126.381 231.842 126.395 231.861 126.407L232.566 136.449C232.548 136.463 232.522 136.482 232.484 136.503C232.339 136.584 232.101 136.658 231.807 136.678Z",fill:"white",stroke:"#316474"}),j.jsx("path",{d:"M283.734 125.679L144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2005 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679Z",fill:"#EEFAF6"}),j.jsx("path",{d:"M144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2004 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679",stroke:"#316474"}),j.jsx("path",{d:"M278.565 121.405L148.68 130.463C146.256 130.632 144.174 128.861 144.012 126.55L138.343 45.695C138.181 43.3846 139.994 41.3414 142.419 41.1723L272.304 32.1142C274.731 31.945 276.81 33.7166 276.972 36.0271L282.641 116.882C282.803 119.193 280.992 121.236 278.565 121.405Z",fill:"#DFF3ED",stroke:"#316474"}),j.jsx("path",{d:"M230.198 129.97L298.691 125.193L299.111 131.189C299.166 131.97 299.013 132.667 298.748 133.161C298.478 133.661 298.137 133.887 297.825 133.909L132.794 145.418C132.482 145.44 132.113 145.263 131.777 144.805C131.445 144.353 131.196 143.684 131.141 142.903L130.721 136.907L199.215 132.131C199.476 132.921 199.867 133.614 200.357 134.129C200.929 134.729 201.665 135.115 202.482 135.058L227.371 133.322C228.188 133.265 228.862 132.782 229.345 132.108C229.758 131.531 230.05 130.79 230.198 129.97Z",fill:"#42CBA5",stroke:"#316474"}),j.jsx("path",{d:"M230.367 129.051L300.275 124.175L300.533 127.851C300.591 128.681 299.964 129.403 299.13 129.461L130.858 141.196C130.025 141.254 129.303 140.627 129.245 139.797L128.987 136.121L198.896 131.245C199.485 132.391 200.709 133.147 202.084 133.051L227.462 131.281C228.836 131.185 229.943 130.268 230.367 129.051Z",fill:"#EEFAF6",stroke:"#316474"}),j.jsx("ellipse",{rx:15.9969,ry:15.9971,transform:"matrix(0.997577 -0.0695704 0.0699429 0.997551 210.659 83.553)",fill:"#42CBA5",stroke:"#316474"}),j.jsx("path",{d:"M208.184 87.1094L204.777 84.3593C204.777 84.359 204.776 84.3587 204.776 84.3583C203.957 83.6906 202.744 83.8012 202.061 84.6073C201.374 85.4191 201.486 86.6265 202.31 87.2997L202.312 87.3011L207.389 91.4116C207.389 91.4119 207.389 91.4121 207.389 91.4124C208.278 92.1372 209.611 91.9373 210.242 90.9795L218.283 78.77C218.868 77.8813 218.608 76.6968 217.71 76.127C216.817 75.5606 215.624 75.8109 215.043 76.6939L208.184 87.1094Z",fill:"white",stroke:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IntroMdBetaLogoDarkIcon=a}),98);
__d("WAWebIntroMdBetaLogoLightIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="intro-md-beta-logo-light";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=172;m=303;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 303 172",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 212.365 -11.5738 171.472 8.48673C115.998 35.6999 108.972 40.1612 69.2388 40.1612C39.645 40.1612 9.51318 54.4147 5.7467 92.952C3.0166 120.885 13.9985 145.267 54.6373 157.716C128.599 180.373 198.017 170.844 229.565 160.229Z",fill:"#DAF7F3"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.589 68.9422C131.593 68.9422 131.596 68.9422 131.599 68.9422C137.86 68.9422 142.935 63.6787 142.935 57.1859C142.935 50.6931 137.86 45.4297 131.599 45.4297C126.518 45.4297 122.218 48.8958 120.777 53.6723C120.022 53.4096 119.213 53.2672 118.373 53.2672C114.199 53.2672 110.815 56.7762 110.815 61.1047C110.815 65.4332 114.199 68.9422 118.373 68.9422C118.377 68.9422 118.381 68.9422 118.386 68.9422H131.589Z",fill:"white"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.682 128.716C109.186 128.716 112.026 125.908 112.026 122.446C112.026 118.983 109.186 116.176 105.682 116.176C104.526 116.176 103.442 116.481 102.509 117.015L102.509 116.959C102.509 110.467 97.1831 105.203 90.6129 105.203C85.3224 105.203 80.8385 108.616 79.2925 113.335C78.6052 113.143 77.88 113.041 77.1304 113.041C72.7503 113.041 69.1995 116.55 69.1995 120.878C69.1995 125.207 72.7503 128.716 77.1304 128.716C77.1341 128.716 77.1379 128.716 77.1416 128.716H105.682L105.682 128.716Z",fill:"white"}),j.jsx("rect",{x:.445307,y:.549558,width:50.5797,height:100.068,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.5547 41.6171)",fill:"#42CBA5",stroke:"#316474"}),j.jsx("rect",{x:.445307,y:.549558,width:50.4027,height:99.7216,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.9258 37.9564)",fill:"white",stroke:"#316474"}),j.jsx("path",{d:"M57.1609 51.7354L48.5917 133.759C48.2761 136.78 45.5713 138.972 42.5503 138.654L9.58089 135.189C6.55997 134.871 4.36688 132.165 4.68251 129.144L13.2517 47.1204C13.5674 44.0992 16.2722 41.9075 19.2931 42.2251L24.5519 42.7778L47.0037 45.1376L52.2625 45.6903C55.2835 46.0078 57.4765 48.7143 57.1609 51.7354Z",fill:"#EEFEFA",stroke:"#316474"}),j.jsx("path",{d:"M26.2009 102.937C27.0633 103.019 27.9323 103.119 28.8023 103.21C29.0402 101.032 29.2706 98.8437 29.4916 96.6638L26.8817 96.39C26.6438 98.5681 26.4049 100.755 26.2009 102.937ZM23.4704 93.3294L25.7392 91.4955L27.5774 93.7603L28.7118 92.8434L26.8736 90.5775L29.1434 88.7438L28.2248 87.6114L25.955 89.4452L24.1179 87.1806L22.9824 88.0974L24.8207 90.3621L22.5508 92.197L23.4704 93.3294ZM22.6545 98.6148C22.5261 99.9153 22.3893 101.215 22.244 102.514C23.1206 102.623 23.9924 102.697 24.8699 102.798C25.0164 101.488 25.1451 100.184 25.2831 98.8734C24.4047 98.7813 23.5298 98.6551 22.6545 98.6148ZM39.502 89.7779C38.9965 94.579 38.4833 99.3707 37.9862 104.174C38.8656 104.257 39.7337 104.366 40.614 104.441C41.1101 99.6473 41.6138 94.8633 42.1271 90.0705C41.2625 89.9282 40.3796 89.8786 39.502 89.7779ZM35.2378 92.4459C34.8492 96.2179 34.4351 99.9873 34.0551 103.76C34.925 103.851 35.7959 103.934 36.6564 104.033C37.1028 100.121 37.482 96.1922 37.9113 92.2783C37.0562 92.1284 36.18 92.0966 35.3221 91.9722C35.2812 92.1276 35.253 92.286 35.2378 92.4459ZM31.1061 94.1821C31.0635 94.341 31.0456 94.511 31.0286 94.6726C30.7324 97.5678 30.4115 100.452 30.1238 103.348L32.7336 103.622C32.8582 102.602 32.9479 101.587 33.0639 100.567C33.2611 98.5305 33.5188 96.4921 33.6905 94.4522C32.8281 94.3712 31.9666 94.2811 31.1061 94.1821Z",fill:"#316474"}),j.jsx("path",{d:"M17.892 48.4889C17.7988 49.3842 18.4576 50.1945 19.3597 50.2923C20.2665 50.3906 21.0855 49.7332 21.1792 48.8333C21.2724 47.938 20.6136 47.1277 19.7115 47.0299C18.8047 46.9316 17.9857 47.5889 17.892 48.4889Z",fill:"white",stroke:"#316474"}),j.jsx("path",{d:"M231.807 136.678L197.944 139.04C197.65 139.06 197.404 139.02 197.249 138.96C197.208 138.945 197.179 138.93 197.16 138.918L196.456 128.876C196.474 128.862 196.5 128.843 196.538 128.822C196.683 128.741 196.921 128.668 197.215 128.647L231.078 126.285C231.372 126.265 231.618 126.305 231.773 126.365C231.814 126.381 231.842 126.395 231.861 126.407L232.566 136.449C232.548 136.463 232.522 136.482 232.484 136.503C232.339 136.584 232.101 136.658 231.807 136.678Z",fill:"white",stroke:"#316474"}),j.jsx("path",{d:"M283.734 125.679L144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2005 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679Z",fill:"white"}),j.jsx("path",{d:"M144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2004 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679",stroke:"#316474"}),j.jsx("path",{d:"M278.565 121.405L148.68 130.463C146.256 130.632 144.174 128.861 144.012 126.55L138.343 45.695C138.181 43.3846 139.994 41.3414 142.419 41.1723L272.304 32.1142C274.731 31.945 276.81 33.7166 276.972 36.0271L282.641 116.882C282.803 119.193 280.992 121.236 278.565 121.405Z",fill:"#EEFEFA",stroke:"#316474"}),j.jsx("path",{d:"M230.198 129.97L298.691 125.193L299.111 131.189C299.166 131.97 299.013 132.667 298.748 133.161C298.478 133.661 298.137 133.887 297.825 133.909L132.794 145.418C132.482 145.44 132.113 145.263 131.777 144.805C131.445 144.353 131.196 143.684 131.141 142.903L130.721 136.907L199.215 132.131C199.476 132.921 199.867 133.614 200.357 134.129C200.929 134.729 201.665 135.115 202.482 135.058L227.371 133.322C228.188 133.265 228.862 132.782 229.345 132.108C229.758 131.531 230.05 130.79 230.198 129.97Z",fill:"#42CBA5",stroke:"#316474"}),j.jsx("path",{d:"M230.367 129.051L300.275 124.175L300.533 127.851C300.591 128.681 299.964 129.403 299.13 129.461L130.858 141.196C130.025 141.254 129.303 140.627 129.245 139.797L128.987 136.121L198.896 131.245C199.485 132.391 200.709 133.147 202.084 133.051L227.462 131.281C228.836 131.185 229.943 130.268 230.367 129.051Z",fill:"white",stroke:"#316474"}),j.jsx("ellipse",{rx:15.9969,ry:15.9971,transform:"matrix(0.997577 -0.0695704 0.0699429 0.997551 210.659 83.553)",fill:"#42CBA5",stroke:"#316474"}),j.jsx("path",{d:"M208.184 87.1094L204.777 84.3593C204.777 84.359 204.776 84.3587 204.776 84.3583C203.957 83.6906 202.744 83.8012 202.061 84.6073C201.374 85.4191 201.486 86.6265 202.31 87.2997L202.312 87.3011L207.389 91.4116C207.389 91.4119 207.389 91.4121 207.389 91.4124C208.278 92.1372 209.611 91.9373 210.242 90.9795L218.283 78.77C218.868 77.8813 218.608 76.6968 217.71 76.127C216.817 75.5606 215.624 75.8109 215.043 76.6939L208.184 87.1094Z",fill:"white",stroke:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IntroMdBetaLogoLightIcon=a}),98);
__d("WAWebIntroPanel.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={intro:"_al_c",body:"_al_d",title:"_al_e",betaTitle:"_al_g",betaText:"_al_h",textContainer:"_al_i",mdTextContainer:"_al_j",secondary:"_al_k",divider:"_al_l",image:"_al_m",mdImageWrapper:"_al_n",mdBetaImage:"_al_o",mdImage:"_al_p",text:"_al_f",secondaryText:"_al_q",secondaryTextBody:"_al_r",secondaryIcon:"_al_s",upgradeElectronBtn:"_al_t",upgradeModalTitle:"_al_u",upgradeModalText:"_al_v",upgradeModalErrorText:"_al_w",encrypted:"_al_x"};b=a;g["default"]=b}),98);
__d("WAWebIntroPanel.react",["fbt","WAWebBizGatingUtils","WAWebButton.react","WAWebConversationPanelAnimations","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebEnvironment","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebIntroMdBetaLogoDarkIcon","WAWebIntroMdBetaLogoLightIcon","WAWebIntroPanel.scss","WAWebLockSmallIcon","WAWebNewsletterGatingUtils","WAWebThemeContext","WAWebUseIsFeatureEnabled","WAWebVelocityAnimate","WAWebWDSText.react","WAWebWamEnumWebcNativeUpsellCtaSourceType","bx","cr:6006","react","useWAWebDesktopUpsellWamImpression"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useContext,m=e.useEffect,n=e.useImperativeHandle,o=e.useRef;e=k.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.animate;a=l(d("WAWebThemeContext").ThemeContext);var g=o(null),i=o(null);m(function(){var a=g.current,b=i.current;f?(c("WAWebVelocityAnimate")(a,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),c("WAWebVelocityAnimate")(b,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(a&&(a.style.opacity="1"),b&&(b.style.opacity="1"))},[]);var j=o(null),q=function(a,b){var c;c=(c=j.current)==null?void 0:c.clientWidth;if(c==null||a===b)return!1;c=c/(a-b);return d("WAWebConversationPanelAnimations").animateConversationPanel(j.current,c)},r=function(a){return!j.current?!1:j.current.contains(a)};n(e,function(){return{animatePanel:q,containsDOMNode:r}});e=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var s,t=!1,u=c("WAWebIntroPanel.scss").textContainer,v=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),w=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("intro_panel"),x=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck(),y=w&&x===!0;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL,isCtaVisible:y});if(w&&x===!0)t=!0,y=k.jsx("div",{ref:g,className:c("WAWebIntroPanel.scss").mdImageWrapper,children:k.jsx("img",{src:v===d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS?c("bx").getURL(c("bx")("482")):c("bx").getURL(c("bx")("484")),width:320,alt:""})}),w=k.jsxs(k.Fragment,{children:[k.jsx("h1",{"data-testid":void 0,className:c("WAWebIntroPanel.scss").title,children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle()}),k.jsx(d("WAWebWDSText.react").WDSTextMuted,{testid:void 0,marginTop:24,children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellIntroPanelText()})]}),s=p({buttonText:d("WAWebDesktopUpsellCommonStrings").getDesktopAppDownloadFromStoreBtnLabel(),onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL)}});else{t=!0;u=c("WAWebIntroPanel.scss").mdTextContainer;y=k.jsx("div",{ref:g,className:c("WAWebIntroPanel.scss").mdImageWrapper,children:a.theme==="light"?k.jsx(d("WAWebIntroMdBetaLogoLightIcon").IntroMdBetaLogoLightIcon,{className_DONOTUSE:c("WAWebIntroPanel.scss").mdBetaImage,width:360}):k.jsx(d("WAWebIntroMdBetaLogoDarkIcon").IntroMdBetaLogoDarkIcon,{className_DONOTUSE:c("WAWebIntroPanel.scss").mdBetaImage,width:360})});x=c("WAWebFbtCommon")("WhatsApp Web");c("WAWebEnvironment").isWindows&&(x=x.toString().replace("Web",String.fromCharCode(102,111,114,32,87,105,110,100,111,119,115)));v=k.jsx("h1",{"data-testid":void 0,children:x});e?w=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:c("WAWebIntroPanel.scss").betaTitle,children:v}),k.jsxs("div",{"data-testid":void 0,className:c("WAWebIntroPanel.scss").betaText,children:[h._("__JHASH__dwbfGks1SZL__JHASH__"),k.jsx("br",{}),h._("__JHASH__4OvUeuh89nF__JHASH__")]})]}):d("WAWebBizGatingUtils").billingEnabled()?w=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:c("WAWebIntroPanel.scss").betaTitle,children:v}),k.jsxs("div",{"data-testid":void 0,className:c("WAWebIntroPanel.scss").betaText,children:[h._("__JHASH__e4p4UsF70rd__JHASH__",[h._implicitParam("=m0",k.jsx("strong",{children:h._("__JHASH__IMvNNTUb6su__JHASH__")}))]),k.jsx("br",{}),h._("__JHASH__lk5zpsvtzMB__JHASH__"),k.jsx("br",{}),k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getWhatsAppBusinessPremiumFaqUrl(),children:h._("__JHASH__ERAv2j3YrgV__JHASH__")})]})]}):(w=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:c("WAWebIntroPanel.scss").betaTitle,children:v}),k.jsxs("div",{"data-testid":void 0,className:c("WAWebIntroPanel.scss").betaText,children:[h._("__JHASH___Rn1waYwbF7__JHASH__"),k.jsx("br",{}),h._("__JHASH__wCqmH-OFHYs__JHASH__")]})]}),s=p(null))}return k.jsx("div",{className:c("WAWebIntroPanel.scss").intro,ref:j,children:k.jsxs("div",{className:c("WAWebIntroPanel.scss").body,children:[y,k.jsxs("div",{ref:i,className:u,children:[w,s,b("cr:6006")?k.jsx("div",{className:c("WAWebIntroPanel.scss").secondary,children:k.jsx(b("cr:6006"),{})}):null]}),t&&k.jsxs("div",{className:c("WAWebIntroPanel.scss").encrypted,children:[k.jsx(d("WAWebLockSmallIcon").LockSmallIcon,{})," ",d("WAWebNewsletterGatingUtils").isNewsletterEnabled()?h._("__JHASH__m8ebBu5d962__JHASH__"):c("WAWebFbtCommon")("End-to-end encrypted")]})]})})}a.displayName=a.name+" [from "+f.id+"]";a=e;function p(a){return(a==null?void 0:a.buttonText)!=null?k.jsx("div",{className:c("WAWebIntroPanel.scss").upgradeElectronBtn,children:k.jsx(c("WAWebButton.react"),{type:"strong-primary",onClick:a.onClick,testid:void 0,children:a.buttonText})}):null}g["default"]=a}),226);
__d("WAWebConversation.react",["Promise","WAErr","WALogger","WAWebABProps","WAWebBotFeatureNotAvailable.react","WAWebBotFrontendUtils","WAWebBotGating","WAWebBotLogging","WAWebBotNux.react","WAWebBotTosIds","WAWebBusinessProfileCollection","WAWebCAPIGroupAboutModal.react","WAWebChatEntryPoint","WAWebChatEphemerality","WAWebChatGroupUtils","WAWebChatLockCodeModal.react","WAWebChatLockUtils","WAWebChatLockWAMUtils","WAWebChatPreferenceCollection","WAWebCmd","WAWebConversationPanelWrapper.react","WAWebDesktopUpsellEvents","WAWebFrontendMsgGetters","WAWebGetOrQueryUsyncInfoContactAction","WAWebHostedGroupUtils","WAWebIntroPanel.react","WAWebModalManager","WAWebMsgCollection","WAWebNux","WAWebQueryGroupAction","WAWebStreamModel","WAWebTosGating","WAWebUpdateEphemeralSettingChatAction","WAWebWamEnumActionEntryPoint","WAWebWamEnumLandingSurface","WAWebWid","asyncToGeneratorRuntime","gkx","lodash","react","useWAWebChatLockRestriction","useWAWebListener","useWAWebNux","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[DM] auto-disabling DM due to chat being with CAPI account"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat.msgs length: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["msgContext.collection length: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[usync] Getting usync info for contact while opening the chat"]);n=function(){return a};return a}e=j||d("react");var o=i||(i=c("react")),p=e.useEffect,q=e.useImperativeHandle,r=e.useRef,s=e.useState;function t(a){switch(a){case d("WAWebChatEntryPoint").ChatEntryPoint.Chatlist:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST;case d("WAWebChatEntryPoint").ChatEntryPoint.Notification:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.NOTIFICATIONS;case d("WAWebChatEntryPoint").ChatEntryPoint.PrivateReply:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.PRIVATE_REPLY;case d("WAWebChatEntryPoint").ChatEntryPoint.DirectMessage:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.DIRECT_MESSAGE;case d("WAWebChatEntryPoint").ChatEntryPoint.ContactInfo:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_INFO;case d("WAWebChatEntryPoint").ChatEntryPoint.Mention:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.DIRECT_MESSAGE;case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterIntegrity:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectory:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCreationFlow:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterAdminInviteAcceptModal:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterPostLinkCard:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterLinkCard:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterLinkCardButton:case d("WAWebChatEntryPoint").ChatEntryPoint.ForwardedNewsletterMessage:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCTAOnStatus:case d("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters:case d("WAWebChatEntryPoint").ChatEntryPoint.Link:case d("WAWebChatEntryPoint").ChatEntryPoint.Deeplink:case d("WAWebChatEntryPoint").ChatEntryPoint.Vcard:case d("WAWebChatEntryPoint").ChatEntryPoint.BotChatListShortcut:case d("WAWebChatEntryPoint").ChatEntryPoint.Unknown:break}return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.UNKNOWN}e=o.forwardRef(a);function a(a,e){a=a.animate;var f=r(),g=r(),i=r(0),j=r(function(){}),u=j.current,v=r(function(){}),w=v.current,x=r(d("WAWebChatEntryPoint").ChatEntryPoint.Unknown),y=s(),z=y[0],A=y[1];y=s();var B=y[0],C=y[1];y=s();var D=y[0],E=y[1];y=s(!1);var F=y[0],G=y[1];d("useWAWebChatLockRestriction").useChatLockRestriction({id:z!=null?"locked-thread-"+z.id.toString():"chat-homescreen",condition:(y=z)!=null?y:"bypass",entryPoint:t(x.current),landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.THREAD,unlockEntryPoint:d("WAWebChatLockWAMUtils").actionEntryPointToUnlockEntryPoint(t(x.current))});y=s(a);a=y[0];y=y[1];var H=c("useWAWebPrevious")(a);H!==!1&&a!==!1&&y(!1);var I=function(a,b){var e=b?b.msg||d("WAWebMsgCollection").MsgCollection.get(b.key):void 0;if(b&&e&&a){b=a.chat;var f=a.renderedMsgsInfo;a=a.visibleMsgOrder;if(b&&f&&a&&!c("lodash").isEmpty(f)&&!c("lodash").isEmpty(a)){a=f[a[0].toString()];var g=e.id.toString();f=Object.entries(f).find(function(a){return a===g});f=f?f[1]:null;if(f)return{wasVisible:!0,offset:f.offset};else if(b===d("WAWebFrontendMsgGetters").getChat(e))return a&&e.t<a.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}};q(e,function(){return{containsDOMNode:function(a){return!f.current?!1:f.current.containsDOMNode(a)},animatePanel:function(a,b,c,d){return!f.current?!1:f.current.animatePanel(a,b,c,d)}}});H=function(){d("WAWebStreamModel").Stream.markUnavailable(15*1e3)};y=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,p){if(!d("WAWebChatLockUtils").chatIsAccessible(a)){var q=(yield d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0,landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.THREAD,unlockEntryPoint:d("WAWebChatLockWAMUtils").actionEntryPointToUnlockEntryPoint(t(f)),entryPoint:t(f)}));if(!q)return}a.contact.isEnterprise==null&&a.isUser&&!c("WAWebWid").isPSA(a.contact.id)&&!a.id.isBot()&&(d("WALogger").LOG(n()),d("WAWebGetOrQueryUsyncInfoContactAction").queryUsyncBusiness(a.id));if(a.id.isBot()){if(!d("WAWebBotGating").isBotEnabled()){d("WAWebModalManager").ModalManager.open(o.jsx(c("WAWebBotFeatureNotAvailable.react"),{}));return}var r=f===d("WAWebChatEntryPoint").ChatEntryPoint.BotChatListShortcut?d("WAWebBotLogging").BotEntryPointType.Shortcut:d("WAWebBotLogging").BotEntryPointType.Agent;d("WAWebBotLogging").logAiChatClickBotJourneyEvent(r);if(d("WAWebTosGating").shouldBlockByBotTos(a.contact)){q=a.id.equals(d("WAWebBotFrontendUtils").MetaBotWid)?d("WAWebBotTosIds").getBotShortcutTosId():d("WAWebBotTosIds").getBotAgentTosId();if(d("WAWebBotTosIds").supportedTosNoticeIds.has(q))try{yield new(h||(h=b("Promise")))(function(b,e){d("WAWebBotLogging").logAiTosBotJourneyEvent(r,d("WAWebBotLogging").BotTosActionType.View),d("WAWebModalManager").ModalManager.open(o.jsx(c("WAWebBotNux.react"),{origin:a.id.equals(d("WAWebBotFrontendUtils").MetaBotWid)?"shortcut":"agent",onOK:function(){d("WAWebBotLogging").logAiTosBotJourneyEvent(r,d("WAWebBotLogging").BotTosActionType.Accept),b()},onCancel:function(){d("WAWebBotLogging").logAiTosBotJourneyEvent(r,d("WAWebBotLogging").BotTosActionType.Dismiss),e(c("WAErr")())}}))})}catch(a){return}else d("WAWebChatGroupUtils").updateCanSend(a)}}z!==a&&d("WAWebCmd").Cmd.updateChatlistSelection(a);var s=g.current,u={};g.current=u;v.current=function(a){Object.assign(u,a)};c("gkx")("26258")||(e?d("WALogger").LOG(m(),e.collection.length):d("WALogger").LOG(l(),a.msgs.length));q=e?e.collection:a.msgs;i.current++;var w=i.current,y=function(){return w===i.current};x.current=f;var B=!1,D=function(){if(!y())return;B=!0;p(I(s,e))},F=(e==null?void 0:(f=e.msg)==null?void 0:f.id)||(e==null?void 0:e.key);j.current=function(a){if(B||!y())return;if(!F){D();return}a=a.some(function(a){return a.id.equals(F)});if(!a)return;D()};A(a);C(q);E(e);a.contact.isEnterprise&&d("WAWebChatEphemerality").isEphemeralSettingOn(a)&&(d("WALogger").LOG(k()).devConsole({chat:a,ephemeralDuration:a.ephemeralDuration}),d("WAWebUpdateEphemeralSettingChatAction").setChatAsEphemeralityUnsupported(a))});return function(b,c,d,e){return a.apply(this,arguments)}}();e=function(a){a===z&&(A(void 0),C(void 0),E(void 0))};var J=function(){d("WAWebStreamModel").Stream.markAvailable(),(z==null?void 0:z.isUser)&&z.presence.subscribe()};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_chat",y);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_chat",e);d("useWAWebListener").useListener(window,"focus",J);d("useWAWebListener").useListener(window,"blur",H);d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_open",function(a){(!d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")||a)&&G(!0)});d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_close",function(a){(!d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")||a)&&G(!1)});y=c("useWAWebNux")(d("WAWebNux").NUX.CAPI_GROUP_ABOUT_MODAL);var K=y[0],L=y[1];e=function(a,b,c,d){var e=B;(e===a||e===b)&&(C(c),E(d&&(!!d.msg||!!d.collection)?d:D))};d("useWAWebListener").useListener(z,"change:cmc:merge",e);p(function(){z&&(z.contact.isBusiness&&!z.id.isBot()&&d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(z.id),z.groupMetadata&&d("WAWebQueryGroupAction").maybeQueryGroupDevice(z.groupMetadata))},[z]);p(function(){var a;(z==null?void 0:(a=z.groupMetadata)==null?void 0:a.hasCapi)===!0&&d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&K&&(d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebCAPIGroupAboutModal.react").CAPIGroupAboutModal,{})),L())},[z,K,L]);var M=z&&B||F;p(function(){d("WAWebDesktopUpsellEvents").WAWebDesktopUpsellEvents.trigger("conversation_panel_ui_change",{conversationPanelVisible:!!M})},[M]);return M?o.jsx(c("WAWebConversationPanelWrapper.react"),{chat:z,chatEntryPoint:x.current,groupMetadata:z==null?void 0:z.groupMetadata,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),focusCtx:D,msgCollection:B,notifyChatRendered:u,updateOpenedChatInfo:w,ref:f,showPreview:F},z==null?void 0:z.id.toString()):o.jsx(c("WAWebIntroPanel.react"),{animate:a,ref:f})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("WAWebCopyPnDataToLidRows",["WALogger","WAWebApiContact","WAWebModelStorageUtils","WAWebUserPrefsGeneral","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: end migration"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: start migration"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebUserPrefsGeneral").getContactsDbReadIsUsingLid())return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["contact"],function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(j());var f=new Map();a.forEach(function(a){c("WAWebWid").isUser(a.id)&&!c("WAWebWid").isLid(a.id)&&f.set(d("WAWebWidFactory").createWid(a.id.toString()).toString(),a)});var g=d("WAWebApiContact").getAllLidContacts().filter(function(a){return d("WAWebApiContact").getPnIfLidIsLatestMapping(a)!=null}),k=new Set(g);g=a.map(function(a){var b;if(a==null||!k.has(d("WAWebWidFactory").createUserWid(a.id.toString()))||(a==null?void 0:a.phoneNumber)==null)return null;var c=f.get(a.phoneNumber.toString());return c==null?null:{id:a.id.toString(),name:(b=c.name)!=null?b:a.name,shortName:(b=c.shortName)!=null?b:a.shortName,pushname:(b=c.pushname)!=null?b:a.pushname,username:(b=c.username)!=null?b:a.username,type:(b=c.type)!=null?b:a.type,verifiedName:(b=c.verifiedName)!=null?b:a.verifiedName,isBusiness:(b=c.isBusiness)!=null?b:a.isBusiness,isEnterprise:(b=c.isEnterprise)!=null?b:a.isEnterprise,isAddressBookContact:(b=c.isAddressBookContact)!=null?b:a.isAddressBookContact,isContactSyncCompleted:(b=c.isContactSyncCompleted)!=null?b:a.isContactSyncCompleted,verifiedLevel:(b=c.verifiedLevel)!=null?b:a.verifiedLevel,statusMute:(b=c.statusMute)!=null?b:a.statusMute,sectionHeader:(b=c.sectionHeader)!=null?b:a.sectionHeader,disappearingModeDuration:(b=c.disappearingModeDuration)!=null?b:a.disappearingModeDuration,disappearingModeSettingTimestamp:(b=c.disappearingModeSettingTimestamp)!=null?b:a.disappearingModeSettingTimestamp,textStatusString:(b=c.textStatusString)!=null?b:a.textStatusString,textStatusEmoji:(b=c.textStatusEmoji)!=null?b:a.textStatusEmoji,textStatusEphemeralDuration:(b=c.textStatusEphemeralDuration)!=null?b:a.textStatusEphemeralDuration,textStatusLastUpdateTime:(b=c.textStatusLastUpdateTime)!=null?b:a.textStatusLastUpdateTime,textStatusExpiryTs:(b=c.textStatusExpiryTs)!=null?b:a.textStatusExpiryTs,contactHash:a.contactHash,pnContactHash:c.contactHash||"",syncToAddressbook:(b=c.syncToAddressbook)!=null?b:a.syncToAddressbook,phoneNumber:(c=a.phoneNumber)==null?void 0:c.toString(),phoneNumberCreatedAt:a.phoneNumberCreatedAt,requestedPnTimestamp:a.requestedPnTimestamp,shareOwnPn:a.shareOwnPn,displayNameLID:a.displayNameLID,isHosted:a.isHosted,isOrHasBeenHosted:a.isOrHasBeenHosted,lidOriginType:a.lidOriginType}}).filter(Boolean);yield b.bulkCreateOrMerge(g);d("WALogger").LOG(i());e=!0}catch(a){d("WALogger").ERROR(h(),a).sendLogs("contacts-db-lid-migration"),e=!1}});return function(a){return f.apply(this,arguments)}}());yield d("WAWebUserPrefsGeneral").setContactsDbReadIsUsingLid(e)});return k.apply(this,arguments)}g.copyPnDataToLidRows=a}),98);
__d("WAWebCreateOrUpdateGroupMetadataAction",["WAWebGroupMetadataCollection","WAWebGroupQueryBridge"],(function(a,b,c,d,e,f,g){function a(a){var b;d("WAWebGroupQueryBridge").updateSubject(a.id,a.subject);c("WAWebGroupMetadataCollection").gadd(babelHelpers["extends"]({id:a.id,owner:a.owner,subject:a.subject,creation:a.creation,desc:a.desc,descId:a.descId,descOwner:a.descOwner,descTime:a.descTime,restrict:a.restrict||!1,announce:a.announce||!1,noFrequentlyForwarded:a.noFrequentlyForwarded||!1,ephemeralDuration:a.ephemeralDuration||0,growthLockExpiration:a.growthLockExpiration,growthLockType:a.growthLockType,membershipApprovalMode:a.membershipApprovalMode,memberAddMode:a.memberAddMode,participants:a.participants,pastParticipants:a.pastParticipants,support:(b=a.support)!=null?b:!1,suspended:(b=a.suspended)!=null?b:!1,terminated:(b=a.terminated)!=null?b:!1,isParentGroup:(b=a.isParentGroup)!=null?b:!1,isParentGroupClosed:(b=a.isParentGroupClosed)!=null?b:!1,parentGroup:a.parentGroup,defaultSubgroup:(b=a.defaultSubgroup)!=null?b:!1,generalSubgroup:(b=a.generalSubgroup)!=null?b:!1,deviceStale:!0,size:a.size,incognito:a.incognito,isLidAddressingMode:a.isLidAddressingMode,reportToAdminMode:a.reportToAdminMode},a.reportToAdminMode===!1&&{lastReportToAdminTimestamp:null},{allowNonAdminSubGroupCreation:a.allowNonAdminSubGroupCreation,generalChatAutoAddDisabled:a.generalChatAutoAddDisabled,hasCapi:a.hasCapi,hiddenSubgroup:(b=a.hiddenSubgroup)!=null?b:!1}))}g.createOrUpdateGroupMetadataModelFromQuery=a}),98);
__d("WAWebCreateSendMsgRecord",["WALogger","WAWebAddonDBTable","WAWebDBMessageSerialization","WAWebMsgKey","WAWebMsgModel","WAWebSchemaMessage","WAWebSendMsgTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find an addonMsgData in the db"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find a msg in the db"]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Message){var f=(yield d("WAWebSchemaMessage").getMessageTable().get(a));if(f==null){d("WALogger").WARN(i());return null}f=new(d("WAWebMsgModel").Msg)(d("WAWebDBMessageSerialization").messageFromDbRow(f));return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Message,data:f}}else if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Addon){f=c("WAWebMsgKey").from(a);a=(yield d("WAWebAddonDBTable").addonDBTable.getByMsgKey(b,f));if(a==null){d("WALogger").WARN(h());return null}return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Addon,data:a}}throw c("err")("unexpected msgRecordType: "+e)});return j.apply(this,arguments)}g.createMsgRecord=a}),98);
__d("WAWebCustomPaymentMethodsSyncBridgeApi",["WAWebCustomPaymentMethods"],(function(a,b,c,d,e,f,g){a={setCustomPaymentMethods:function(a){a=a.customPaymentMethods;d("WAWebCustomPaymentMethods").CustomPaymentMethods.setCustomPaymentMethods(a)}};g.CustomPaymentMethodsSyncBridgeApi=a}),98);
__d("WAWebDebugHotPink",[],(function(a,b,c,d,e,f){"use strict";var g="hotpink";b=["active-tab-marker","app-background","app-background-deeper","app-background-stripe","attach-media-drop-border","attach-media-drop-overlay","attachment-type-audio-color","attachment-type-photos-color","attachment-type-camera-color","attachment-type-documents-color","attachment-type-catalog-color","attachment-type-quick-replies-color","attachment-type-orders-color","attachment-type-contacts-color","attachment-type-polls-color","attachment-type-stickers-color","audio-control-incoming","audio-control-outgoing","audio-progress-incoming","audio-progress-outgoing","audio-progress-played-incoming","audio-progress-played-outgoing","audio-progress-metadata","audio-track-incoming","audio-track-outgoing","avatar-background","avatar-border","avatar-circle-gray-light","avatar-circle-gray","avatar-circle-gray-active","avatar-circle-gray-dark","avatar-circle-green-lighter","avatar-circle-green-light","avatar-circle-green","avatar-circle-green-dark","avatar-placeholder-background","avatar-placeholder-primary","archived-chat-marker","archived-chat-marker-border","archived-chat-marker-background","archived-chat-persistent-header-background","background-default","background-document-with-captions","background-default-active","background-default-hover","background-lighter","background-lighter-content","background-lighter-active","background-lighter-hover","background-lightest","background-lightest-content","background-lightest-active","background-lightest-hover","text-primary","text-secondary-emphasized","text-secondary","text-teal","text-success","text-critical","badge-icon","badge-pending","border-bubble","border-deeper","border-default","border-list","border-panel","border-strong","border-stronger","border-document-footer","bubble-meta","bubble-meta-icon","business-name-title","business-name-subtitle","butterbar-battery-background","butterbar-battery-icon","butterbar-battery-primary","butterbar-battery-secondary","butterbar-connection-background","butterbar-connection-primary","butterbar-connection-secondary","butterbar-connection-icon","butterbar-desktop-upsell-icon","butterbar-phone-icon-shape","butterbar-default-background","butterbar-fatal-background","butterbar-fatal-primary","butterbar-fatal-secondary","butterbar-fatal-icon","butterbar-icon","butterbar-icon-dismiss","butterbar-notice-background","butterbar-notice-circle","butterbar-notice-icon","butterbar-notice-smb-background","butterbar-notice-smb-circle","butterbar-notice-smb-icon","butterbar-notification-icon","butterbar-primary","butterbar-secondary","butterbar-update-background","butterbar-update-icon","butterbar-green-nux-primary","butterbar-green-nux-secondary","butterbar-green-nux-background","butterbar-green-nux-icon","butterbar-green-nux-icon-background","butterbar-green-nux-icon-dismiss","butterbar-blue-nux-primary","butterbar-blue-nux-secondary","butterbar-blue-nux-background","butterbar-blue-nux-icon","butterbar-blue-nux-icon-background","butterbar-blue-nux-icon-dismiss","butterbar-ad-action-info-primary","butterbar-ad-action-info-secondary","butterbar-ad-action-info-background","butterbar-ad-action-info-icon","butterbar-ad-action-info-icon-background","butterbar-ad-action-info-icon-dismiss","butterbar-ad-action-warning-primary","butterbar-ad-action-warning-secondary","butterbar-ad-action-warning-background","butterbar-ad-action-warning-icon","butterbar-ad-action-warning-icon-background","butterbar-ad-action-warning-icon-dismiss","butterbar-order-expansion-icon","butterbar-order-expansion-banner-background","butterbar-order-expansion-icon-background","button-alternative","button-alternative-background","button-background-disabled","button-bubble","button-plain-background","button-plain-background-hover","button-plain","button-plain-hover","button-plain-disabled-background","button-primary","button-primary-background","button-primary-background-hover","button-round-background","button-round-background-inverted","button-round-icon-inverted","button-disabled","button-secondary","button-secondary-border","button-secondary-background","button-secondary-background-hover","button-secondary-hover","button-secondary-disabled-background","button-primary-destructive-color","button-primary-destructive-background","button-primary-destructive-background-hover","button-primary-destructive-outline","button-primary-destructive-spinner-color","button-secondary-destructive-color","button-secondary-destructive-hover-color","button-secondary-destructive-outline","button-secondary-destructive-spinner-color","button-focus","button-focus-outline","button-approve","button-approve-background","button-approve-hover","button-approve-background-hover","button-approve-hover-strong","button-approve-background-hover-strong","button-reject","button-reject-background","button-reject-hover","button-reject-background-hover","button-reject-hover-strong","button-reject-background-hover-strong","cart-interstitial-background","cart-interstitial-icon","chat-info-drawer-thumb-background","chat-marker","chat-marker-border","chat-marker-background","chat-meta","chatlist-icon","checkbox-background","checkbox-mark","chevron-button-background","chip-button-background","chip-button-foreground","compose-input-background","compose-input-background-focused","compose-input-border","compose-input-border-focused","compose-panel-background","compose-panel-background-hover","compose-primary","conversation-panel-background","conversation-panel-border","cover-image-background","danger","disabled-round-button-background-color","document-meta","drawer-background","drawer-background-deep","drawer-gallery-background","drawer-gallery-background-active","drawer-gallery-background-hover","drawer-header-title","drawer-section-background","dropdown-background","dropdown-background-hover","empty-state-background","empty-state-icon","ephemeral-nux-background","ephemeral-nux-bubble","ephemeral-nux-timer","expressions-panel-active-icon-color","expressions-panel-active-icon-tab-background","expressions-panel-icon-tab-border","sender-superpower-title","filters-container-background","filters-item-color","filters-item-background","filters-item-background-hover","filters-item-active-color","filters-item-active-background","focus","focus-animation","focus-animation-deeper","focus-lighter","forwarded-indicator-text","highlight","icon","icon-ack","icon-disabled","icon-fixed","icon-lighter","icon-strong","icon-search-back","icon-secondary","icon-bright-accent","icon-bright-highlight","icon-pinned","round-icon-background","icon-header-illustration-main","icon-header-illustration-background","icon-primary","incoming-background","incoming-background-deeper","incoming-background-highlight","incoming-primary","input-border-active","input-border","input-hover-background","input-empty-value-placeholder","input-placeholder","input-button-more","input-floating-toolbar-background","input-floating-toolbar-icon","input-floating-toolbar-icon-active","input-floating-toolbar-icon-disabled","input-floating-toolbar-button-hover","input-floating-toolbar-button-active","intro-background","intro-border","intro-logo","intro-secondary","inverse","label-disabled-text","label-secondary-text","labels-icon","labels-plus-icon-color","labels-plus-icon-background","link","link-alt","link-preview","link-preview-light","link-preview-lighter","link-preview-shimmer-start","link-preview-shimmer-end","link-preview-placeholder-image","live-location-footer-background","live-location-glow","live-location-glow-stale","location-cluster-background","map-overlay-background","map-overlay-foreground","media-editor-control","media-editor-image-caption-input-background","media-editor-video-caption-input-background","media-editor-document-caption-input-background","media-editor-icon-color","media-editor-icon-secondary-color","media-editor-thumb-border","media-editor-thumb-border-active","media-gallery-thumb-background","media-gallery-thumb-icon","media-viewer-background","media-viewer-button-background","media-viewer-button-icon","media-inner-border","membership-approval-requests-banner-button-border","menu-bar-item-background-active","menu-context-transparent-icon","menu-context-transparent-icon-inverse","menu-tabs-list-active","message-background-deep","message-placeholder-icon","message-primary","message-selection-highlight","modal-backdrop","modal-backdrop-solid","modal-background","modal-title","beta-tag-background","notification-biz-background","notification-biz-text","notification-e2e-background","notification-e2e-icon","notification-e2e-text","notification-info-icon","notification-non-e2e-background","notification-non-e2e-text","notification-text","outgoing-background","outgoing-background-deeper","outgoing-background-highlight","overlay","panel-background","panel-background-active","panel-background-colored","panel-background-colored-deeper","panel-background-deep","panel-background-deeper","panel-background-hover","panel-background-lighter","panel-header-background","panel-header-icon","conversation-header-border","panel-input-background","panel-primary","payment-amount","payment-status-failed","payment-status-pending","payment-status-success","photopicker-overlay-background","picker-background","pin-indicator","pip-drag-bar","pip-player-background","pip-manager-content","popup-panel-background","primary-muted","primary","primary-strong","primary-stronger","primary-strongest","primary-title","product-image-button-background","product-thumb-background","product-thumb-background-deeper","product-thumb-overlay-background","product-thumb-overlay-text","product-placeholder-background","progress-background","progress-primary","poll-bar-container-receiver","poll-bar-fill-receiver","poll-bar-container-sender","poll-bar-fill-sender","poll-button-disabled-receiver","poll-button-disabled-sender","poll-checkmark-receiver","poll-checkmark-sender","poll-disabled-checked-checkbox-receiver","poll-disabled-checked-checkbox-sender","poll-disabled-send-button-background-color","poll-invalid-warning-background","poll-invalid-warning-border-receiver","poll-invalid-warning-border-sender","poll-invalid-warning-icon-color","poll-invalid-warning-icon-container-background","poll-modal-background-color","poll-modal-footer-background-color","poll-checkbox-default-border-color-sender","poll-selectable-options-icon-hint-color","ptt-blue","ptt-button-cancel","ptt-button-send","ptt-draft-button-cancel","ptt-draft-button-cancel-hover","ptt-draft-button-play-pause","ptt-draft-button-play-pause-hover","ptt-draft-button-play-pause-out-of-chat","ptt-draft-button-stop","ptt-draft-button-stop-hover","ptt-draft-button-send","ptt-draft-button-send-hover","ptt-draft-thumb","ptt-thumb-outgoing-unplayed","ptt-thumb-outgoing-played","ptt-thumb-incoming-unplayed","ptt-thumb-incoming-played","ptt-draft-waveform-background","ptt-draft-waveform-background-border","ptt-ooc-background","ptt-ooc-mic-border-color","ptt-ooc-mic-fill-color","ptt-ooc-avatar-background","ptt-waveform-preview-unplayed","ptt-waveform-incoming-unplayed","ptt-waveform-outgoing-unplayed","ptt-waveform-preview-played","ptt-waveform-incoming-played","ptt-waveform-outgoing-played","ptt-gray","ptt-gray-badge","ptt-green","ptt-message-blue","ptt-text","quick-action-button","quick-action-button-background","reaction-button","reaction-button-background","round-entry-point-background-color","quoted-message-text","rich-text-panel-background","search-container-background","search-input-background","search-input-container-background","search-input-container-background-active","secondary","secondary-light","secondary-lighter","secondary-stronger","security-icon-background","security-icon-lock","security-icon-shield","shadow","shadow-light","spinner-default","spinner-highlight","spinner-incoming","spinner-outgoing","startup-background","startup-icon","status-background","status-background-hover","status-primary","status-secondary","status-secondary-stronger","status-ring-read","status-ring-unread","status-thumbnail-background","status-link-preview-title","status-link-preview-secondary","sticker-button-background","success","suspicious-background","system-message-background","system-message-text","teal-hover","teal-pale","text-action","text-action-link","text-muted","thumb-border-active","thumb-border-viewer-active","toast-background","tooltip-text","tooltip-background","draft-label","unread-background","unread-bar-background","unread-timestamp","unread-marker-background","unread-marker-text","vcard-placeholder-background","vcard-placeholder-background-deeper","video-player-background","video-primary","voip-accept-background","voip-background","voip-background-deep","voip-video-background","voip-controls-background","voip-primary","voip-alternative","voip-reject-background","voip-disabled-background","wallpaper-background","wallpaper-thumb-border-active","wallpaper-thumb-border-hover","win32-title-primary","reactions-bubble-border","reactions-bubble-counter","reactions-details-background","reactions-tray-background","reactions-details-background-hover","reactions-tray-active-round-background","reactions-picker-bg","svg-gray-button","reactions-panel-background-color","reactions-panel-search-background-color","reactions-search-color","reactions-menu-tab-separator","text-primary-strong","text-secondary-lighter","text-medium-emphasis","icon-medium-emphasis","icon-high-emphasis","switch-button-color","switch-button-checked-color","switch-button-disabled-color","switch-track-color","switch-track-checked-color","switch-track-disabled-color","announcement-speaker-background","communities-green","qc-button-border","qc-button-border-active","qc-quantity-label-highlighted-background","drawer-loading-background","multi-skin-tone-picker-emoji-selected-background","chat-assignment-icon-me","chat-assignment-icon-others","pnh-nux","forward-caption-preview-background","forward-caption-preview-content","skeleton-gradient-background-sides","skeleton-gradient-background-middle","bot-typing-indicator-background-color","bot-suggestion-background-color","bot-command-pill-background-color","bot-command-text","icon-in-cell-frame-background","block-quote-text","inline-code-text","inline-code-background","desktop-upsell-call-btn","date-picker-background-color","date-picker-today-background-color","date-picker-header-background-color","date-picker-text-color","date-picker-today-text-color","date-picker-nav-text-color","date-picker-neighboring-month","carousel-button-background-color","carousel-button-border-color","carousel-button-shadow-color","carousel-button-chevron-color","carousel-button-background-color-active","carousel-button-background-color-hover","carousel-button-shadow-color-hover","navbar-background","navbar-separator","navbar-border","pill-background","pill-text","comments-modal-background","text-disabled"];c=["active-tab-marker","app-background","app-background-deeper","app-background-stripe","attach-media-drop-border","attach-media-drop-overlay","attachment-type-audio-color","attachment-type-photos-color","attachment-type-camera-color","attachment-type-documents-color","attachment-type-catalog-color","attachment-type-quick-replies-color","attachment-type-orders-color","attachment-type-contacts-color","attachment-type-polls-color","attachment-type-stickers-color","audio-control-incoming","audio-control-outgoing","audio-progress-incoming","audio-progress-outgoing","audio-progress-played-incoming","audio-progress-played-outgoing","audio-progress-metadata","audio-track-incoming","audio-track-outgoing","avatar-background","avatar-border","avatar-circle-gray-light","avatar-circle-gray","avatar-circle-gray-active","avatar-circle-gray-dark","avatar-circle-green-lighter","avatar-circle-green-light","avatar-circle-green","avatar-circle-green-dark","avatar-placeholder-background","avatar-placeholder-primary","archived-chat-marker","archived-chat-marker-border","archived-chat-marker-background","archived-chat-persistent-header-background","background-default","background-document-with-captions","background-default-active","background-default-hover","background-lighter","background-lighter-content","background-lighter-active","background-lighter-hover","background-lightest","background-lightest-content","background-lightest-active","background-lightest-hover","text-primary","text-secondary-emphasized","text-secondary","text-teal","text-success","text-critical","badge-border","badge-pending","beta-tag-background","border-bubble","border-deeper","border-default","border-list","border-panel","border-strong","border-stronger","border-document-footer","bubble-meta","bubble-meta-icon","business-name-title","business-name-subtitle","butterbar-default-background","butterbar-icon","butterbar-icon-dismiss","butterbar-primary","butterbar-secondary","butterbar-battery-background","butterbar-battery-icon","butterbar-battery-primary","butterbar-battery-secondary","butterbar-connection-background","butterbar-connection-primary","butterbar-connection-secondary","butterbar-connection-icon","butterbar-desktop-upsell-icon","butterbar-phone-icon-shape","butterbar-fatal-background","butterbar-fatal-primary","butterbar-fatal-secondary","butterbar-fatal-icon","butterbar-notice-background","butterbar-notice-circle","butterbar-notice-icon","butterbar-notice-smb-background","butterbar-notice-smb-circle","butterbar-notice-smb-icon","butterbar-notification-icon","butterbar-update-background","butterbar-update-icon","butterbar-green-nux-primary","butterbar-green-nux-secondary","butterbar-green-nux-background","butterbar-green-nux-icon","butterbar-green-nux-icon-background","butterbar-green-nux-icon-dismiss","butterbar-blue-nux-primary","butterbar-blue-nux-secondary","butterbar-blue-nux-background","butterbar-blue-nux-icon","butterbar-blue-nux-icon-background","butterbar-blue-nux-icon-dismiss","butterbar-ad-action-info-primary","butterbar-ad-action-info-secondary","butterbar-ad-action-info-background","butterbar-ad-action-info-icon","butterbar-ad-action-info-icon-background","butterbar-ad-action-info-icon-dismiss","butterbar-ad-action-warning-primary","butterbar-ad-action-warning-secondary","butterbar-ad-action-warning-background","butterbar-ad-action-warning-icon","butterbar-ad-action-warning-icon-background","butterbar-ad-action-warning-icon-dismiss","butterbar-order-expansion-banner-background","button-alternative","button-alternative-background","button-background-disabled","button-bubble","button-plain-background","button-plain-background-hover","button-plain","button-plain-hover","button-plain-disabled-background","button-primary","button-primary-background","button-primary-background-hover","button-round-background","button-round-background-inverted","button-round-icon-inverted","button-disabled","button-secondary","button-secondary-border","button-secondary-background","button-secondary-background-hover","button-secondary-hover","button-secondary-disabled-background","button-focus","button-focus-outline","button-primary-destructive-color","button-primary-destructive-background","button-primary-destructive-background-hover","button-primary-destructive-outline","button-primary-destructive-spinner-color","button-secondary-destructive-color","button-secondary-destructive-hover-color","button-secondary-destructive-outline","button-secondary-destructive-spinner-color","button-approve","button-approve-background","button-approve-hover","button-approve-background-hover","button-approve-hover-strong","button-approve-background-hover-strong","button-reject","button-reject-background","button-reject-hover","button-reject-background-hover","button-reject-hover-strong","button-reject-background-hover-strong","cart-interstitial-background","cart-interstitial-icon","chat-info-drawer-thumb-background","chat-marker","chat-marker-border","chat-marker-background","chat-meta","chatlist-icon","checkbox-background","checkbox-mark","chevron-button-background","chip-button-background","chip-button-foreground","compose-input-background","compose-input-background-focused","compose-input-border","compose-input-border-focused","compose-panel-background","compose-panel-background-hover","compose-primary","conversation-panel-background","conversation-panel-border","cover-image-background","danger","disabled-round-button-background-color","document-meta","drawer-background","drawer-background-deep","drawer-gallery-background","drawer-gallery-background-active","drawer-gallery-background-hover","drawer-header-title","drawer-section-background","dropdown-background","dropdown-background-hover","empty-state-background","empty-state-icon","ephemeral-nux-background","ephemeral-nux-bubble","ephemeral-nux-timer","expressions-panel-active-icon-color","expressions-panel-active-icon-tab-background","expressions-panel-icon-tab-border","sender-superpower-title","filters-container-background","filters-item-color","filters-item-background","filters-item-background-hover","filters-item-active-color","filters-item-active-background","focus","focus-animation","focus-animation-deeper","focus-lighter","forwarded-indicator-text","highlight","icon","icon-ack","icon-disabled","icon-fixed","icon-lighter","icon-search-back","icon-strong","icon-bright-accent","icon-bright-highlight","icon-pinned","round-icon-background","incoming-background","incoming-background-deeper","incoming-background-highlight","incoming-primary","input-border-active","input-border","input-hover-background","input-empty-value-placeholder","input-placeholder","input-button-more","input-floating-toolbar-background","input-floating-toolbar-icon","input-floating-toolbar-icon-active","input-floating-toolbar-icon-disabled","input-floating-toolbar-button-hover","input-floating-toolbar-button-active","intro-background","intro-border","intro-logo","intro-secondary","inverse","label-secondary-text","labels-icon","labels-plus-icon-color","labels-plus-icon-background","label-disabled-text","link","link-alt","link-preview","link-preview-light","link-preview-lighter","link-preview-shimmer-start","link-preview-shimmer-end","link-preview-placeholder-image","live-location-footer-background","live-location-glow","live-location-glow-stale","location-cluster-background","map-overlay-background","map-overlay-foreground","media-editor-control","media-editor-image-caption-input-background","media-editor-video-caption-input-background","media-editor-document-caption-input-background","media-editor-icon-color","media-editor-icon-secondary-color","media-editor-thumb-border","media-editor-thumb-border-active","media-gallery-thumb-background","media-gallery-thumb-icon","media-inner-border","membership-approval-requests-banner-button-border","media-viewer-background","media-viewer-button-background","media-viewer-button-icon","menu-bar-item-background-active","menu-context-transparent-icon","menu-context-transparent-icon-inverse","menu-tabs-list-active","message-background-deep","message-placeholder-icon","message-primary","message-selection-highlight","modal-backdrop","modal-backdrop-solid","modal-background","modal-title","notification-biz-background","notification-biz-text","notification-e2e-background","notification-e2e-icon","notification-e2e-text","notification-info-icon","notification-non-e2e-background","notification-non-e2e-text","notification-text","outgoing-background","outgoing-background-deeper","outgoing-background-highlight","overlay","panel-background","panel-background-active","panel-background-colored","panel-background-colored-deeper","panel-background-deep","panel-background-deeper","panel-background-hover","panel-background-lighter","panel-header-background","panel-header-icon","conversation-header-border","panel-input-background","panel-primary","payment-amount","payment-status-failed","payment-status-pending","payment-status-success","photopicker-overlay-background","picker-background","pin-indicator","pip-drag-bar","pip-manager-content","popup-panel-background","primary-muted","primary","primary-strong","primary-stronger","primary-strongest","primary-title","product-image-button-background","product-placeholder-background","product-thumb-background","product-thumb-background-deeper","product-thumb-overlay-background","product-thumb-overlay-text","progress-background","progress-primary","poll-bar-container-receiver","poll-bar-fill-receiver","poll-bar-container-sender","poll-bar-fill-sender","poll-button-disabled-receiver","poll-button-disabled-sender","poll-checkmark-receiver","poll-checkmark-sender","poll-disabled-checked-checkbox-receiver","poll-disabled-checked-checkbox-sender","poll-invalid-warning-background","poll-invalid-warning-border-receiver","poll-invalid-warning-border-sender","poll-invalid-warning-icon-color","poll-invalid-warning-icon-container-background","poll-modal-background-color","poll-modal-footer-background-color","poll-checkbox-default-border-color-sender","poll-selectable-options-icon-hint-color","ptt-blue","ptt-button-cancel","ptt-button-send","ptt-draft-button-cancel","ptt-draft-button-cancel-hover","ptt-draft-button-play-pause","ptt-draft-button-play-pause-hover","ptt-draft-button-play-pause-out-of-chat","ptt-draft-button-stop","ptt-draft-button-stop-hover","ptt-draft-button-send","ptt-draft-button-send-hover","ptt-draft-thumb","ptt-thumb-outgoing-unplayed","ptt-thumb-outgoing-played","ptt-thumb-incoming-unplayed","ptt-thumb-incoming-played","ptt-draft-waveform-background","ptt-draft-waveform-background-border","ptt-ooc-background","ptt-ooc-mic-border-color","ptt-ooc-mic-fill-color","ptt-ooc-avatar-background","ptt-waveform-preview-unplayed","ptt-waveform-incoming-unplayed","ptt-waveform-outgoing-unplayed","ptt-waveform-preview-played","ptt-waveform-incoming-played","ptt-waveform-outgoing-played","ptt-gray","ptt-gray-badge","ptt-green","ptt-message-blue","ptt-text","quick-action-button","quick-action-button-background","reaction-button","reaction-button-background","round-entry-point-background-color","quoted-message-text","rich-text-panel-background","search-container-background","search-input-background","search-input-container-background","search-input-container-background-active","secondary","secondary-light","secondary-lighter","secondary-stronger","security-icon-background","security-icon-lock","security-icon-shield","shadow","shadow-light","spinner-default","spinner-highlight","spinner-incoming","spinner-outgoing","startup-background","startup-icon","status-background","status-background-hover","status-primary","status-secondary","status-secondary-stronger","status-ring-read","status-ring-unread","status-thumbnail-background","status-link-preview-title","status-link-preview-secondary","sticker-button-background","success","suspicious-background","system-message-background","system-message-text","teal-hover","teal-pale","text-action","text-action-link","text-muted","thumb-border-active","thumb-border-viewer-active","toast-background","tooltip-text","tooltip-background","typing","draft-label","unread-background","unread-bar-background","unread-timestamp","unread-marker-background","unread-marker-text","vcard-placeholder-background","vcard-placeholder-background-deeper","video-player-background","pip-player-background","video-primary","voip-accept-background","voip-background","voip-background-deep","voip-video-background","voip-controls-background","voip-primary","voip-alternative","voip-reject-background","voip-disabled-background","wallpaper-background","wallpaper-thumb-border-active","wallpaper-thumb-border-hover","win32-title-primary","reactions-bubble-border","reactions-bubble-counter","reactions-details-background","reactions-tray-background","reactions-details-background-hover","reactions-tray-active-round-background","reactions-picker-bg","svg-gray-button","reactions-panel-background-color","reactions-panel-search-background-color","reactions-search-color","reactions-menu-tab-separator","text-primary-strong","text-secondary-lighter","text-medium-emphasis","icon-medium-emphasis","icon-high-emphasis","switch-button-color","switch-button-checked-color","switch-button-disabled-color","switch-track-color","switch-track-checked-color","switch-track-disabled-color","announcement-speaker-background","communities-green","qc-button-border","qc-button-border-active","qc-quantity-label-highlighted-background","drawer-loading-background","multi-skin-tone-picker-emoji-selected-background","chat-assignment-icon-me","chat-assignment-icon-others","pnh-nux","forward-caption-preview-background","forward-caption-preview-content","skeleton-gradient-background-sides","skeleton-gradient-background-middle","bot-typing-indicator-background-color","bot-suggestion-background-color","bot-command-pill-background-color","bot-command-text","icon-in-cell-frame-background","block-quote-text","inline-code-text","inline-code-background","desktop-upsell-call-btn","date-picker-background-color","date-picker-today-background-color","date-picker-header-background-color","date-picker-text-color","date-picker-today-text-color","date-picker-nav-text-color","date-picker-neighboring-month","carousel-button-background-color","carousel-button-border-color","carousel-button-shadow-color","carousel-button-chevron-color","carousel-button-background-color-active","carousel-button-background-color-hover","carousel-button-shadow-color-hover","navbar-background","navbar-separator","navbar-border","pill-background","pill-text","comments-modal-background","text-disabled"];d=[].concat(b,c,["beige","black","blue-light","blue-ocean","blue-sky","blue-sky-light","blue","dark","green-deep","green","green-accent","orange","pale-blue-green","pale-green","pale-yellow","red-light","red","teal-light","teal-lighter","teal","white","yellow","gray-30","gray-60","gray-70","gray-100","gray-150","gray-200","gray-300","gray-400","gray-500","gray-600","gray-700","gray-800","gray-850","gray-900","wds-pink-50","wds-pink-75","wds-pink-100","wds-pink-200","wds-pink-300","wds-pink-400","wds-pink-500","wds-pink-600","wds-pink-700","wds-pink-800","wds-red-50","wds-red-75","wds-red-100","wds-red-200","wds-red-300","wds-red-400","wds-red-500","wds-red-600","wds-red-700","wds-red-800","wds-orange-50","wds-orange-75","wds-orange-100","wds-orange-200","wds-orange-300","wds-orange-400","wds-orange-500","wds-orange-600","wds-orange-700","wds-orange-800","wds-yellow-50","wds-yellow-75","wds-yellow-100","wds-yellow-200","wds-yellow-300","wds-yellow-400","wds-yellow-500","wds-yellow-600","wds-yellow-700","wds-yellow-800","wds-green-50","wds-green-75","wds-green-100","wds-green-200","wds-green-300","wds-green-400","wds-green-500","wds-green-600","wds-green-700","wds-green-800","wds-emerald-50","wds-emerald-75","wds-emerald-100","wds-emerald-200","wds-emerald-300","wds-emerald-400","wds-emerald-500","wds-emerald-600","wds-emerald-700","wds-emerald-800","wds-teal-50","wds-teal-75","wds-teal-100","wds-teal-200","wds-teal-300","wds-teal-400","wds-teal-500","wds-teal-600","wds-teal-700","wds-teal-800","wds-sky-blue-50","wds-sky-blue-75","wds-sky-blue-100","wds-sky-blue-200","wds-sky-blue-300","wds-sky-blue-400","wds-sky-blue-500","wds-sky-blue-600","wds-sky-blue-700","wds-sky-blue-800","wds-cobalt-50","wds-cobalt-75","wds-cobalt-100","wds-cobalt-200","wds-cobalt-300","wds-cobalt-400","wds-cobalt-500","wds-cobalt-600","wds-cobalt-700","wds-cobalt-800","wds-purple-50","wds-purple-75","wds-purple-100","wds-purple-200","wds-purple-300","wds-purple-400","wds-purple-500","wds-purple-600","wds-purple-700","wds-purple-800","wds-cool-gray-50","wds-cool-gray-75","wds-cool-gray-100","wds-cool-gray-200","wds-cool-gray-300","wds-cool-gray-400","wds-cool-gray-500","wds-cool-gray-600","wds-cool-gray-700","wds-cool-gray-800","wds-cool-gray-900","wds-cool-gray-1000","wds-white-alpha-05","wds-white-alpha-10","wds-white-alpha-20","wds-white-alpha-30","wds-white-alpha-40","wds-white-alpha-50","wds-white-alpha-60","wds-white-alpha-70","wds-white-alpha-80","wds-white-alpha-90","wds-cool-gray-alpha-05","wds-cool-gray-alpha-10","wds-cool-gray-alpha-20","wds-cool-gray-alpha-30","wds-cool-gray-alpha-40","wds-cool-gray-alpha-50","wds-cool-gray-alpha-60","wds-cool-gray-alpha-70","wds-cool-gray-alpha-80","wds-cool-gray-alpha-90","wds-cool-gray-200-alpha-60","wds-cool-gray-600-alpha-50","wds-cool-gray-600-alpha-85","wds-transparent","wds-black","wds-white"]);var h=Array.from(new Set(d));function i(a){var b=document.createElement("style");b.textContent=a;(a=document.head)==null?void 0:a.prepend(b)}function a(){var a="\n    .hotpink, .hotpink.dark, .hotpink.light{\n      "+h.map(function(a){return"--"+a+": "+g+";"}).join("\n")+"\n    }\n  ";i(a)}f.enableHotPink=a}),66);
__d("WAWebWaDesktopIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="wa-desktop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox,h=a.innerStyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox","innerStyles"]);var l;if(g){var m=g.x;m=m===void 0?0:m;var n=g.y;n=n===void 0?0:n;var o=g.width;o=o===void 0?0:o;g=g.height;g=g===void 0?0:g;l=[m,n,o,g].join(" ")}m=68;n=76;(e!=null||f!=null)&&(m=e,n=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(o=l)!=null?o:"0 0 76 68",height:m,width:n,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("rect",{x:9,y:14,width:58,height:38,fill:"#00A884"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 15H66V50.8837H10V15ZM7 50.8837V15C7 13.3431 8.34315 12 10 12H66C67.6569 12 69 13.3431 69 15V50.8837H76V52C76 54.2091 74.2091 56 72 56H66H10H4C1.79086 56 0 54.2091 0 52V50.8837H7Z",fill:"#54656F"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 15H66V50.8837H10V15ZM7 50.8837V15C7 13.3431 8.34315 12 10 12H66C67.6569 12 69 13.3431 69 15V50.8837H76V52C76 54.2091 74.2091 56 72 56H66H10H4C1.79086 56 0 54.2091 0 52V50.8837H7Z",fill:"black",fillOpacity:.6}),j.jsx("rect",{x:21,y:30,width:34,height:34,rx:2,fill:"#25D366",className:i(h==null?void 0:h.logo)}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.4479 52.1996L29.6118 55.3882L32.8004 54.5521L33.4624 54.9318C34.7977 55.6976 36.3448 56.1361 38 56.1361C43.0457 56.1361 47.1361 52.0457 47.1361 47C47.1361 41.9543 43.0457 37.8639 38 37.8639C32.9543 37.8639 28.8639 41.9543 28.8639 47C28.8639 48.6552 29.3024 50.2023 30.0682 51.5376L30.4479 52.1996ZM27 58L28.4514 52.4649C27.528 50.8549 27 48.9891 27 47C27 40.9249 31.9249 36 38 36C44.0751 36 49 40.9249 49 47C49 53.0751 44.0751 58 38 58C36.0109 58 34.1451 57.472 32.5351 56.5486L27 58Z",fill:"white"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.0401 49.2354C42.7664 49.0991 41.4208 48.4409 41.1697 48.3501C40.9187 48.2592 40.7365 48.2138 40.5542 48.4864C40.3719 48.7591 39.8472 49.3723 39.6875 49.5535C39.5279 49.7353 39.3682 49.7578 39.0945 49.6214C38.8209 49.4851 37.939 49.1978 36.8933 48.2706C36.0797 47.5488 35.5303 46.6577 35.3707 46.385C35.211 46.1124 35.3538 45.9651 35.4904 45.8298C35.6133 45.7076 35.764 45.5117 35.9011 45.3529C36.0382 45.1941 36.0834 45.0803 36.1748 44.899C36.2662 44.7172 36.2205 44.5585 36.1522 44.4221C36.0839 44.2858 35.5366 42.946 35.3081 42.4012C35.0859 41.8705 34.8601 41.9426 34.6926 41.9337C34.5329 41.9259 34.3506 41.9243 34.1679 41.9243C33.9851 41.9243 33.6888 41.9922 33.4378 42.2649C33.1867 42.5375 32.4797 43.1962 32.4797 44.5354C32.4797 45.8747 33.4604 47.1696 33.5975 47.3514C33.7345 47.5332 35.5276 50.2822 38.2731 51.4616C38.926 51.7421 39.4359 51.9098 39.8335 52.0351C40.4891 52.2425 41.0857 52.2133 41.5574 52.1432C42.0832 52.0649 43.1767 51.4846 43.4046 50.8489C43.6326 50.2132 43.6326 49.6679 43.5643 49.5545C43.496 49.4412 43.3133 49.3728 43.0396 49.2364L43.0401 49.2354Z",fill:"white"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaDesktopIcon=a}),98);
__d("useWAWebDesktopUpsellQplImpression",["WAQplTypes","WAQuickPerformanceLogger","WAWebQplQuickPerformanceLoggerMarkerIds","asyncToGeneratorRuntime","react","useWAWebCallbackOnce"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useWAWebCallbackOnce")(j);i(function(){a&&void d("impression",b)},[d,a,b])}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{d("WAQuickPerformanceLogger").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,{annotations:{string:{context:a},bool:{showing_content_variation:b}}}),yield d("WAQuickPerformanceLogger").QPL.genMarkerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,d("WAQplTypes").QuickLogActionType.SUCCESS)}catch(a){}});return k.apply(this,arguments)}g.useWAWebDesktopUpsellQplImpression=a;g.logDesktopUpsellQplEvent=j}),98);
__d("WAWebDesktopUpsellLinkDeviceBanner.react",["fbt","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebUISpacing","WAWebWDSButton","WAWebWDSText.react","WAWebWaDesktopIcon","WAWebWamEnumWebcNativeUpsellCtaSourceType","asyncToGeneratorRuntime","justknobx","react","stylex","useWAWebDesktopUpsellQplImpression","useWAWebDesktopUpsellWamImpression"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={bannerWrapper:{marginTop:"xs9mwh0",$$css:!0},bannerContainer:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"xk1nh2v",borderEndColor:"x1l3ee1n",borderBottomColor:"xsbzixq",borderStartColor:"x8z2lm9",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb","@media screen and (max-width: 840px)_paddingStart":"x20dcy2","@media screen and (max-width: 840px)_paddingLeft":null,"@media screen and (max-width: 840px)_paddingRight":null,"@media screen and (max-width: 840px)_paddingEnd":"x8xnxqq",$$css:!0},bannerTextContainer:{"@media screen and (max-width: 840px)_paddingStart":"xfxdvre","@media screen and (max-width: 840px)_paddingLeft":null,"@media screen and (max-width: 840px)_paddingRight":null,"@media screen and (max-width: 840px)_paddingEnd":"x4eg47m",$$css:!0},bannerSubtext:{"@media screen and (max-width: 760px)_display":"x1kxj6np",$$css:!0},bannerAltBtn:{"@media screen and (max-width: 760px)_display":"x1kga5qe","@media screen and (max-width: 760px)_marginTop":"x1dz6z68","@media screen and (max-width: 760px)_width":"x12qy6y7","@media screen and (min-width: 761px)_display":"xbu14h7",$$css:!0},bannerBtn:{"@media screen and (max-width: 760px)_display":"x1kxj6np",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=o(a),e=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareOsVersionCheck(a),f=p(a),g=f?d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER_2:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER;b=b===!0&&e===!0;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({source:g,isCtaVisible:b});d("useWAWebDesktopUpsellQplImpression").useWAWebDesktopUpsellQplImpression(b,f);return!b?null:k.jsx(d("WAWebFlex.react").FlexRow,{as:"aside",align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.bottom30,l.bannerWrapper],className:"light",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.vert24,d("WAWebUISpacing").uiPadding.horiz40,l.bannerContainer]),children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.top6,children:k.jsx(d("WAWebWaDesktopIcon").WaDesktopIcon,{height:55})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{className:j([d("WAWebUISpacing").uiPadding.horiz24,l.bannerTextContainer]),children:[k.jsx(d("WAWebFlex.react").FlexItem,{children:k.jsx(d("WAWebWDSText.react").WDSTextTitle,{color:"primary",xstyle:d("WAWebUISpacing").uiMargin.bottom2,children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle()})}),k.jsx(d("WAWebFlex.react").FlexItem,{className:j([l.bannerSubtext]),children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:n(a,f)})}),k.jsx(d("WAWebFlex.react").FlexRow,{className:j([l.bannerAltBtn]),align:"center",justify:"center",children:k.jsx(m,{isShowingContentVariation:f})})]}),k.jsx(d("WAWebFlex.react").FlexItem,{className:j([l.bannerBtn]),children:k.jsx(m,{isShowingContentVariation:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var c=a.isShowingContentVariation,e=c?d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER_2:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("useWAWebDesktopUpsellQplImpression").logDesktopUpsellQplEvent("click",c),d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(e)});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,children:d("WAWebDesktopUpsellCommonStrings").getDesktopAppDownloadBtnLabel()})}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){return b?a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__zejf0IXT_Fm__JHASH__"):h._("__JHASH__XPvXWy4l0Kz__JHASH__"):a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__78A70I-DUdX__JHASH__"):h._("__JHASH__Z9A-K36zEw9__JHASH__")}function o(a){var b=a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?c("justknobx")._("2450"):c("justknobx")._("2451");return a==null?!1:b}function p(a){var b=c("justknobx")._("2452");return a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?b===!0:!1}g["default"]=a}),226);
__d("WAWebUserPrefsDeviceCapabilities",["WAProtobufsDeviceCapabilities.pb","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h={chatLockSupportLevel:d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.NONE};function i(a){a={chatLockSupportLevel:a.chatLockSupportLevel!=null?a.chatLockSupportLevel:h.chatLockSupportLevel};return a}function j(a){a=(a=typeof a==="object"&&a!=null&&typeof a.chatLockSupportLevel==="number"?d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.cast(a.chatLockSupportLevel):null)!=null?a:h.chatLockSupportLevel;return{chatLockSupportLevel:a}}function k(a){a=i(a);c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.DeviceCapabilities,a,{shouldWriteToIdb:!1})}function l(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.DeviceCapabilities);return j(a)}function a(a){var b=l();b=babelHelpers["extends"]({},b,a);k(b);return b}g.mergeDeviceCapabilitiesToStorage=a}),98);
__d("WAWebDeviceCapabilitiesBootstrap",["WAProtobufsDeviceCapabilities.pb","WAWebChatLockGatingUtils","WAWebDeviceCapabilitiesSync","WAWebUserPrefsDeviceCapabilities","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=!1;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h)return;h=!0;var a={chatLockSupportLevel:d("WAWebChatLockGatingUtils").chatLockEnabled()?d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.FULL:d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.NONE};a=d("WAWebUserPrefsDeviceCapabilities").mergeDeviceCapabilitiesToStorage(a);return c("WAWebDeviceCapabilitiesSync").sendMutation(a)});return i.apply(this,arguments)}g.bootstrapDeviceCapabilities=a}),98);
__d("WAWebDeviceSwitchingPopup.react",["fbt","WAWebChangePhoneIcon","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebUISpacing","WAWebWDSText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){a=a.otpCode;var b=function(){d("WAWebModalManager").ModalManager.close()};a=a.split("");var e=a.slice(0,3);a=a.slice(3);var f=k.jsx(d("WAWebChangePhoneIcon").ChangePhoneIcon,{});e=k.jsx("div",{dir:"ltr",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[e.map(function(a,b){return k.jsx(m,{content:a},b+":"+a)}),k.jsx("span",{className:(j||(j=c("stylex")))(l.hyphen,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.horiz8),"aria-hidden":"true",children:"-"}),a.map(function(a,b){return k.jsx(m,{content:a},b+3+":"+a)})]})});return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:c("WAWebFbtCommon")("OK"),type:d("WAWebModal.react").ModalTheme.InviteNew,buttonAlign:"center",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.all24,children:[f,k.jsx(d("WAWebWDSText.react").WDSTextLarge,{paddingTop:24,paddingBottom:24,weight:"medium",children:h._("__JHASH__esyUrtJoMLK__JHASH__")}),k.jsx("div",{className:"x1jchvi3",children:h._("__JHASH__aiJRoJzlrT6__JHASH__")}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.content;return k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.horiz14,d("WAWebUISpacing").uiPadding.top20],children:k.jsx("span",{className:"x2b8uid xk50ysn x1q74xe4 x1jzgpr8 xzwifym",children:a})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDeviceSwitchAction",["WAWebDeviceSwitchingPopup.react","WAWebModalManager","WAWebNotificationBackend","WAWebUserPrefsMeUser","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("WAWebUserPrefsMeUser").getMeUser();b={wid:b,otpCode:a};void d("WAWebNotificationBackend").showDeviceSwitchNotification(b);d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebDeviceSwitchingPopup.react"),{otpCode:a}))}g.handleOpenDeviceSwitchCode=a}),98);
__d("WAWebDeviceSwitchingBridgeApi",["WAWebDeviceSwitchAction"],(function(a,b,c,d,e,f,g){a={showDeviceSwitchOtp:function(a){a=a.otpCode;d("WAWebDeviceSwitchAction").handleOpenDeviceSwitchCode(a)}};g.DeviceSwitchingBridgeApi=a}),98);
__d("WAWebKeyboardRotateFocus.react",["WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardConstants","WAWebKeyboardTabUtils","WAWebUseIsKeyboardUser","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.focusType,f=k(null);b=c("useMergeRefs")(b,f);var g=c("WAWebUseIsKeyboardUser")(),h=g.setIsKeyboardUser;g=function(a){if(a.metaKey||a.ctrlKey)return;var b=f.current,g;a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.TAB?(a.stopPropagation(),a.preventDefault(),h(!0),c("WAWebFocusIndicator").shouldIndicateFocus(),b!=null&&(g=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD,e))):b!=null&&b===document.activeElement&&(g=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,d("WAWebKeyboardTabUtils").TabDirection.FORWARD,e,function(a){return a.nodeName.toLowerCase()==="input"}));if(g==null)return;c("WAWebFocusIndicator").shouldIndicateFocus();l(g)};return j.jsx("div",{ref:b,style:a.style,className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe",onKeyDown:g,tabIndex:"-1",children:a.children})}a.displayName=a.name+" [from "+f.id+"]";e=b;function l(a){a.restoreFocus?a.restoreFocus():c("WAWebFocusTracer").focus(a)}g.RotateFocus=e}),98);
__d("WAWebDrawerManager.react",["WATypeUtils","WAUpperFirst","WAWebDrawerContext","WAWebDrawerManager","WAWebErrorBoundary.react","WAWebFocusTracer","WAWebKeyboardRotateFocus.react","WAWebKeyboardTabUtils","WAWebNonEmptyString","WAWebUimContext","WAWebUimUie.react","WAWebVelocityTransitionGroup","lodash","react","useWAWebListener","useWAWebUiIdle"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState,m={container:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",left:null,right:null,bottom:"x1ey2m1c",start:"x17qophe",$$css:!0}},n={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"};e={LEFT:"left",MID:"mid",RIGHT:"right"};var o=function(a){return n[a.toUpperCase()]};function a(a){var b,e,f=a.direction,g=a.onDrawerIn,h=a.onDrawerOut,i=a.onDrawerAnimationComplete,p=c("useWAWebUiIdle")(),q=k(null),r=k(null),s=k(!1),t=l(void 0),u=t[0],v=t[1];t=l(null);var w=t[0],x=t[1];t=l(function(){return o(a.direction)});var y=t[0],z=t[1];t=l(void 0);var A=t[0],B=t[1];t=l(void 0);var C=t[0],D=t[1];t=l(void 0);var E=t[0],F=t[1];t=l(d("WAWebDrawerContext").undefinedDrawerContext);var G=t[0],H=t[1];t=l(d("WAWebKeyboardTabUtils").FocusType.CUSTOM);var I=t[0],J=t[1];t=function(a){H(a)};var K=function(a,b){b=b===void 0?{}:b;var e=b.transition,h=e===void 0?o(f):e;e=b.uim;var i=b.noFocus,j=b.onEnterAnimationComplete,k=b.newDrawerContext;k=k===void 0?d("WAWebDrawerContext").undefinedDrawerContext:k;b=b.focusType;var l=d("WAWebNonEmptyString").asMaybeNonEmptyString(c("lodash").uniqueId("DrawerManager"+f));if(!s.current&&u){if(u.key!=null&&c("lodash").isEqual(u.key,a.key))return;r.current=n.NONE;v(a);x(l);z(h);B(e);D(i);F(j);H(k);J(b);p(function(){r.current=h})}else g&&g(),v(a),x(l),z(h),B(e),D(i),F(j),H(k),J(b)},L=function(a){a(s.current===!0?!1:!!u)},M=function(a){if(a!=null&&w!==a)return;if(!u)return;h&&h();s.current=!0;v(void 0);H(d("WAWebDrawerContext").undefinedDrawerContext);p(function(){s.current=!1});d("WAWebDrawerManager").DrawerManager.trigger("drawer_"+f+"_closed")},N=function(){if(!q.current)return;var a=q.current.getElement();if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},O=function(a){var b=i;b&&b();if(E===void 0&&C===void 0)return;u&&a===w&&d("WATypeUtils").isFunction(E)&&E()};(b=d("useWAWebListener")).useListener((e=d("WAWebDrawerManager")).DrawerManager,"open_drawer_"+f,K);b.useListener(e.DrawerManager,"exists_drawer_"+f,L);b.useListener(e.DrawerManager,"close_drawer_"+f,M);b.useListener(e.DrawerManager,"update_context_"+f,t);var P=a.animationDisabled===!0?"none":r.current||y,Q;u&&(Q=j.jsx(d("WAWebUimUie.react").UIE,{displayName:"Drawer"+c("WAUpperFirst")(f),escapable:!0,ref:q,requestFocus:C?null:N,requestDismiss:M.bind(null,w),children:j.jsx(d("WAWebKeyboardRotateFocus.react").RotateFocus,{style:{height:"100%"},focusType:I,children:j.jsx(d("WAWebDrawerContext").DrawerContext.Provider,{value:G,children:j.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"drawer-manager-"+f,children:u})})})},w));return j.jsx(c("WAWebUimContext").Consumer,{children:function(a){return j.jsx(c("WAWebUimContext").Provider,{value:A||a,children:j.jsx(c("WAWebVelocityTransitionGroup"),{xstyle:m.container,transitionName:P,onAnimationComplete:function(){return O(w)},displayName:"DrawerManager",children:Q})})}})}a.displayName=a.name+" [from "+f.id+"]";g.Dir=e;g.DrawerManagerComponent=a}),98);
__d("WAWebFavoriteBridgeApi",["WAWebFavoriteCollection","WAWebFavoriteModel"],(function(a,b,c,d,e,f,g){a={addOrEditFavorites:function(a){a=a.favorites;d("WAWebFavoriteCollection").FavoriteCollection.add(a.map(function(a){return new(d("WAWebFavoriteModel").Favorite)(a)}))},setFavorites:function(a){a=a.favorites;d("WAWebFavoriteCollection").FavoriteCollection.set(a.map(function(a){return new(d("WAWebFavoriteModel").Favorite)(a)}))},removeFavorites:function(a){a=a.favoriteIds;d("WAWebFavoriteCollection").FavoriteCollection.remove(a)}};g.FavoriteBridgeApi=a}),98);
__d("WAWebPipFloatingMsgVideoPlayer.react",["WAWebMediaOpaqueData","WAWebPipConst","WAWebPipFloatingVideoPlayer.react","WAWebPipMsgVideoPlayer.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=d("useWAWebModelValues").useModelValues(a.mediaData,["preview","aspectRatio"]),f=e.preview instanceof c("WAWebMediaOpaqueData")?"url("+e.preview.url()+")":void 0;return i.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:e.aspectRatio,previewUrl:f,animationStartStyle:a.animationStartStyle,bottomContent:a.bottomContent,topContent:a.topContent,enableDragBar:a.enableDragBar,children:i.jsx(d("WAWebPipMsgVideoPlayer.react").WrappedMsgVideoPlayer,{msg:a.msg,mediaData:e,startTime:a.startTime,onClose:a.onClose,onError:a.onError,onOpenMediaViewer:a.onOpenMediaViewer,onMissingMedia:a.onMissingMedia,onUnsupportedMedia:a.onUnsupportedMedia,autoPlay:a.autoPlay,type:d("WAWebPipConst").PlayerType.FLOATER,disablePiPControls:a.disablePiPControls,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebFloatingMsgVideoPlayerRenderer.react",["WAWebPipFloatingMsgVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var d=a.msg;a=babelHelpers.objectWithoutPropertiesLoose(a,["msg"]);return d==null?null:i.jsx(c("WAWebPipFloatingMsgVideoPlayer.react"),{ref:b,msg:d,mediaData:d.mediaData,animationStartStyle:a.animationStartStyle,startTime:a.startTime,onClose:a.onClose,onError:a.onError,onOpenMediaViewer:a.onClose,onMissingMedia:a.onClose,onUnsupportedMedia:a.onClose,autoPlay:a.autoPlay,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";d=b;g["default"]=d}),98);
__d("WAWebPipGetImageDimensionsByUrl",[],(function(a,b,c,d,e,f){function a(a){var b=document.createElement("img");b.src=a;return{width:b.naturalWidth,height:b.naturalHeight}}f["default"]=a}),66);
__d("WAWebPipFloatingOgVideoPlayer.react",["WAWebPipFloatingVideoPlayer.react","WAWebPipGetImageDimensionsByUrl","WAWebPipOgVideoPlayer.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function l(a){a=c("WAWebPipGetImageDimensionsByUrl")(a);var b=a.width;a=a.height;return d("isNonZeroNumber").isNonZeroNumber(b)&&d("isNonZeroNumber").isNonZeroNumber(a)?b/a:void 0}b=j.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a);a=k(function(){return l(e.ogVideoInfo.previewUrl)});var f=a[0],g=a[1];a=function(a){if(!a)return;(f==null||f===0||Math.abs(a-f)>.01)&&g(a)};return j.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:f,previewUrl:e.ogVideoInfo.previewUrl,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:j.jsx(c("WAWebPipOgVideoPlayer.react"),{ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onAspectRatio:a,autoPlay:!0,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebFloatingOgVideoPlayerRenderer.react",["WAWebPipFloatingOgVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var d=a.msg,e=a.videoSrc,f=a.previewUrl;a=babelHelpers.objectWithoutPropertiesLoose(a,["msg","videoSrc","previewUrl"]);return d==null||e==null||f==null?null:i.jsx(c("WAWebPipFloatingOgVideoPlayer.react"),{ref:b,ogVideoInfo:{videoMsg:d,videoUrl:e,previewUrl:f},startTime:a.startTime,onClose:a.onClose,onError:a.onError,animationStartStyle:a.animationStartStyle,autoPlay:a.autoPlay,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";d=b;g["default"]=d}),98);
__d("WAWebRestoreGroupParticipantsAction",["Promise","WALogger","WAWebChatCollection","WAWebDBParticipantTypes","WAWebGroupMetadataCollection","WAWebGroupParticipantModel","WAWebGroupQueryBridge","WAWebSchemaParticipant","WAWebWamGroupMetricCache","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: complete restoring participants for chats ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip sync stale participant for read only chat ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: sync stale participant for ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip for chat - ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: start restoring participants for chats ",""]);m=function(){return a};return a}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(m(),a);var e=new Map();a.forEach(function(a){var f=c("WAWebGroupMetadataCollection").get(a);if(!f||f.participantQueryPromise||!f.stale){d("WALogger").LOG(l(),a);return}f.participantQueryPromise=new(h||(h=b("Promise")))(function(b){e.set(a,b)})});var f=Array.from(e.keys());try{var g=(yield d("WAWebSchemaParticipant").getParticipantTable().bulkGet(f));g.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var g,h=c("WAWebGroupMetadataCollection").get(f[b]);g=!!((g=d("WAWebChatCollection").ChatCollection.get(f[b]))==null?void 0:g.isReadOnly);if(!h)return;try{var i=[],l=[];if(a==null||a.deviceSyncComplete!=null&&!a.deviceSyncComplete||a.staleType===d("WAWebDBParticipantTypes").STALE_TYPES.PARTICIPANT)if(!g){d("WALogger").LOG(k(),f[b]);g=(yield d("WAWebGroupQueryBridge").sendQueryGroup(d("WAWebWidFactory").createWid(f[b])));i=((g=g==null?void 0:g.participants)!=null?g:[]).map(function(a){var b=a.id,d=a.isAdmin;a=a.isSuperAdmin;return new(c("WAWebGroupParticipantModel"))({id:b,isAdmin:d,isSuperAdmin:a})})}else d("WALogger").LOG(j(),f[b]);else{var m=new Set(a.admins),n=a.superAdmins!=null?new Set(a.superAdmins):void 0;i=(g=(g=a.participants)==null?void 0:g.map(function(a){if(n===void 0){var b;b=((b=h.owner)==null?void 0:b.toString())===a}else b=n.has(a);return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createUserWid(a),isAdmin:m.has(a),isSuperAdmin:b})}))!=null?g:[]}if(a==null)l=[];else{l=(g=a.pastParticipants)==null?void 0:g.map(function(a){var b=a.jid,e=a.leaveTs;a=a.leaveReason;return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createWid(b),leaveTs:e,leaveReason:a})})}h.participants.add(i,{merge:!0});h.pastParticipants.add(l,{merge:!0});h.stale=!1;h.deviceStale=(a==null?void 0:a.staleType)===d("WAWebDBParticipantTypes").STALE_TYPES.DEVICE;a!=null&&d("WAWebWamGroupMetricCache").cacheGroupMetrics(a)}finally{g=e.get(f[b]);g==null?void 0:g();h.participantQueryPromise=null}});return function(b,c){return a.apply(this,arguments)}}())}catch(a){f.forEach(function(a){var b=e.get(a);b==null?void 0:b();b=c("WAWebGroupMetadataCollection").get(a);b&&(b.participantQueryPromise=null)});return}d("WALogger").DEV(i(),a)});return n.apply(this,arguments)}g.restoreGroupParticipantsForChats=a}),98);
__d("WAWebUpdateModelForGroupAction",["Promise","WALogger","WANullthrows","WATimeUtils","WAWebABProps","WAWebChatCollection","WAWebCommunityActivityCollection","WAWebCommunityActivityModel","WAWebCommunityGatingUtils","WAWebCommunitySubgroupSuggestionsUtils","WAWebEphemeralityUtils","WAWebGroupGetMembershipApprovalRequestsJob","WAWebGroupMetadataCollection","WAWebGroupType","WAWebInvalidateEventsAction","WAWebLeaveReasonType","WAWebNux","WAWebNuxAction","WAWebPollsInvalidateChatPollMsgsAction","WAWebRemoveFromFavoritesAction","WAWebUpdateModelsForCommunityAction","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["unhandled group notif action in handleGroupAction"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["model:chat:handleGroupAction:invalid invite code: "," for ",""]);j=function(){return a};return a}function a(a,e){var f=a.chatId,g=d("WAWebChatCollection").ChatCollection.get(f);if(!g)return(h||(h=b("Promise"))).resolve();var k=c("WANullthrows")(g.groupMetadata),l=a.author,m=a.ts;switch(e.actionType){case d("WAWebGroupType").GROUP_ACTIONS.SUBJECT:var n={name:e.subject};g.contact.set(n);k.set("subject",e.subject);break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);if(n.participants.iAmAdmin()){var o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!1}});n.participants.add(o,{merge:!0})}else n.participants.remove(e.participants.map(function(a){return a.id}));if(e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)})){o=n.participants.filter(function(a){return!a.isAdmin}).map(function(a){return a.id});n.participants.remove(o)}break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!0}});n.participants.add(o,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.ADD:case d("WAWebGroupType").GROUP_ACTIONS.PROMOTE:case d("WAWebGroupType").GROUP_ACTIONS.DEMOTE:if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){n=e.participants.some(function(a){return a.id.isLid()});o=k.isCag;var p=Boolean(k.isLidAddressingMode);if(n&&!o&&!p)break}n=[];var q=new Set();k.participants.iAmAdmin()||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE?(n=e.participants.map(function(a){a=a.id;return a}),e.participants.forEach(function(a){var b=a.lid,c=a.id;a=a.isAdmin;a&&q.add(c.toString());if(b==null||c.isLid())return;k.participants.remove(b)})):e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(n=e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?a:b}),e.participants.forEach(function(a){var b=a.lid;a=a.id;if(b==null||a.isLid())return;k.participants.remove(a)}));o=n.map(function(a){return{id:a,isAdmin:e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD&&q.has(a.toString())}});k.participants.add(o,{merge:!0});if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){n.forEach(function(a){k.pastParticipants.remove(a),d("WAWebUserPrefsMeUser").isMeAccount(a)&&k.pastParticipants.reset()});k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&n.forEach(function(a){k.membershipApprovalRequests.remove(a)});n.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.toString(),g.id)});if(e.isParentGroup===!0){c("WAWebCommunityActivityCollection").add({id:f.toString(),communityId:f,type:d("WAWebCommunityActivityModel").ActivityTypeType.NEW_COMMUNITY,timestamp:(p=m)!=null?p:d("WATimeUtils").unixTime()})}}if(n.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a)}))if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE){if(d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&k.groupType===d("WAWebGroupType").GroupType.COMMUNITY){o=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());d("WAWebNuxAction").resetNux(o)}k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebGroupGetMembershipApprovalRequestsJob").queryAndUpdateGroupMembershipApprovalRequests(g.id)}else e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.REMOVE:p=!1;var r=[],s=[],t=d("WAWebUserPrefsMeUser").getMeUser();e.participants.forEach(function(b){var c=b.id,e=b.lid;b=b.isAdmin;var f=t.equals(c);e!=null&&f&&b===!0?(r.push(e),r.push(c)):r.push(c);s.push({id:c,leaveTs:m,leaveReason:c.equals(a.author)?d("WAWebLeaveReasonType").LeaveReason.Left:d("WAWebLeaveReasonType").LeaveReason.Removed});d("WAWebUserPrefsMeUser").isMeAccount(c)&&(p=!0)});k.participants.remove(r);k.pastParticipants.add(s);e.reason===d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE&&k.participants.add(e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?{id:a}:{id:b}}),{merge:!0});e.participants.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.id.toString(),g.id)});p&&(void d("WAWebPollsInvalidateChatPollMsgsAction").invalidateChatPollMsgs(g),void d("WAWebInvalidateEventsAction").invalidateEventMsgsForChat(g),void d("WAWebRemoveFromFavoritesAction").removeFromFavoritesAction(g.id,{suppressToast:!0}));if(!k.isParentGroupParticipant()&&k.parentGroup){n=k.getParentGroupChat();n==null?void 0:(o=n.groupMetadata)==null?void 0:o.trigger("exitParentGroup");d("WAWebUpdateModelsForCommunityAction").updateModelsForExitedCommunity(k.parentGroup)}break;case d("WAWebGroupType").GROUP_ACTIONS.MODIFY:if(l&&e.participants&&e.participants.length>0){n=l;o=e.participants[0].id;n=k.participants.remove(n);var u=!1,v=!1;n.length&&n[0]&&(u=n[0].isAdmin,v=n[0].isSuperAdmin);n={id:o,isAdmin:u,isSuperAdmin:v};k.participants.add(n)}break;case d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE:e.code?k.inviteCode=e.code:d("WALogger").WARN(j(),e.code,g.id.toString());break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD:k.set({desc:e.desc,descId:e.descId,descTime:e.descTime,descOwner:l==null?void 0:l.toString()});break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE:if(k.descId===e.descId){k.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0});break}break;case d("WAWebGroupType").GROUP_ACTIONS.RESTRICT:k.restrict=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.SUSPEND:o=!!e.value;k.suspended=o;d("WAWebUpdateModelsForCommunityAction").maybeUpdateModelsForCommunitySuspendedStatus(f,o);break;case d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE:k.announce=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD:k.noFrequentlyForwarded=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL:k.ephemeralDuration=e.duration;k.disappearingModeTrigger=d("WAWebEphemeralityUtils").getDisappearingModeTrigger(e.trigger);k.disappearingModeInitiatedByMe=e.initiatedByMe;break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE:var w=[];e.participants.forEach(function(a){a=a.id;k.pendingParticipants.get(a)&&w.push(a)});k.pendingParticipants.remove(w);break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE:e.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForIntegrityDeactivateCommunity(f):e.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForDeactivateCommunity(f):k.terminated=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED:k.growthLockExpiration=void 0;k.growthLockType=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED:e.type==="invite"&&(k.growthLockExpiration=e.expiration,k.growthLockType=e.type);break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK:k.parentGroup=e.groupDatas[0].id;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:g.id,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:k.parentGroup,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK:k.parentGroup=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(g.id,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(k.parentGroup,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&(k.membershipApprovalMode=!!e.value,e.value||k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:k.set("reportToAdminMode",e.value);e.value||k.set("lastReportToAdminTimestamp",null);break;case d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED:k.set("lastReportToAdminTimestamp",e.value);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){u=c("WANullthrows")(l);k.membershipApprovalRequests.add({id:u,t:m,addedBy:u,requestMethod:e.requestMethod,parentGroupId:e.parentGroupId})}break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){v=e.requests.map(function(a){return{id:a,t:m,addedBy:c("WANullthrows")(l),requestMethod:e.requestMethod,parentGroupId:e.parentGroupId}});k.membershipApprovalRequests.add(v)}break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&e.requests.forEach(function(a){k.membershipApprovalRequests.remove(a)});break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:k.allowNonAdminSubGroupCreation=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:k.subgroupSuggestions.add({id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(e.id,e.owner),groupId:e.id,parentGroupId:e.parentGroupId,subject:e.subject,desc:e.description,owner:e.owner,t:e.t,isExistingGroup:e.isExistingGroup,participantCount:e.participantCount},{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS:k.subgroupSuggestions.remove(e.subgroupSuggestions.map(function(a){var b=a.id;a=a.owner;return d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(b,a)}));break;case d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:n=e.subgroupSuggestions.map(function(a){return k.subgroupSuggestions.get(d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a,e.oldOwner))}).filter(Boolean);k.subgroupSuggestions.remove(n);k.subgroupSuggestions.add(n.map(function(a){return{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.groupId,e.newOwner),groupId:a.groupId,parentGroupId:a.parentGroupId,subject:a.subject,desc:a.desc,owner:e.newOwner,t:a.t,isExistingGroup:a.isExistingGroup,participantCount:a.participantCount}}),{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE:d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&(k.memberAddMode=e.memberAddMode);break;case d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED:k.generalChatAutoAddDisabled=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE:o=[{id:e.newOwner,isAdmin:!0,isSuperAdmin:!0}];if(e.oldOwner!=null){o.push({id:e.oldOwner,isAdmin:!0,isSuperAdmin:!1});if(d("WAWebUserPrefsMeUser").isMeAccount(e.oldOwner)){f=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());void d("WAWebNuxAction").dismissNux(f)}}k.owner=e.newOwner;k.participants.add(o,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP:k.hiddenSubgroup=!!e.value;break;default:d("WALogger").ERROR(i()).tags("groups");break}return(h||(h=b("Promise"))).resolve()}g.updateModelForGroupAction=a}),98);
__d("WAWebGroupBridgeApi",["WAWebChatCollection","WAWebCommunitySubgroupSuggestionsUtils","WAWebContactCollection","WAWebCreateOrUpdateGroupMetadataAction","WAWebGroupMetadataCollection","WAWebMsgCollection","WAWebRestoreGroupParticipantsAction","WAWebUpdateModelForGroupAction"],(function(a,b,c,d,e,f,g){a={updateModelForGroupAction:function(a){var b=a.groupMeta;a=a.groupAction;d("WAWebUpdateModelForGroupAction").updateModelForGroupAction(b,a)},restoreGroupParticipantsForChats:function(a){a=a.chatIds;d("WAWebRestoreGroupParticipantsAction").restoreGroupParticipantsForChats(a)},expireGroupInviteV4:function(a){a=a.inviteMsgId;(a=d("WAWebMsgCollection").MsgCollection.get(a))==null?void 0:a.set({inviteCodeExp:"0"})},updateGroupSubject:function(a){var b=a.id;a=a.subject;d("WAWebContactCollection").ContactCollection.add({id:b,name:a},{merge:!0})},updateGroupAddressingMode:function(a){var b=a.id,d=a.isLidAddressingMode;a=a.groupInfoUpdate;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.set(babelHelpers["extends"]({isLidAddressingMode:d},a))},notAlreadyInGroup:function(a){var b=a.groupId;a=a.participants;var c=(b=d("WAWebChatCollection").ChatCollection.get(b))==null?void 0:b.groupMetadata;return!c?a:a.filter(function(a){a=a.id;return!c.participants.get(a)})},createOrUpdateGroupMetadataFromQuery:function(a){a=a.groupInfo;d("WAWebCreateOrUpdateGroupMetadataAction").createOrUpdateGroupMetadataModelFromQuery(a)},createOrUpdateSubgroupSuggestions:function(a){var b=a.parentGroupId;a=a.subgroupSuggestions;b=c("WAWebGroupMetadataCollection").gadd(b);b.subgroupSuggestions.set(a.map(function(a){return babelHelpers["extends"]({},a,{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.id,a.owner),groupId:a.id})}))}};g.GroupBridgeApi=a}),98);
__d("WAWebSendKeyDistributionMsgAction",["Promise","WAWebGroupMetadataCollection","WAWebMsgKey","WAWebSendMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.isGroup())return(h||(h=b("Promise"))).reject(c("err")("[messaging] sendKeyDistributionMsg: only group chats are supported`"));var e=d("WAWebUserPrefsMeUser").getMaybeMeUser();e=new(c("WAWebMsgKey"))({from:e,to:a,id:yield c("WAWebMsgKey").newId(),participant:d("WAWebWidFactory").toUserWid(e),selfDir:"out"});yield c("WAWebGroupMetadataCollection").find(a);return d("WAWebSendMsgJob").encryptAndSendKeyDistributionMsg(e)});return i.apply(this,arguments)}g.sendKeyDistributionMsg=a}),98);
__d("WAWebGroupCreationKeyDistribution",["WALogger","WAWebDBGroupsGroupMetadata","WAWebGroupsParticipantsApi","WAWebMessagingGatingUtils","WAWebSendKeyDistributionMsgAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message failed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message: done"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;b=(b=(b=(yield d("WAWebGroupsParticipantsApi").getParticipants(a)))==null?void 0:b.participants.length)!=null?b:0;c=(c=(c=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a)))==null?void 0:c.announce)!=null?c:!1;!c&&b&&d("WAWebMessagingGatingUtils").sendKeyDistributionMsgToNewGroups()&&b>=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMinGroupSize()&&b<=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMaxGroupSize()&&(d("WALogger").LOG(j()).tags("groups"),d("WAWebSendKeyDistributionMsgAction").sendKeyDistributionMsg(a).then(function(){d("WALogger").LOG(i()).tags("groups")})["catch"](function(a){d("WALogger").WARN(h(),a).tags("groups")}))});return k.apply(this,arguments)}g.maybeSendKeyDistributionMsgToNewGroup=a}),98);
__d("WAWebGroupMetadataBridgeApi",["Promise","WAWebChatCollection","WAWebGroupMetadataCollection","WAWebWamNumberToSizeBucket","nullthrows"],(function(a,b,c,d,e,f,g){var h;a={getGroupMetadata:function(a){a=a.groupWid;return c("WAWebGroupMetadataCollection").get(a)},updateCachedDeviceCount:function(a){var b=a.groupWid;a=a.deviceCount;b=c("WAWebGroupMetadataCollection").get(b);b!=null&&(b.cachedDeviceCount=a,b.cachedDeviceSizeBucket=c("WAWebWamNumberToSizeBucket")(a))},setGroupMetadata:function(a){var b;(b=c("WAWebGroupMetadataCollection").get(a.id))==null?void 0:b.set(a)},removeMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requestIds;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.membershipApprovalRequests.remove(a)},addMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requests;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.membershipApprovalRequests.add(a,{merge:!0})},syncEphemeralTriggerCollectionForGroup:function(a){var e=a.chatId;a=a.trigger;e=d("WAWebChatCollection").ChatCollection.get(e);if(!e)return(h||(h=b("Promise"))).resolve();e=c("nullthrows")(e.groupMetadata);e!=null&&(e.disappearingModeTrigger=a);return(h||(h=b("Promise"))).resolve()}};g.GroupMetadataBridgeApi=a}),98);
__d("WAWebMdBootstrapHistoryDataReceivedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdBootstrapPayloadType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdBootstrapHistoryDataReceived:[2998,{historySyncChunkOrder:[6,a.TYPES.INTEGER],historySyncStageProgress:[5,a.TYPES.INTEGER],mdBootstrapHistoryPayloadType:[3,d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE],mdBootstrapPayloadType:[2,d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE],mdSessionId:[1,a.TYPES.STRING],mdTimestamp:[4,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdBootstrapHistoryDataReceived:[]});g.MdBootstrapHistoryDataReceivedWamEvent=b}),98);
__d("WAWebHandleHistorySyncNotification",["WALogger","WATimeUtils","WAWebABProps","WAWebApiHistorySyncNotification","WAWebDownloadManager","WAWebGetMetricHistorySyncPayloadType","WAWebHandleHistorySyncChunk","WAWebHistorySyncNotificationUtils","WAWebHistorySyncProgress","WAWebHttpErrors","WAWebJestE2ELogUtils","WAWebMdBootstrapHistoryDataReceivedWamEvent","WAWebMsgKey","WAWebNonMessageDataRequestHistorySyncOnDemandUtils","WAWebProtobufsE2E.pb","WAWebProtobufsHistorySync.pb","WAWebSendHistSyncServerErrorReceiptJob","WAWebSyncBootstrap","WAWebSyncGatingUtils","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsHistorySync","WAWebUserPrefsMeUser","WAWebUserPrefsTypes","WAWebWamEnumMdBootstrapPayloadType","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][continueProgressiveHistorySyncProcessingV2] trigger notification processing after receiving ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][recent sync] history sync download failed"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] start downloading chunk when receiving notification, ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setHistorySyncEarliestDate: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting estimated total chunk count: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] recent or full chunk received, adding chunk info to db: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] clean history sync on demand rdu request as it is received without timeout with key ","."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] drop on demand history sync notification as it's timeout with key ","."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] on demand history sync chunk does not have requested session id."]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] on demand history sync received ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial pushname received ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial sync received ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting total chunk count when receiving: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Dropping full history sync for ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync payload wid error"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync empty wid error"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Assert get me is empty during history sync"]);x=function(){return a};return a}var y=11;function a(a,b,c){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("received history sync notif");if(!a)return;try{d("WAWebUserPrefsMeUser").assertGetMeUser()}catch(a){d("WALogger").ERROR(x()).sendLogs("Assert get me is empty during history sync");return}if(!d("WAWebUserPrefsMeUser").isMePrimaryNonLid(b)){if(b==null||!(b instanceof c("WAWebWid"))){d("WALogger").ERROR(w()).sendLogs("History sync empty wid error");return}d("WALogger").ERROR(v()).sendLogs("History sync payload wid error");return}var f=a.downloadOptions;if(!f)return;if(!c("gkx")("26258")&&(d("WAWebABProps").getABPropConfigValue("web_abprop_drop_full_history_sync")&&a.historySyncNotification.syncType===d("WAWebProtobufsE2E.pb").Message$HistorySyncNotification$HistorySyncType.FULL)){d("WALogger").DEV(u(),d("WAWebUserPrefsMeUser").getMeUser().user).tags("history-sync");return}var g=!!a.historySyncNotification.originalMessageId;e=g?a.historySyncNotification.originalMessageId:e;b=new(c("WAWebMsgKey"))({remote:b,fromMe:!0,id:e}).toString();e=(e=a.historySyncNotification.progress)!=null?e:0;b={msgKey:b,processed:0,downloadOptions:f,isReupload:1,historySyncStepStartedTs:d("WATimeUtils").unixTimeMs(),reuploadPending:!1,historySyncPayloadSize:a.historySyncNotification.fileLength,oldestMsgInChunkTimestampSec:a.historySyncNotification.oldestMsgInChunkTimestampSec,initialHistBootstrapInlinePayload:a.historySyncNotification.initialHistBootstrapInlinePayload,peerDataRequestSessionId:a.historySyncNotification.peerDataRequestSessionId,progress:e};(!g||a.historySyncNotification.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP)&&(b.syncType=a.historySyncNotification.syncType,b.chunkOrder=a.historySyncNotification.chunkOrder||0,b.isReupload=0);f=b;if(f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT&&e===100){g=f.chunkOrder;d("WALogger").LOG(t(),g);yield d("WAWebUserPrefsHistorySync").setChunkCountForEndOfRecentHistorySync((g=g)!=null?g:1);void d("WAWebHistorySyncProgress").updateHistorySyncProgressModel()}g=new(d("WAWebMdBootstrapHistoryDataReceivedWamEvent").MdBootstrapHistoryDataReceivedWamEvent)({mdBootstrapPayloadType:f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP?d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.CRITICAL:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdBootstrapHistoryPayloadType:d("WAWebGetMetricHistorySyncPayloadType").getMetricHistorySyncPayloadType(f.syncType),mdTimestamp:d("WATimeUtils").unixTimeMs(),mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId(),historySyncStageProgress:e});f.chunkOrder!=null&&(g.historySyncChunkOrder=f.chunkOrder);g.commit();switch(f.syncType){case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_STATUS_V3:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.NON_BLOCKING_DATA:d("WALogger").LOG(s(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(f);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.PUSH_NAME:d("WALogger").LOG(r(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));yield d("WAWebApiHistorySyncNotification").enqueueNotification(babelHelpers["extends"]({},f,{downloadOptions:babelHelpers["extends"]({},f.downloadOptions)}),!0);d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(f);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.ON_DEMAND:if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()){d("WALogger").LOG(q(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));f.peerDataRequestSessionId==null&&d("WALogger").LOG(p());if(!d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.has((e=f.peerDataRequestSessionId)!=null?e:"")){d("WALogger").LOG(o(),c("gkx")("26258")?"":f.peerDataRequestSessionId);return}d("WALogger").LOG(n(),c("gkx")("26258")?"":f.peerDataRequestSessionId);f.peerDataRequestChatId=d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.get((g=f.peerDataRequestSessionId)!=null?g:"");d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests["delete"]((e=f.peerDataRequestSessionId)!=null?e:"");yield d("WAWebApiHistorySyncNotification").enqueueNotification(f)}break;default:d("WALogger").LOG(m(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));if(f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT){if(b.chunkOrder!=null&&a.progress!=null&&a.progress!==0){g=Math.ceil(b.chunkOrder/(a.progress/100));d("WALogger").LOG(l(),g);d("WAWebUserPrefsHistorySync").setEstimatedChunkCountForEndOfRecentHistorySync(g)}if(b.oldestMsgInChunkTimestampSec!=null){e=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate();e&&b.oldestMsgInChunkTimestampSec<e&&(d("WALogger").DEV(k(),b.oldestMsgInChunkTimestampSec),d("WAWebUserPrefsHistorySync").setHistorySyncEarliestDate(b.oldestMsgInChunkTimestampSec))}void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.RECEIVED,f.chunkOrder);a=f.chunkOrder!=null&&f.chunkOrder<=y;if(d("WAWebSyncGatingUtils").isRecentSyncDownloadOptimizationEnabled()&&a){g=(yield d("WAWebHistorySyncNotificationUtils").getHistorySyncMetrics(f,!0));e=g.historySyncStartDownloadingMetric;b=g.historySyncDownloadedMetric;try{void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADING,f.chunkOrder);d("WAWebHistorySyncNotificationUtils").commitHistoryStartDownloadingMetric(e,f.historySyncStepStartedTs,d("WATimeUtils").unixTimeMs());d("WALogger").LOG(j(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f)).tags("history-sync");a=f.chunkOrder!==1;g=(yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},f.downloadOptions,{isPreload:a})));f.downloadedHistorySyncPayload=g;void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADED,f.chunkOrder);f.downloadOptions.mediaKey="";d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(b,f.historySyncStepStartedTs,!0,d("WATimeUtils").unixTimeMs())}catch(a){d("WALogger").WARN(i()).devConsole(a);if(!(a instanceof d("WAWebHttpErrors").HttpNetworkError)){e=c("WAWebMsgKey").fromString(f.msgKey);d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(b,f.historySyncStepStartedTs,!1,d("WATimeUtils").unixTimeMs());void c("WAWebSendHistSyncServerErrorReceiptJob")(e.remote,e.id,f.downloadOptions.mediaKey);return}}}}yield d("WAWebApiHistorySyncNotification").enqueueNotification(f)}d("WALogger").LOG(h(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));void c("WAWebSyncBootstrap").continueProgressiveHistorySyncProcessingV2(d("WAWebHistorySyncNotificationUtils").HistorySyncScheduleSource.NewRecentSyncNotification)});return z.apply(this,arguments)}g.handleHistorySyncNotification=a}),98);
__d("WAWebKeyManagementHandleKeyRequestApi",["WALogger","WASyncdCryptoUtils","WASyncdHandleKeyRequest","WASyncdKeyTypes","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \t keys with keydata: [","]\n      \t keys without keydata: [","]"],["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \\t keys with keydata: [","]\n      \\t keys without keydata: [","]"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ","\n    \t for keyIds: [","]"],["syncd: handleAppStateSyncKeyRequest from device ","\n    \\t for keyIds: [","]"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key request wid error"]);j=function(){return a};return a}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(b)){d("WALogger").ERROR(j()).sendLogs("syncd: key request wid error");return}a=a.keyIds;if(a){a=a.map(function(a){return a.keyId}).filter(Boolean).map(d("WASyncdKeyTypes").toSyncKeyId);d("WALogger").LOG(i(),b.getDeviceId(),a.map(d("WASyncdCryptoUtils").syncKeyIdToHex));if(a){a=(yield d("WASyncdHandleKeyRequest").getKeysForKeyRequest(a));var c=a.keys;a=a.orphanKeys;d("WALogger").LOG(h(),b.getDeviceId(),c.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a.keyId)}),a.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a)}));return d("WAWebPersistedJobManager").getJobManager().waitUntilPersisted(d("WAWebPersistedJobDefinitions").jobSerializers.sendRequestedKeyShare(c,a,b))}}});return k.apply(this,arguments)}g.handleAppStateSyncKeyRequest=a}),98);
__d("WAWebKeyManagementHandleKeyShareApi",["Promise","WAJids","WALogger","WALongInt","WASyncdCryptoUtils","WASyncdHandleKeyShare","WASyncdKeyManagementUtils","WASyncdKeyTypes","WAWebSyncdCriticalBootstrapProcessingApi","WAWebSyncdFatal","WAWebSyncdUploadFatalErrorMetric","WAWebUserPrefsMeUser","WAWebWamEnumBootstrapAppStateDataStageCode","WAWebWamEnumMdSyncdFatalErrorCode","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share wid error"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data (from companion)"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: key share key id has invalid bytelength of ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: incoming key info\n        \tkeyId: ",""],["syncd: incoming key info\n        \\tkeyId: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key share key id "," from device "," "," keyData"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key with missing keyID from device ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handling key share from device "," with "," keys"]);p=function(){return a};return a}var q=0,r=6,s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_RECEIVED);var e=c.getDeviceId();d("WALogger").LOG(p(),e,a.keys.length);var f=[];c=a.keys;if(!c)return(h||(h=b("Promise"))).resolve();yield (h||(h=b("Promise"))).all(c.map(function(a){var b;b=(b=a.keyId)==null?void 0:b.keyId;a=a.keyData;var c=a==null?void 0:a.keyData,g=c==null?null:d("WASyncdKeyTypes").toSyncKeyData(c);if(!b){d("WALogger").LOG(o(),e);return}var h=d("WASyncdKeyTypes").toSyncKeyId(b),i=d("WASyncdCryptoUtils").syncKeyIdToHex(h);d("WALogger").LOG(n(),i,e,c!=null?"with":"without");c&&d("WALogger").DEV(m(),i);if(b.byteLength!==r){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_ID,null);d("WALogger").ERROR(l(),b.byteLength).sendLogs("syncd: fatal error: key share key id has invalid bytelength of "+b.byteLength);return d("WAWebSyncdFatal").handleFatalError()}if(a){c=a.timestamp;b=(i=a.fingerprint)==null?void 0:i.currentIndex;i=(i=a.fingerprint)==null?void 0:i.rawId;a=(a=a.fingerprint)==null?void 0:a.deviceIndexes;if(!g||c==null||b==null||i==null||!a){if(e!==q){d("WALogger").ERROR(k()).sendLogs("syncd: fatal error: invalid key share key data (from companion)");return}d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_DATA,null);d("WALogger").ERROR(j()).sendLogs("syncd: fatal error: invalid key share key data");return d("WAWebSyncdFatal").handleFatalError()}g={keyId:h,keyEpoch:d("WASyncdKeyManagementUtils").getKeyEpoch(h),keyData:g,timestamp:d("WALongInt").numberOrThrowIfTooLarge(c),fingerprint:{rawId:i,currentIndex:b,deviceIndexes:a}};f.push({keyId:h,fullKey:g})}else f.push({keyId:h,fullKey:null})}));return d("WASyncdHandleKeyShare").handleKeyShare(d("WAJids").interpretAsDeviceId(e),f)});return function(b,c){return a.apply(this,arguments)}}();function a(a,c){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(c)){d("WALogger").ERROR(i()).sendLogs("syncd: key share wid error");return(h||(h=b("Promise"))).resolve()}return s(a,c)}function e(a){if(c("gkx")("26258"))return;s=a(s)}g.handleAppStateSyncKeyShare=a;g.setAppStateSyncKeyShareHandler=e}),98);
__d("WAWebNonMessageDataRequestHandlerPlaceholderResend",["WALogger","WATimeUtils","WAWebE2EProtoUtils","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestLoggingUtils","WAWebParseWebMessageInfoApi","WAWebProtobufsE2E.pb","WAWebProtobufsWeb.pb","WAWebSyncGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumPeerDataResponseApplyResultType","WAWebWidFactory","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to recognize message type"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as status message with no participant"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as broadcast message with no participant"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as group message with no participant"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as the message is not from me"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as web message info in result"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as placeholder message resend response in result"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got empty response in result"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: Handle placeholder resend response results with length ",""]);q=function(){return a};return a}function a(a,b){if(!d("WAWebSyncGatingUtils").isPlaceholderMessageResendEnabled())return;var c=b.length;d("WALogger").LOG(q(),c);if(c===0){d("WALogger").LOG(p());d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.INVALID_RESPONSE,0,0,0);return}var e=0,f=0;b.forEach(function(a){try{a=a.placeholderMessageResendResponse;if(a==null){d("WALogger").LOG(o());f++;return}a=a.webMessageInfoBytes;if(a==null){d("WALogger").LOG(n());f++;return}a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWeb.pb").WebMessageInfoSpec,a);var b={verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null},c=[d("WAWebParseWebMessageInfoApi").parseWebMessageInfo(a)],g=r(a),h=d("WAWebMsgProcessingApiUtils").isRevokeInfo(g)?d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.PEER_RETRY:d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE;d("WAWebHandleMsgProcess").processMsgs({renderableMsgs:c,reparsing:!1,bizInfo:b,msgMeta:null,paymentInfo:a.paymentInfo,info:g,messageOverwriteOption:h})}catch(a){d("WALogger").ERROR(m(),a).sendLogs("placeholderResendResponse: error while handling response from placeholder resend request");f++;return}e++});d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,f===0?d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.SUCCESS:d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.OTHER_ERROR,c,e,f);return}function r(a){var b=d("WAWebE2EProtoUtils").protobufToMsgKey(a.key),e={externalId:b.id,ts:a.messageTimestamp!=null?d("WATimeUtils").castLongIntToUnixTime(a.messageTimestamp):d("WATimeUtils").unixTime(),edit:-1,isHsm:!1,count:null,pushname:a.pushName,displayName:null,senderPn:null,senderLid:null,recipientLid:null,recipientPn:null,category:null,offline:null},f=d("WAWebUserPrefsMeUser").getMeUser(),g;b.remote.isGroup()?g=b.remote:g=b.fromMe?f:b.remote;var m;a.participant!=null?m=d("WAWebWidFactory").createWid(a.participant):b.participant!=null&&(m=b.participant);f=a.userReceipt.map(function(a){return d("WAWebWidFactory").createUserWid(a.userJid)});if(g.isUser()){if(f!=null&&f.length>0){if(!d("WAWebUserPrefsMeUser").isMeAccount(g)){d("WALogger").LOG(l());throw c("err")("recipient on non peer chat message")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:f[0],author:g})}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:d("WAWebWidFactory").toUserWid(g),author:g})}else if(g.isGroup()){if(m==null){d("WALogger").LOG(k());throw c("err")("group message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP},e,{chat:g,author:m,isDirect:!1})}else if(g.isBroadcast()&&!g.isStatus()){if(m==null){d("WALogger").LOG(j());throw c("err")("broadcast message with no participant")}return d("WAWebUserPrefsMeUser").isMeAccount(m)?babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST},e,{chat:g,author:m,isDirect:!1,bclParticipants:[],bclHashValidated:!1,bclEphSettings:{}}):babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST},e,{chat:g,author:m,isDirect:!1,ephSetting:null})}else if(g.isBroadcast()&&g.isStatus()){if(m==null){d("WALogger").LOG(i());throw c("err")("status message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS},e,{chat:g,author:m,isDirect:!1})}d("WALogger").LOG(h());throw c("err")("Unrecognized message type")}g.handlePlaceholderResendOperationRequestResponse=a}),98);
__d("WAWebSendNonMessageDataRequestResponse",["Promise","WALogger","WAWebApiPeerMessageStore","WAWebMsgKey","WAWebMsgType","WAWebProtobufsE2E.pb","WAWebSendAppStateSyncMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["peer message: the constructed peer data operation request response message is null"]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield k(a,c,e));if(a==null){d("WALogger").WARN(i());return(h||(h=b("Promise"))).resolve()}yield d("WAWebApiPeerMessageStore").storePeerMessages([a]);return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg(a)});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=null;switch(b){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:f=m(a,e);break;default:break}if(f==null)return null;b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").getMeUser(),id:yield c("WAWebMsgKey").newId()});return{id:b,to:d("WAWebWidFactory").createDeviceWidFromUserAndDevice(d("WAWebUserPrefsMeUser").assertGetMe().user,d("WAWebUserPrefsMeUser").assertGetMe().server,0),type:"protocol",subtype:"peer_data_operation_request_response_message",kind:d("WAWebMsgType").MsgKind.PeerMessage,peerDataOperationRequestResponseMessage:f}});return l.apply(this,arguments)}function m(a,b){return b==null?null:{stanzaId:a,peerDataOperationRequestType:d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,peerDataOperationResult:b}}g.sendPeerDataOperationRequestResponseMessage=a}),98);
__d("WAWebNonMessageDataRequestHandlerUploadSticker",["Promise","WABase64","WALogger","WANullthrows","WATimeUtils","WAWebCryptoRandomMediaKey","WAWebFavoriteStickerCollection","WAWebMediaEntry","WAWebMediaMmsV4Upload","WAWebMiscGatingUtils","WAWebNonMessageDataRequestLoggingUtils","WAWebNonMessageDataRequestMediaHandlingUtils","WAWebProtobufsE2E.pb","WAWebProtobufsMmsRetry.pb","WAWebRecentStickerCollectionMd","WAWebSendNonMessageDataRequestResponse","WAWebStickerModel","WAWebWamEnumUploadOriginType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sticker-upload] Unexpected unencrypted upload entry"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["RDU: update favorite sticker with response of RDU with filehash ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["RDU: update recent sticker with response of RDU with filehash ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as media fields in result"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: the mediaUploadResult "," is not success"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as fileSha256 in result"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as stickerMessage in result"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: Handle reupload sticker response results with length ",""]);p=function(){return a};return a}function a(a,b){d("WALogger").LOG(p(),b.length);if(b.length===0){d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,0,0,0,0,0);return}var e=b.length,f=0,g=0,h=0,i=0,q=new Map();b.forEach(function(a){a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS?f++:a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND?i++:h++;var b=a.stickerMessage;if(b==null){d("WALogger").LOG(o());return}var e=b.fileSha256,p=b.fileEncSha256,r=b.mediaKey,s=b.directPath;b=b.mediaKeyTimestamp;if(e==null){d("WALogger").LOG(n());return}e=d("WABase64").encodeB64(e);if(a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS){d("WALogger").LOG(m(),a.mediaUploadResult);a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND&&q.set(e,c("WANullthrows")(a.mediaUploadResult));return}if(p==null||r==null){d("WALogger").LOG(l());return}g++;a=d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.get(e);var t=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(e);d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests.has(e)&&d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests["delete"](e);if(a||t){var u,v=a!=null?a.sticker:c("WANullthrows")(t).sticker;if(s===v.directPath&&d("WABase64").encodeB64(p)===v.encFilehash&&d("WABase64").encodeB64(r)===v.mediaKey)return;if((u=v.mediaObject)==null?void 0:u.entries.entries){(u=v.mediaObject)==null?void 0:(u=u.entries)==null?void 0:u.clearEntries()}s=new(d("WAWebStickerModel").StickerModel)({id:v.filehash,directPath:(u=s)!=null?u:v.directPath,filehash:v.filehash,encFilehash:d("WABase64").encodeB64(p),mediaKey:d("WABase64").encodeB64(r),mediaKeyTimestamp:b!=null?Number(b):v.mediaKeyTimestamp,width:v.width,height:v.height,size:v.size,mimetype:v.mimetype,type:v.type,index:0});a&&(d("WALogger").DEV(k(),e),d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.updateRecentStickerWithNewSticker(e,s));t&&(d("WALogger").DEV(j(),e),d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(e,s))}});d("WAWebNonMessageDataRequestMediaHandlingUtils").insertResponseError(q,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER);d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,e,f,g,h,i)}function e(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(!d("WAWebMiscGatingUtils").isStickerRmrSyncEnabled())return;var f=e.length,g=0,j=0,k=0,l=0,m=d("WATimeUtils").unixTime(),n=[];e=e.map(function(b){b=b.fileSha256;if(b==null){k++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR});return}var a=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(b);if(a==null){l++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND,stickerMessage:{fileSha256:d("WABase64").decodeB64(b)}});return}return a}).filter(function(a){return a!=null});var o=new Set(),p=e.map(function(a){a=c("WANullthrows")(a==null?void 0:a.sticker);var b=a.mediaObject;if(b==null)return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR};if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithSuccess(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,m)){var e=b.entries.getDownloadEntry(!0);if(e instanceof d("WAWebMediaEntry").EncryptedMediaEntry){j++;o.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS,mediaEntry:e}}}if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithCancellation(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,m)){o.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.CANCELLATION}}e=b.entries.getUploadEntry(!0);if(e instanceof d("WAWebMediaEntry").UnencryptedMediaEntry){d("WALogger").ERROR(i()).devConsole(e).sendLogs("sticker-upload-unexpected-unencrypted-entry");return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR}}e=e instanceof d("WAWebMediaEntry").EncryptedMediaEntry?{key:e.mediaKey,timestamp:e.mediaKeyTimestamp}:c("WAWebCryptoRandomMediaKey")();return d("WAWebMediaMmsV4Upload").uploadMedia({mimetype:a.mimetype,mediaObject:b,mediaType:"sticker",forwardedFromWeb:!1,uploadOrigin:d("WAWebWamEnumUploadOriginType").UPLOAD_ORIGIN_TYPE.STICKER_WEB,mediaKeyInfo:e,isViewOnce:!0})});p=(yield (h||(h=b("Promise"))).all(p));var q=new Map();for(var r=0;r<p.length;r++){var s=p[r],t=s.kind;s=s.mediaEntry;var u=c("WANullthrows")(e[r]);u=c("WANullthrows")(u==null?void 0:u.sticker);if(t!==d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS||s==null){k++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash)}});o.has(u.filehash)||q.set(u.filehash,t);continue}g++;if(!o.has(u.filehash)){var v;if((v=u.mediaObject)==null?void 0:v.entries.entries){(v=u.mediaObject)==null?void 0:(v=v.entries)==null?void 0:v.clearEntries()}v=new(d("WAWebStickerModel").StickerModel)({id:u.filehash,directPath:s.directPath,filehash:u.filehash,encFilehash:s.encFilehash,mediaKey:s.mediaKey,mediaKeyTimestamp:s.mediaKeyTimestamp,width:u.width,height:u.height,size:u.size,mimetype:u.mimetype,type:u.type,index:0});d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(u.filehash,v);q.set(u.filehash,t)}n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash),fileEncSha256:d("WABase64").decodeB64((v=s.encFilehash)!=null?v:""),mediaKey:d("WABase64").decodeB64(s.mediaKey),mimetype:u.mimetype,height:u.height,width:u.width,directPath:(t=s.directPath)!=null?t:"",mediaKeyTimestamp:s.mediaKeyTimestamp}})}d("WAWebSendNonMessageDataRequestResponse").sendPeerDataOperationRequestResponseMessage(a,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,n);d("WAWebNonMessageDataRequestMediaHandlingUtils").insertMediaUploadResult(q,m);d("WAWebNonMessageDataRequestLoggingUtils").logMediaUpload(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,f,g,j,k,l)});return q.apply(this,arguments)}g.handleUploadStickerPeerDataOperationRequestResponse=a;g.handleUploadStickerPeerDataOperationRequest=e}),98);
__d("WAWebNonMessageDataRequestHandler",["WAWebNonMessageDataRequestHandlerGenLinkPreview","WAWebNonMessageDataRequestHandlerPlaceholderResend","WAWebNonMessageDataRequestHandlerUploadSticker","WAWebProtobufsE2E.pb"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequest(a,b.requestStickerReupload);return;default:return}}function b(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequestResponse(a,b.peerDataOperationResult);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.GENERATE_LINK_PREVIEW:d("WAWebNonMessageDataRequestHandlerGenLinkPreview").handleGenerateLinkPreviewOperationRequestResponse(b);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND:d("WAWebNonMessageDataRequestHandlerPlaceholderResend").handlePlaceholderResendOperationRequestResponse(a,b.peerDataOperationResult);return;default:return}}g.handlePeerDataOperationRequest=a;g.handlePeerDataOperationRequestResponse=b}),98);
__d("WAWebHandleDeferredMessages",["WALogger","WANullthrows","WAPromiseEach","WAWebApiDeferredMessagesStorage","WAWebApiHydrateWidsUtil","WAWebHandleHistorySyncNotification","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestHandler","WAWebParsedProtocolMsgType","WAWebProtobufsE2E.pb","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] Failed to handle deferred messages: parseProtocolMessage failed"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebApiDeferredMessagesStorage").getDeferredMessages());yield d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a)return;var b=a.type,e=a.plaintext,f=a.info,g=a.paymentInfo,i=a.bizInfo;f=d("WAWebApiHydrateWidsUtil").hydrateWids(f);e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,e);var j=d("WAWebMsgProcessingApiUtils").getFrom(f);e=(yield d("WAWebMsgProcessingApiUtils").parseProtocolMessage({info:f,msgProtobuf:e,paymentInfo:g,bizInfo:i,hsmInfo:null}));if(e==null){d("WALogger").ERROR(h());return}switch(b){case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.HISTORY:yield d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(c("WANullthrows")(e==null?void 0:e.history),j,f.externalId);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_SHARE:yield d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyShare),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_REQUEST:yield d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyRequest),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestResponseMessage));break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestMessage));break;default:throw c("err")("[worker] Invalid messages stored in deferred messages table")}yield c("WAWebApiDeferredMessagesStorage").deleteDeferredMessage(a.id)});return function(b){return a.apply(this,arguments)}}())});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHistorySyncApi",["WAWebHistorySyncProgressModel"],(function(a,b,c,d,e,f,g){a={setHistorySyncPaused:function(a){a=a.paused;d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setPaused(a)},setHistorySyncProgress:function(a){var b=a.progress;a=a.incomplete;b!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setProgress(b);a!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setIncomplete(a)}};g.HistorySyncBridgeApi=a}),98);
__d("WAWebHistorySyncOnDemandAction",["WAWebHistorySyncOnDemandEvents"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:success_history_sync_od",a)}function b(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:error_history_sync_od",a)}g.successHistorySyncOd=a;g.errorHistorySyncOd=b}),98);
__d("WAWebSelfPrimaryIdentityChangeAction",["WALogger","WAWebLogoutReasonConstants","WAWebSocketModel","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleNewIdentity: ignore identity change for your own primary device"]);h=function(){return a};return a}function a(){d("WALogger").ERROR(h()).sendLogs("self-identity-change"),c("gkx")("26258")?d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange):self.setTimeout(function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange)},1e4)}g.handleSelfPrimaryIdentityChange=a}),98);
__d("WAWebIdentityBridgeApi",["WAWebSelfPrimaryIdentityChangeAction"],(function(a,b,c,d,e,f,g){a={handleSelfPrimaryIdentityChange:function(){return d("WAWebSelfPrimaryIdentityChangeAction").handleSelfPrimaryIdentityChange()}};g.IdentityBridgeApi=a}),98);
__d("WAWebInfoTooltip.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={tooltipContainer:{position:"x10l6tqk",width:"xhwf2h4",top:"xdsb8wn",marginStart:"x1hl7nhr",$$css:!0},content:{position:"x1n2onr6",display:"x1rg5ohu",whiteSpace:"xeaf4i8",fontSize:"x1nxh6w3",lineHeight:"x1fc57z9",color:"x1tpmtvg",textAlign:"x2b8uid",textOverflow:"xlyipyv",boxShadow:"x1x28319",borderTopStartRadius:"xzp58vz",borderTopEndRadius:"xz6pen6",borderBottomEndRadius:"x1hij43t",borderBottomStartRadius:"x13yjgf2",backgroundColor:"x83z2og",":hover_backgroundColor":"x1z0qo99",$$css:!0}};function a(a){var b=a.children;a=a.id;return j.jsx("div",{role:"tooltip",id:a,className:(i||(i=c("stylex")))([k.tooltipContainer,d("WAWebUISpacing").paddingTop5]),children:j.jsx("div",{className:i([k.content,d("WAWebUISpacing").paddingHoriz12,d("WAWebUISpacing").paddingVert8]),children:j.jsx("span",{children:b})})},"info-tooltip")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebInfoIconWithToolTip.react",["WAWebInfoFilledIcon","WAWebInfoTooltip.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={container:{display:"x78zum5",position:"x10l6tqk",height:"xhvdbge",alignItems:"x6s0dn4",cursor:"x1ypdohk",$$css:!0}};function a(a){a=a.tooltip;var b=m(!1),e=b[0],f=b[1];b=l(null);var g="info-tooltip-id",h=[k.jsx(d("WAWebInfoFilledIcon").InfoFilledIcon,{},"info_icon")];e&&h.unshift(k.jsx(c("WAWebInfoTooltip.react"),{id:g,children:a}));return k.jsx("div",{ref:b,className:(i||(i=c("stylex")))([n.container,d("WAWebUISpacing").uiPadding.start5]),onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)},onFocus:function(){f(!0)},onBlur:function(){f(!1)},tabIndex:0,role:"dialog","aria-describedby":g,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebWamEnumInlineVideoCtaClick",[],(function(a,b,c,d,e,f){a=Object.freeze({LOGO:1,MUSIC:2,AUTHOR:3,WATCH_MORE_END:4});f.INLINE_VIDEO_CTA_CLICK=a}),66);
__d("WAWebWamEnumInlineVideoType",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK:1,FACEBOOK_WATCH:2,INSTAGRAM:3,YOUTUBE:4,STREAMABLE:5,NETFLIX:6,LASSO:7,SHARECHAT:8});f.INLINE_VIDEO_TYPE=a}),66);
__d("WAWebInlineVideoPlaybackClosedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumInlineVideoCtaClick","WAWebWamEnumInlineVideoType","WAWebWamEnumMessageType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({InlineVideoPlaybackClosed:[2032,{inlineVideoCancelBeforePlayStateT:[7,a.TYPES.TIMER],inlineVideoComplete:[8,a.TYPES.BOOLEAN],inlineVideoCompletionRate:[9,a.TYPES.INTEGER],inlineVideoCtaClick:[10,d("WAWebWamEnumInlineVideoCtaClick").INLINE_VIDEO_CTA_CLICK],inlineVideoDurationT:[2,a.TYPES.TIMER],inlineVideoError:[11,a.TYPES.STRING],inlineVideoPlayStartT:[6,a.TYPES.TIMER],inlineVideoPlayed:[3,a.TYPES.BOOLEAN],inlineVideoStallT:[4,a.TYPES.TIMER],inlineVideoType:[1,d("WAWebWamEnumInlineVideoType").INLINE_VIDEO_TYPE],inlineVideoWatchT:[5,a.TYPES.TIMER],messageType:[12,d("WAWebWamEnumMessageType").MESSAGE_TYPE]},[1,1,1],"regular"]},{InlineVideoPlaybackClosed:[]});g.InlineVideoPlaybackClosedWamEvent=b}),98);
__d("WAWebInternDogfoodingModal.react",["WANullthrows","WATimeUtils","WAWebABProps","WAWebAnnouncementSpeakerIcon","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebLocalStorage","WAWebUISpacing","WAWebUserPrefsKeys","asyncToGeneratorRuntime","gkx","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useState,m={title:{fontSize:"x1603h9y",fontWeight:"xjs9k72",lineHeight:"x1fc57z9",textAlign:"x2b8uid",$$css:!0},body:{width:"xh8yej3",height:"xpyat2d",fontSize:"x1f6kntn",lineHeight:"x1fc57z9",textAlign:"x1yc453h",$$css:!0},chatIcon:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=l(!0),e=a[0],f=a[1];if(!e)return;if(!c("gkx")("26258")||!d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_enabled"))return;a=j();if(a!=null&&a>d("WATimeUtils").unixTime())return;e=d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_content");var g=JSON.parse(e);if(g.title==null||g.web_link==null||g.ok_text==null||g.cancel_text==null)return;j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){window.location.replace(g.web_link)});return function(){return a.apply(this,arguments)}}();a=function(){var a=d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_snooze_duration");h(d("WATimeUtils").unixTime()+a);f(!1)};e=k.jsx("div",{className:(i||(i=c("stylex")))(m.body,d("WAWebUISpacing").uiMargin.horiz16),children:k.jsxs("div",{children:["Help us with dogfooding by moving to the ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:g.web_link,className:"x117nqv4",children:"internal version"})," ","of the web client. Share your feedback/bugs on the ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:g.group_link,className:"x117nqv4",children:"WhatsApp Web/Electron Feedback"})," on Workplace."]})});return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:j,onOverlayClick:a,okText:g.ok_text,onCancel:a,cancelText:g.cancel_text,children:[k.jsx(d("WAWebAnnouncementSpeakerIcon").AnnouncementSpeakerIcon,{width:120,height:120,xstyle:m.chatIcon}),k.jsxs("div",{className:"xh8yej3",children:[k.jsx("div",{className:i(m.title,d("WAWebUISpacing").uiPadding.all16),children:k.jsx("b",{children:g.title})}),e]})]});function h(a){c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").KEYS.WA_WEB_ID_UPSELL_SNOOZE_UNTIL,String(a))}function j(){var a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.WA_WEB_ID_UPSELL_SNOOZE_UNTIL);return a==null?null:Number.parseInt(a,10)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebKeyboardEventConstants",[],(function(a,b,c,d,e,f){a={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",PIN:"pinned",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",AB_PROPS_UPDATE:"ab_props_update",BATCH_RENDER:"batch_render"}};f["default"]=a}),66);
__d("WAWebKeyboardManager",["WAWebKeyboardRun","WAWebKeyboardShortcuts"],(function(a,b,c,d,e,f,g){a=function(){function a(){document.addEventListener("keydown",function(a){a=d("WAWebKeyboardShortcuts").getAction(a);a&&c("WAWebKeyboardRun")(a)})}var b=a.prototype;b.trigger=function(a){};b.menuBatchRenderWith=function(a){};return a}();b=new a();g["default"]=b}),98);
__d("WAWebKeyboardTopLevelHotKeys.react",["WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebKeyboardTabUtils","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.className,f=a.children,g=a.onBlur,h=a.skipNode,i=l(null);b=c("useMergeRefs")(b,i);k(function(){c("WAWebFocusTracer").focus(i.current)},[]);var m=function(a){if(!i.current)return;var b=d("WAWebKeyboardTabUtils").TabDirection.FORWARD;a&&(a.preventDefault(),b=a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD,c("WAWebFocusIndicator").shouldIndicateFocus());a=d("WAWebKeyboardTabUtils").getNextTabbableElement(i.current,b,d("WAWebKeyboardTabUtils").FocusType.CUSTOM,function(a){return!h(a)});if(a==null)return;c("WAWebFocusIndicator").shouldIndicateFocus();a.restoreFocus?a.restoreFocus():c("WAWebFocusTracer").focus(a)};m={tab:m,"shift+tab":m,"shift+?":a.onShowKeyboardShortcuts};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:m,className:e,onBlur:g,ref:b,children:f})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebL10nHelpersBridgeApi",["WAWebFrontendL10nHelpers","WAWebL10N"],(function(a,b,c,d,e,f,g){a={setLocalePrefCookie:function(a){a=a.locale;d("WAWebFrontendL10nHelpers").setWAWebLocalePrefCookie(a)},mungeLocaleOverrideFromUrlIfNecessary:function(){d("WAWebFrontendL10nHelpers").mungeWAWebLocaleOverrideFromUrlIfNecessary()},extendLocalePrefCookieTtl:function(){d("WAWebFrontendL10nHelpers").extendWAWebLocalePrefCookieTtl()},getUserLocale:function(){return c("WAWebL10N").getLocale()}};g.L10nHelpersBridgeApi=a}),98);
__d("WAWebLabelsBridgeApi",["WAWebBIzLabelReorderAction"],(function(a,b,c,d,e,f,g){a={reorderLabels:function(a){a=a.sortedLabelIds;d("WAWebBIzLabelReorderAction").reorderLabelsAction(a)}};g.LabelsBridgeApi=a}),98);
__d("WAWebLinkDeviceEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.triggerRefreshAltLinkingCode=function(){this.trigger("link_device_events:refresh_alt_linking_code")};c.triggerErrorAltLinking=function(){this.trigger("link_device_events:error_alt_linking")};c.triggerPrimaryHelloReceived=function(){this.trigger("link_device_events:primary_hello_received")};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebLinkDeviceEvents=b}),98);
__d("WAWebLinkDeviceAction",["WALogger","WASmaxMdGetCountryCodeRPC","WAWebAltDeviceLinkingApi","WAWebCmd","WAWebLinkDeviceEvents","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt device linking: sendGetCountryCodeRPC failed with error: ",""]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WASmaxMdGetCountryCodeRPC").sendGetCountryCodeRPC());return a.value.countryCodeIso}catch(a){d("WALogger").ERROR(h(),a).sendLogs("alt device linking: sendGetCountryCodeRPC failed")}});return i.apply(this,arguments)}function c(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCmd").Cmd.refreshQR(),a.linkDeviceMethod===d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING?(yield d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING)):(yield d("WAWebAltDeviceLinkingApi").initializeQRLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE))});return j.apply(this,arguments)}function e(a,b){return d("WAWebAltDeviceLinkingApi").startAltLinkingFlow(a,b)}function f(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:refresh_alt_linking_code")}function k(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:force_manual_refresh")}function l(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:error_alt_linking")}function m(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:primary_hello_received")}g.getPreselectedCountryCodeIso=a;g.resetLinkDeviceState=c;g.genLinkDeviceCodeForPhoneNumber=e;g.refreshAltLinkingCode=f;g.forceManualRefresh=k;g.errorAltLinking=l;g.primaryHelloReceivedAltLinking=m}),98);
__d("WAWebLinkDeviceApiCmdTooltip.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={tip:"_ak0j",groupInviteTip:"_ak0i"};b=a;g["default"]=b}),98);
__d("WAWebLinkDeviceApiCmdTooltip.react",["fbt","WAWebApi","WAWebLinkDeviceApiCmdTooltip.scss","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.apiCmd;if(a)switch(a.resultType){case d("WAWebApi").APICmd.GROUP_INVITE:return j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").groupInviteTip,children:j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").tip,children:h._("__JHASH__V2jQigk9rxm__JHASH__")})});case d("WAWebApi").APICmd.MSG_SEND:return j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").groupInviteTip,children:j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").tip,children:h._("__JHASH__xgqds3iYboS__JHASH__")})})}return j.jsx(j.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceApiCmdTooltip=a}),226);
__d("WAWebLinkDeviceCodeView.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao3b",headline:"_aj-8",listItem:"_aj-c",text:"_aj-7",hint:"_aj-e",qr:"_aj-d",toggle:"_akbn",linkDeviceCodeViewContainer:"_ak94",linkDeviceCodeWrapper:"_ak95",containsAlternateDeviceLinkNux:"_aj-6",linkCode:"_ak96",headlineSpacer:"_aj-9",subtitle:"_aj-a",screenreaderOnlySubtitle:"_alea",list:"_aj-b",hintContainer:"_amrn",qrViewWrapper:"_akk2",phoneNumberLinkCodeViewWrapper:"_akk3"};b=a;g["default"]=b}),98);
__d("WAWebLinkDeviceCodeView.react",["$InternalEnum","WAWebClassnames","WAWebClickable.react","WAWebDesktopUpsellLinkDeviceBanner.react","WAWebLinkDeviceApiCmdTooltip.react","WAWebLinkDeviceCodeView.scss","WAWebVelocityTransitionGroup","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["QR","PHONE_NUMBER_LINK_CODE"]);function a(a){var b,e=a.screenreaderOnlySubtitle,f=a.alternativeLinkDeviceMethodHint;return i.jsxs(i.Fragment,{children:[i.jsx(c("WAWebDesktopUpsellLinkDeviceBanner.react"),{}),i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceCodeView.scss").qrViewWrapper]=a.codeType===j.QR,b[c("WAWebLinkDeviceCodeView.scss").phoneNumberLinkCodeViewWrapper]=a.codeType===j.PHONE_NUMBER_LINK_CODE,b[c("WAWebLinkDeviceCodeView.scss").linkDeviceCodeViewContainer]=!0,b)),"data-testid":void 0,children:[a.banners,i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceCodeView.scss").containsAlternateDeviceLinkNux]=f!=null,b[c("WAWebLinkDeviceCodeView.scss").linkDeviceCodeWrapper]=!0,b)),children:[i.jsxs("div",{className:c("WAWebLinkDeviceCodeView.scss").text,children:[i.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("landing-title",c("WAWebLinkDeviceCodeView.scss").headline),children:a.title}),e==null?null:i.jsx(d("WAWebClickable.react").Clickable,{onClick:e.onClick,className:c("WAWebLinkDeviceCodeView.scss").screenreaderOnlySubtitle,children:e.node}),a.subtitle==null?i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").headlineSpacer}):i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").subtitle,children:a.subtitle}),i.jsx("ol",{id:a.a11yInstructionsDomId,className:c("WAWebLinkDeviceCodeView.scss").list,children:a.instructions.map(function(b,d){return i.jsx("li",{className:c("WAWebLinkDeviceCodeView.scss").listItem,children:b},a.instructionsKey+"#"+d)})})]}),i.jsxs("div",{className:c("WAWebLinkDeviceCodeView.scss").linkCode,children:[i.jsx(d("WAWebLinkDeviceApiCmdTooltip.react").LinkDeviceApiCmdTooltip,{apiCmd:a.apiCmd}),a.children]}),i.jsx(c("WAWebVelocityTransitionGroup"),{component:"div",transitionName:"scaleAndFade",className_DONOTUSE:c("WAWebLinkDeviceCodeView.scss").hintContainer,children:f!=null?i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").hint,children:f}):null})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceCodeViewCodeType=j;g.LinkDeviceCodeView=a}),98);
__d("WAWebLinkDeviceCommonInstructions.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return h._("__JHASH__ygxRs1BT9LE__JHASH__")}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.showOptimizedContent;return a?h._("__JHASH__tkwMdTT7YYd__JHASH__",[h._implicitParam("=m2",j.jsx("strong",{children:h._("__JHASH__ub_vgxtmVrC__JHASH__",[h._implicitParam("=m1",j.jsx(k,{children:h._("__JHASH__gozjY89gxBv__JHASH__")}))])})),h._implicitParam("=m6",j.jsx("strong",{children:h._("__JHASH__wI8FEWy3u6J__JHASH__",[h._implicitParam("=m1",j.jsx(l,{children:h._("__JHASH__1Uu3A7bZRaj__JHASH__")}))])}))]):h._("__JHASH__ZMa-SdwRYo___JHASH__",[h._implicitParam("=m2",j.jsx("strong",{children:h._("__JHASH__Cr0vSuW4NdO__JHASH__",[h._implicitParam("=m1",j.jsx(k,{children:h._("__JHASH__tF1CLtZE5NO__JHASH__")}))])})),h._implicitParam("=m6",j.jsx("strong",{children:h._("__JHASH__G0QxZFBxqgJ__JHASH__",[h._implicitParam("=m1",j.jsx(l,{children:h._("__JHASH__23X1rcE0npS__JHASH__")}))])})),h._implicitParam("=m9",j.jsx("strong",{children:h._("__JHASH__1uRn94KpDu9__JHASH__")}))])}b.displayName=b.name+" [from "+f.id+"]";function d(a){a=a.showOptimizedContent;return a?h._("__JHASH__9AV4DOUqOYb__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__nK9p2RECLYF__JHASH__")})),h._implicitParam("=m4",j.jsx("strong",{children:h._("__JHASH__QJNiQGQ8nR3__JHASH__")}))]):h._("__JHASH__SMs_4lBsibC__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__bv04oT56hSs__JHASH__")}))])}d.displayName=d.name+" [from "+f.id+"]";var k=function(){return j.jsx("span",{className:"x1rg5ohu x16dsc37",children:j.jsxs("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:[j.jsx("rect",{fill:"#f2f2f2",height:"24",rx:"3",width:"24"}),j.jsx("path",{d:"m12 15.5c.825 0 1.5.675 1.5 1.5s-.675 1.5-1.5 1.5-1.5-.675-1.5-1.5.675-1.5 1.5-1.5zm0-2c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5zm0-5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",fill:"#818b90"})]})})},l=function(){return j.jsx("span",{className:"x1rg5ohu x16dsc37",children:j.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[j.jsx("rect",{fill:"#F2F2F2",width:"24",height:"24",rx:"3"}),j.jsx("path",{d:"M12 18.69c-1.08 0-2.1-.25-2.99-.71L11.43 14c.24.06.4.08.56.08.92 0 1.67-.59 1.99-1.59h4.62c-.26 3.49-3.05 6.2-6.6 6.2zm-1.04-6.67c0-.57.48-1.02 1.03-1.02.57 0 1.05.45 1.05 1.02 0 .57-.47 1.03-1.05 1.03-.54.01-1.03-.46-1.03-1.03zM5.4 12c0-2.29 1.08-4.28 2.78-5.49l2.39 4.08c-.42.42-.64.91-.64 1.44 0 .52.21 1 .65 1.44l-2.44 4C6.47 16.26 5.4 14.27 5.4 12zm8.57-.49c-.33-.97-1.08-1.54-1.99-1.54-.16 0-.32.02-.57.08L9.04 5.99c.89-.44 1.89-.69 2.96-.69 3.56 0 6.36 2.72 6.59 6.21h-4.62zM12 19.8c.22 0 .42-.02.65-.04l.44.84c.08.18.25.27.47.24.21-.03.33-.17.36-.38l.14-.93c.41-.11.82-.27 1.21-.44l.69.61c.15.15.33.17.54.07.17-.1.24-.27.2-.48l-.2-.92c.35-.24.69-.52.99-.82l.86.36c.2.08.37.05.53-.14.14-.15.15-.34.03-.52l-.5-.8c.25-.35.45-.73.63-1.12l.95.05c.21.01.37-.09.44-.29.07-.2.01-.38-.16-.51l-.73-.58c.1-.4.19-.83.22-1.27l.89-.28c.2-.07.31-.22.31-.43s-.11-.35-.31-.42l-.89-.28c-.03-.44-.12-.86-.22-1.27l.73-.59c.16-.12.22-.29.16-.5-.07-.2-.23-.31-.44-.29l-.95.04c-.18-.4-.39-.77-.63-1.12l.5-.8c.12-.17.1-.36-.03-.51-.16-.18-.33-.22-.53-.14l-.86.35c-.31-.3-.65-.58-.99-.82l.2-.91c.03-.22-.03-.4-.2-.49-.18-.1-.34-.09-.48.01l-.74.66c-.39-.18-.8-.32-1.21-.43l-.14-.93a.426.426 0 00-.36-.39c-.22-.03-.39.05-.47.22l-.44.84-.43-.02h-.22c-.22 0-.42.01-.65.03l-.44-.84c-.08-.17-.25-.25-.48-.22-.2.03-.33.17-.36.39l-.13.88c-.42.12-.83.26-1.22.44l-.69-.61c-.15-.15-.33-.17-.53-.06-.18.09-.24.26-.2.49l.2.91c-.36.24-.7.52-1 .82l-.86-.35c-.19-.09-.37-.05-.52.13-.14.15-.16.34-.04.51l.5.8c-.25.35-.45.72-.64 1.12l-.94-.04c-.21-.01-.37.1-.44.3-.07.2-.02.38.16.5l.73.59c-.1.41-.19.83-.22 1.27l-.89.29c-.21.07-.31.21-.31.42 0 .22.1.36.31.43l.89.28c.03.44.1.87.22 1.27l-.73.58c-.17.12-.22.31-.16.51.07.2.23.31.44.29l.94-.05c.18.39.39.77.63 1.12l-.5.8c-.12.18-.1.37.04.52.16.18.33.22.52.14l.86-.36c.3.31.64.58.99.82l-.2.92c-.04.22.03.39.2.49.2.1.38.08.54-.07l.69-.61c.39.17.8.33 1.21.44l.13.93c.03.21.16.35.37.39.22.03.39-.06.47-.24l.44-.84c.23.02.44.04.66.04z",fill:"#818b90"})]})})};g.LinkDeviceInstructionOpenWhatsAppOnPhone=a;g.LinkDeviceInstructionNavigateToSettings=b;g.LinkDeviceInstructionsTapLinkedDevices=d}),226);
__d("WAWebLinkDevicePhoneNumberCodeCells.react",["WAWebFlex.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={codeCellWrapper:{display:"x78zum5",boxSizing:"x9f619",width:"x10h3iyq",backgroundColor:"x12peec7",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10i7gwu",borderEndColor:"xx4fpnl",borderBottomColor:"x157r7a7",borderStartColor:"xkuhyp4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){var b=a["aria-details"];a=a.code;a=String(a).split("");var e=a.slice(0,4),f=a.slice(4);return j.jsx("div",{"aria-details":b,"data-testid":void 0,"data-link-code":a,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:"light",children:[e.map(function(a,b){return j.jsx(l,{content:a},b+":"+a)}),j.jsx("span",{className:(i||(i=c("stylex")))(k.hyphen,d("WAWebUISpacing").uiPadding.all3),"aria-hidden":"true",children:"-"}),f.map(function(a,b){return j.jsx(l,{content:a},b+4+":"+a)})]})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.content;return j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[k.codeCellWrapper,d("WAWebUISpacing").uiMargin.horiz4,d("WAWebUISpacing").uiPadding.vert13],children:j.jsx("span",{className:"x2b8uid xk50ysn x1aueamr x1jzgpr8 xzwifym",children:a})})}l.displayName=l.name+" [from "+f.id+"]";g.LinkDevicePhoneNumberCodeCells=a}),98);
__d("WAWebLinkDevicePhoneNumberCodeScreen.react",["fbt","WALogger","WANullthrows","WAPhoneUtils","WATimeUtils","WAWebAltDeviceLinkingApi","WAWebClickableLink.react","WAWebCmd","WAWebLinkDeviceAction","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeCells.react","WAWebModalSingleActionOpener","WAWebSpinner.react","justknobx","react","stylex","useWAWebListener","useWAWebOnUnmount","useWAWebStableCallback","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: canceling link code timers"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code because 6-minute-TTL expired"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: force manual refresh received"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: primary hello received, starting 1 minute timer for link code regeneration"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code..."]);p=function(){return a};return a}b=k||d("react");var q=i||(i=c("react")),r=b.useEffect,s=b.useState,t=5,u="link-device-phone-number-code-screen-instructions",v={codeContainer:{position:"x1n2onr6",display:"x78zum5",flex:"x1okw0bk",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},code:{width:"x14atkfc",height:"x1vd4hg5","@media only screen and (max-width : 900px)_height":"xrxr3ny",$$css:!0}};function a(a){var b=a.code,e=s(0),f=e[0],g=e[1];e=s(!0);var i=e[0],k=e[1];e=s(!1);var w=e[0],x=e[1];e=c("justknobx")._("2453");r(function(){k(!1),d("WAWebCmd").Cmd.initialLoadReady()},[]);var y=b==null||f>t,z=c("useWAWebStableCallback")(function(a){var b=f+1;(a==null?void 0:a.resetRefreshCount)?b=0:b=f+1;g(b);x(!1);b<=t&&(d("WALogger").LOG(p()),d("WAWebLinkDeviceAction").refreshAltLinkingCode())});b=d("useWAWebTimeout").useTimeout(function(){var a;(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("primary_hello_expire");z()},1*d("WATimeUtils").MINUTE_MILLISECONDS);var A=b[0],B=b[1];d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:primary_hello_received",function(){d("WALogger").LOG(o()),A()});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:force_manual_refresh",function(){var a;d("WALogger").LOG(n());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("force_manual_refresh");x(!0);d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking()});b=d("useWAWebTimeout").useTimeout(function(){var a;d("WALogger").LOG(m());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("code_ttl_expire");z()},3.25*d("WATimeUtils").MINUTE_MILLISECONDS);var C=b[0],D=b[1];r(function(){y||C()},[C,y]);var E=c("useWAWebStableCallback")(function(){B(),D()});r(function(){(f>t||w)&&(E(),d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__4aKY9mN2v0x__JHASH__"),body:h._("__JHASH__xvqSnyYNOVs__JHASH__"),buttonText:h._("__JHASH__W5arSPU7qUE__JHASH__"),onDismiss:function(){return z({resetRefreshCount:!0})},cover:!0,shouldDismissWithoutButtonInteraction:!1}))},[f,w,z,E]);c("useWAWebOnUnmount")(function(){d("WALogger").LOG(l()),E()});return q.jsx(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE,testid:void 0,apiCmd:a.apiCmd,title:h._("__JHASH__50_ZuogVJ1A__JHASH__"),subtitle:h._("__JHASH__NglCQvmNCUW__JHASH__",[h._implicitParam("=m2",q.jsx("strong",{dir:"ltr",children:h._("__JHASH__cNiCK8lfiQQ__JHASH__",[h._param("phone-number",d("WAPhoneUtils").formatPhone(a.phoneNumber))])})),h._implicitParam("=m5",q.jsx(c("WAWebClickableLink.react"),{className:"x1n68mz9",onClick:a.onClickEditPhoneNumber,children:h._("__JHASH__r8AmPULLPs-__JHASH__")}))]),instructionsKey:"qrcode",instructions:[q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionNavigateToSettings,{showOptimizedContent:!e},"step2"),q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionsTapLinkedDevices,{showOptimizedContent:!e},"step3"),q.jsx("span",{children:h._("__JHASH__J-D1kS0DPOM__JHASH__",[h._implicitParam("=m1",q.jsx("strong",{children:h._("__JHASH__Nav9OeC9OGx__JHASH__")}))])},"step4")],a11yInstructionsDomId:u,alternativeLinkDeviceMethodHint:q.jsx(c("WAWebClickableLink.react"),{className:"x1n68mz9",onClick:a.onClickLinkWithQr,children:h._("__JHASH__Pf1BXhk45DS__JHASH__")}),children:q.jsx("div",{className:(j||(j=c("stylex")))(v.codeContainer,!y&&v.code),dir:"ltr","aria-live":"polite","aria-atomic":"true","aria-label":h._("__JHASH__6eGVgqfJ2Uv__JHASH__"),children:i||y?q.jsx("div",{className:"x1tdqgrh x1l76qip x78zum5 x6s0dn4 xl56j7k",children:q.jsx(d("WAWebSpinner.react").Spinner,{})}):q.jsx(d("WAWebLinkDevicePhoneNumberCodeCells.react").LinkDevicePhoneNumberCodeCells,{code:c("WANullthrows")(a.code),"aria-details":u})})})}a.displayName=a.name+" [from "+f.id+"]";g.LinkWithPhoneNumberCodeScreen=a}),226);
__d("WAWebLinkDevicePhoneNumber.react",["fbt","$InternalEnum","WALogger","WANullthrows","WAWebAltDeviceLinkingApi","WAWebAltDeviceLinkingIq","WAWebLinkDeviceAction","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeScreen.react","WAWebLinkDevicePhoneNumberEntryScreen.react","WAWebModalSingleActionOpener","WAWebNetworkStatus","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: Invalid state while linking phone number, phone number was null but tried to display code screen"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: unexpected error happened while starting flow: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: a companion-hello error happened while starting flow: ",""]);m=function(){return a};return a}var n=j||c("react"),o=(i||(i=d("react"))).useState,p=b("$InternalEnum").Mirrored(["STEP1_PHONE_NUMBER_ENTRY","STEP2_DISPLAY_CODE"]);function a(a){var e=o(p.STEP1_PHONE_NUMBER_ENTRY),f=e[0],g=e[1];e=o(null);var i=e[0],j=e[1];e=o(null);var q=e[0],r=e[1];e=o(!1);var s=e[0],t=e[1],u=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__QUpJir4HRxk__JHASH__"),body:h._("__JHASH__tgBcoFJ6Q6P__JHASH__"),onDismiss:function(){g(p.STEP1_PHONE_NUMBER_ENTRY)}})},v=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__zXJT295zSlT__JHASH__"),body:h._("__JHASH__DbQxgkiA0fU__JHASH__"),buttonText:h._("__JHASH__ScAqMdKkbaw__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},w=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__rch_ch6Ihp1__JHASH__"),body:h._("__JHASH__MLzSe-PR4lG__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},x=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j(a);t(!1);g(p.STEP2_DISPLAY_CODE);try{if(c("WAWebNetworkStatus").online){a=(yield d("WAWebLinkDeviceAction").genLinkDeviceCodeForPhoneNumber(a,b));r(a)}}catch(c){(b=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:b.addPoint("gen_code_exception");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});if(c instanceof d("WAWebAltDeviceLinkingIq").CompanionHelloError){d("WALogger").WARN(m(),c);switch((a=c.type)==null?void 0:a.name){case"IQErrorNonSupportedPrimary":g(p.STEP1_PHONE_NUMBER_ENTRY);t(!0);return;case"IQErrorFeatureNotAvailable":g(p.STEP1_PHONE_NUMBER_ENTRY);v();return;case"IQErrorRateOverlimit":g(p.STEP1_PHONE_NUMBER_ENTRY);w();return}}d("WALogger").ERROR(l(),c).sendLogs("alt pairing: unexpected error happened while starting flow");u()}});return function(b,c){return a.apply(this,arguments)}}()),y=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(f!==p.STEP2_DISPLAY_CODE||i==null)return;r(null);(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("refresh_code");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});yield x(i,!1)});return function(){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:refresh_alt_linking_code",y);d("useWAWebListener").useListener(c("WAWebNetworkStatus"),"change:online",function(){c("WAWebNetworkStatus").online?void y():r(null)});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:error_alt_linking",u);i==null&&f!==p.STEP1_PHONE_NUMBER_ENTRY&&(d("WALogger").ERROR(k()).sendLogs("alt pairing: invalid ui state: null phone number in code screen"),g(p.STEP1_PHONE_NUMBER_ENTRY));switch(f){case p.STEP1_PHONE_NUMBER_ENTRY:return n.jsx(d("WAWebLinkDevicePhoneNumberEntryScreen.react").LinkWithPhoneNumberEntryScreen,babelHelpers["extends"]({initialPhoneNumber:i,showUpdatePrimaryAppBanner:s,onSubmitPhoneNumber:function(a){return x(a,!0)}},a));case p.STEP2_DISPLAY_CODE:return n.jsx(d("WAWebLinkDevicePhoneNumberCodeScreen.react").LinkWithPhoneNumberCodeScreen,{code:q,phoneNumber:c("WANullthrows")(i),onClickEditPhoneNumber:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}),g(p.STEP1_PHONE_NUMBER_ENTRY),r(null)}),onClickLinkWithQr:a.onClickLinkWithQr,apiCmd:a.apiCmd})}}a.displayName=a.name+" [from "+f.id+"]";g.LinkWithPhoneNumber=a}),226);
__d("WAWebLinkDeviceQrVideo.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={video:"_ak5k",tutorialHeadline:"_ak5l",videoContainer:"_ak5n",hint:"_ak5m",container:"_ak5o",player:"_ak5i",poster:"_ak5g",hidden:"_ak5h",overlay:"_ak5f",button:"_ak5j",play:"_ak5p"};b=a;g["default"]=b}),98);
__d("WAWebRefreshLargeIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="refresh-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=48;m=48;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 48 48",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:"refresh-l-light"}),j.jsx("desc",{children:"Created with Sketch."}),j.jsx("defs",{}),j.jsx("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:j.jsx("g",{id:"ic_refresh_black_24px",fill:"currentColor",fillRule:"nonzero",children:j.jsx("path",{d:"M35.3,12.7 C32.4,9.8 28.42,8 24,8 C15.16,8 8.02,15.16 8.02,24 C8.02,32.84 15.16,40 24,40 C31.46,40 37.68,34.9 39.46,28 L35.3,28 C33.66,32.66 29.22,36 24,36 C17.38,36 12,30.62 12,24 C12,17.38 17.38,12 24,12 C27.32,12 30.28,13.38 32.44,15.56 L26,22 L40,22 L40,8 L35.3,12.7 Z",id:"Shape"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RefreshLargeIcon=a}),98);
__d("WAWebLinkDeviceQrVideo.react",["fbt","$InternalEnum","WAWebAssetLoaderDpiChangeDispatch","WAWebClassnames","WAWebExternalLink.react","WAWebFaqUrl","WAWebImg.react","WAWebLinkDeviceQrVideo.scss","WAWebRefreshLargeIcon","WAWebSpinner.react","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","bx","react","useWAWebDevicePixelRatio"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n={low:c("bx").getURL(c("bx")("9566")),high:c("bx").getURL(c("bx")("9565"))},o={low:c("bx").getURL(c("bx")("9558")),high:c("bx").getURL(c("bx")("9557"))},p=b("$InternalEnum").Mirrored(["FIRST_OPEN","READY","LOADING","FIRST_PLAY","ENDED","REPLAY"]);function a(){var a=l(null),b=m(p.FIRST_OPEN),e=b[0],f=b[1];c("useWAWebDevicePixelRatio")();b=function(){f(p.READY)};var g=function(a){f(p.LOADING),a.stopPropagation(),a.preventDefault()},i=function(){e===p.LOADING&&f(p.FIRST_PLAY)},j=function(){f(p.ENDED)},r=function(){f(p.REPLAY);var b=a.current;b&&b.play()},s,t;e===p.FIRST_OPEN&&(s=k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").overlay,children:k.jsx(d("WAWebSpinner.react").Spinner,{size:32})}),t=b);b=e===p.FIRST_OPEN||e===p.READY||e===p.LOADING?k.jsx(c("WAWebImg.react"),{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceQrVideo.scss").hidden]=e===p.FIRST_OPEN,b[c("WAWebLinkDeviceQrVideo.scss").poster]=!0,b)),src:o[c("WAWebAssetLoaderDpiChangeDispatch").currentRes],onLoad:t},"poster"):null;var u,v,w=n[c("WAWebAssetLoaderDpiChangeDispatch").currentRes];i=e!==p.FIRST_OPEN&&e!==p.READY?k.jsx("video",{autoPlay:!0,className:c("WAWebLinkDeviceQrVideo.scss").player,controls:!0,controlsList:"nodownload",onCanPlayThrough:i,onEnded:j,ref:a,children:k.jsx("source",{src:w,type:"video/mp4"})},c("WAWebAssetLoaderDpiChangeDispatch").currentRes):null;switch(e){case p.READY:v=g;u=k.jsx(q,{});break;case p.LOADING:u=k.jsx(d("WAWebSpinner.react").Spinner,{color:"white",size:32});break;case p.ENDED:v=r;u=k.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{});break;default:u=null,v=null}j=u?k.jsx(c("WAWebUnstyledButton.react"),{className_DONOTUSE:c("WAWebLinkDeviceQrVideo.scss").overlay,"aria-label":h._("__JHASH__q6NS7843evc__JHASH__"),onClick:v,children:k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").button,children:u})}):null;return k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").video,children:[k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("landing-title",c("WAWebLinkDeviceQrVideo.scss").tutorialHeadline),children:h._("__JHASH__udmxAySQquL__JHASH__")}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").hint,children:k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getLoginFaqUrl(),children:h._("__JHASH__ytLgja5uJGV__JHASH__")})}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").videoContainer,children:k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").container,children:[k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[s,j,b]}),i]})})]})}a.displayName=a.name+" [from "+f.id+"]";var q=function(){return k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").play,children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34",children:k.jsx("path",{fill:"#FFF",d:"M1 4.983v24.034a2.982 2.982 0 0 0 4.564 2.53L24.792 19.53a2.981 2.981 0 0 0 0-5.058L5.563 2.454A2.983 2.983 0 0 0 1 4.983z"})})})};g["default"]=a}),226);
__d("WAWebLinkDeviceQrcode.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao39",headline:"_ak20",listItem:"_ak21",text:"_ak22",hint:"_ak23",qr:"_ak24",toggle:"_ak25",hintText:"_akav",codeCopy:"_akax",qrcode:"_akau",codeLogo:"_akaz",idle:"_akay",qrButton:"_akas",qrButtonIcon:"_akat",icon:"_aka-",desktopUpsellBanner:"_akaw"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReason.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={wrapper:"_ajya",icon:"_ajy9",textWrapper:"_ajyd",error:"_ajyb",warn:"_ajyc"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReason.react",["fbt","WAWebActionLinkButterbar.react","WAWebClassnames","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebLogoutReason","WAWebLogoutReason.scss","WAWebLogoutReasonConstants","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={paragraph:{lineHeight:"x1u7k74",$$css:!0}},l=function(){return j.jsx("span",{className:c("WAWebLogoutReason.scss").icon,"data-testid":void 0,children:j.jsx("svg",{width:"44",height:"44",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{d:"M22.0002 0.314301C10.0422 0.314301 0.314453 10.0421 0.314453 22C0.314453 33.958 10.0422 43.6857 22.0002 43.6857C33.9581 43.6857 43.6859 33.958 43.6859 22C43.6859 10.0421 33.9581 0.314301 22.0002 0.314301ZM30.1502 28.5196L28.5197 30.1501L22.0002 23.6305L15.4806 30.1501L13.8501 28.5196L20.3709 22L13.8501 15.4805L15.4806 13.85L22.0002 20.3695L28.521 13.85L30.1515 15.4805L23.6307 22L30.1502 28.5196Z",fill:"currentColor"})})})},m=function(){return j.jsx("span",{className:c("WAWebLogoutReason.scss").icon,"data-testid":void 0,children:j.jsx("svg",{width:"44",height:"44",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM34.6473 31.164L25.2436 14.2344C25.1138 13.9995 24.9312 13.8053 24.7134 13.6705C24.4956 13.5357 24.2499 13.4649 24 13.4649C23.7501 13.4649 23.5044 13.5357 23.2866 13.6705C23.0687 13.8053 22.8861 13.9995 22.7564 14.2344L13.3527 31.164C13.2177 31.4068 13.144 31.6848 13.1392 31.9694C13.1344 32.254 13.1986 32.5349 13.3253 32.783C13.452 33.0312 13.6366 33.2377 13.86 33.3813C14.0834 33.5249 14.3376 33.6004 14.5964 33.6H33.4036C33.6624 33.6004 33.9166 33.5249 34.14 33.3813C34.3634 33.2377 34.548 33.0312 34.6747 32.783C34.8014 32.5349 34.8656 32.254 34.8608 31.9694C34.856 31.6848 34.7823 31.4068 34.6473 31.164ZM25.0909 19.2V26.4H22.9091V19.2H25.0909ZM22.9091 31.2V28.8H25.0909V31.2H22.9091Z",fill:"currentColor"})})})};function n(){var a=j.jsx(d("WAWebFlex.react").FlexColumn,{className:c("WAWebLogoutReason.scss").textWrapper,children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{size:"16",xstyle:k.paragraph,children:h._("__JHASH__b5A7QgdC8FN__JHASH__")})}),b=d("WAWebLogoutReason").getPrevCustomLogoutMessage();if(b!=null){var e=b.logoutMessageHeader;b=b.logoutMessageSubtext;a=j.jsxs(d("WAWebFlex.react").FlexColumn,{className:c("WAWebLogoutReason.scss").textWrapper,children:[e!=null&&j.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"1",xstyle:d("WAWebUISpacing").uiMargin.bottom5,size:"18",testid:void 0,children:e}),b!=null&&j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,size:"16",children:b})]})}return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLogoutReason.scss").wrapper,c("WAWebLogoutReason.scss").warn),children:[m(),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(){var a=d("WAWebLogoutReason").getPrevLogoutReasonCode();if(a==null)return null;if(a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.ACCOUNT_LOCKED)return j.jsx(n,{});var b=o(a),e=b[0],f=b[1];if(e==null||e==="")return null;b=a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL;a=f!=null?j.jsxs(c("WAWebActionLinkButterbar.react"),{action:function(){d("WAWebExternalLink.react").openExternalLink(f)},children:[" ",h._("__JHASH__1X8_VuO9HeO__JHASH__")]}):null;return j.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLogoutReason.scss").wrapper,b?c("WAWebLogoutReason.scss").error:c("WAWebLogoutReason.scss").warn),children:[b?l():m(),j.jsxs("div",{className:c("WAWebLogoutReason.scss").textWrapper,children:[j.jsx("div",{children:e}),a]})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=null,c=null;switch(a){case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL:b=h._("__JHASH__4wX4qvNgSTd__JHASH__").toString();c=d("WAWebFaqUrl").getDBErrorFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.SYNC_FAIL:b=h._("__JHASH__JfPa9WYB6PJ__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.INITIAL_HISTORY_SYNC_TIMEOUT:b=h._("__JHASH__K5rJ9qiSPJP__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break}return[b,c]}g["default"]=a}),226);
__d("WAWebWamQrCodeCount",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=!1,this.$2=0}var b=a.prototype;b.get=function(){return this.$2};b.$3=function(){this.$1&&(this.$1=!1,this.$2=0,this.initialDisplayDate=null)};b.inc=function(){this.$3();return this.set(this.$2+1)};b.set=function(a){this.$3();if(this.$2===a)return;a===1&&(this.initialDisplayDate=g());this.$2=a;return this.get()};b.reset=function(){this.$1=!0};return a}();b=new a();function g(){return Math.floor(window.performance.now())}f["default"]=b}),66);
__d("WAWebLinkDeviceQrcode.react",["fbt","Promise","WABase64","WALogger","WAWebAdvSignatureApi","WAWebAutoLogoutGating","WAWebCheckBox.react","WAWebClassnames","WAWebClickable.react","WAWebCmd","WAWebCompanionRegClientUtils","WAWebConfirmPopup.react","WAWebConnModel","WAWebConnectionIcon","WAWebCopyPasteSelectable.react","WAWebFrontendConstants","WAWebInfoIconWithToolTip.react","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceQrcode.scss","WAWebLogoutReason.react","WAWebModalManager","WAWebNetworkStatus","WAWebQRCode.react","WAWebRefreshLargeIcon","WAWebSignalStoreApi","WAWebSocketConstants","WAWebSocketModel","WAWebSpinner.react","WAWebUISpacing","WAWebUserPrefsInfoStore","WAWebVelocityTransitionGroup","WAWebWamQrCodeCount","asyncToGeneratorRuntime","gkx","justknobx","react","stylex","useWAWebDebouncedCallback","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);m=function(){return a};return a}e=l||d("react");var n=j||(j=c("react")),o=e.useCallback,p=e.useEffect,q=e.useState;e={autoLogoutToggle:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.apiCmd;a.children;var e=a.onAutoLogoutToggle;e=a.onClickLinkWithPhoneNumber;a=a.showAlternateDeviceLinkingNux;var f=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),g=f[0],i=f[1];f=q(!c("WAWebNetworkStatus").online);var j=f[0],k=f[1];f=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED);var l=f[0],m=f[1];f=c("justknobx")._("2453");var o=Boolean(d("WAWebAutoLogoutGating").autoLogoutInIframFunctionAllowed());o=q(o);var p=o[0];p=o[1];o=function(){};p=function(){i(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),k(!c("WAWebNetworkStatus").online),m(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED)};d("useWAWebListener").useListener(d("WAWebSocketModel").Socket,"change:state change:online",p);o=function(){d("WAWebCmd").Cmd.refreshQR()};j?p=n.jsx(r,{children:n.jsxs("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,children:[n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButtonIcon,children:n.jsx(d("WAWebConnectionIcon").ConnectionIcon,{})}),h._("__JHASH__OnvUeCP02Rm__JHASH__")]},"expiry")}):g?p=n.jsx(r,{children:n.jsxs("button",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,onClick:o,children:[n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButtonIcon,children:n.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{})}),h._("__JHASH__E4wdB2IInzG__JHASH__")]},"expiry")}):l?p=n.jsx(r,{}):p=n.jsx(s,{});j=null;return n.jsxs(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,apiCmd:b,banners:n.jsx(c("WAWebLogoutReason.react"),{}),title:h._("__JHASH__jktImbB3n4-__JHASH__"),screenreaderOnlySubtitle:a?{onClick:e,node:n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").hintText,children:h._("__JHASH__BKDJEU1W7F9__JHASH__")})}:null,instructionsKey:"qrcode",instructions:[n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionNavigateToSettings,{showOptimizedContent:!f},"step2"),n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionsTapLinkedDevices,{showOptimizedContent:!f},"step3"),f===!0?n.jsx("span",{children:h._("__JHASH__jcem7QLns8o__JHASH__")},"step4"):n.jsx("span",{children:h._("__JHASH__iFvX1z-eeEA__JHASH__")},"step4")],alternativeLinkDeviceMethodHint:a?n.jsx(d("WAWebClickable.react").Clickable,{as:"span",dataTestId:"link-device-qrcode-alt-linking-hint",className:c("WAWebLinkDeviceQrcode.scss").hintText,onClick:e,children:h._("__JHASH__YVpigCek63N__JHASH__")}):null,children:[p,j]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var e;a=a.children;var f=a;a=q(!1);var g=a[0],h=a[1];a=q(null);var j=a[0],k=a[1],l=c("useWAWebDebouncedCallback")(function(){h(!0)},100),r=function(){if(d("WAWebConnModel").Conn.connected)return(i||(i=b("Promise"))).resolve(void 0);var a=d("WAWebConnModel").Conn.ref;return d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo().then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(!c||!c.staticKeyPair||!b){d("WALogger").ERROR(m()).sendLogs("Empty noiseInfo or empty regInfo");return null}c=d("WABase64").encodeB64(c.staticKeyPair.pubKey);b=d("WABase64").encodeB64(b.identityKeyPair.pubKey);var e=(yield d("WAWebAdvSignatureApi").getADVSecretKey());return a+","+c+","+b+","+e+","+d("WAWebCompanionRegClientUtils").DEVICE_PLATFORM});return function(a){return c.apply(this,arguments)}}())},u=o(function(){void r().then(function(a){if(a==null||a==="")return;k(a);c("WAWebWamQrCodeCount").inc()})},[k]);a=o(function(a){j!=null&&a!=null&&a.removeAttribute("title")},[j]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",u);p(function(){void u();d("WAWebCmd").Cmd.initialLoadReady();return function(){c("WAWebWamQrCodeCount").reset()}},[]);var v=function(){var a=window.getSelection(),b=document.getElementsByClassName(c("WAWebLinkDeviceQrcode.scss").codeCopy).item(0);b&&(a.selectAllChildren(b),document.execCommand("copy"));d("WAWebModalManager").ModalManager.close()},w=function(){g&&h(!1),l()},x=function(a){l.cancel(),h(!1)},y=function(a){a.stopPropagation(),a.preventDefault(),void r().then(function(a){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:v,okText:"Copy to Clipboard",children:n.jsx(d("WAWebCopyPasteSelectable.react").SelectableSpan,{className:c("WAWebLinkDeviceQrcode.scss").codeCopy,selectable:!0,children:a})}))})},z=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLinkDeviceQrcode.scss").idle]=!!f,e[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,e)),A=g&&f==null?{cursor:"none"}:null,B=null;c("gkx")("26258")||(B=y);return j==null?n.jsx(s,{}):n.jsx(d("WAWebQRCode.react").WAWebQRCode,{data:j,size:d("WAWebFrontendConstants").QR_EDGE,colorDark:"#122e31",onChange:a,children:function(a){return n.jsxs("div",{ref:a,"data-testid":void 0,className:z,"data-ref":j,onContextMenu:B,style:A,onMouseMove:w,onMouseLeave:x,children:[n.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"scale",children:f}),n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").codeLogo,children:n.jsx(t,{})})]})}})}r.displayName=r.name+" [from "+f.id+"]";function s(){return n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrcode,children:n.jsx(d("WAWebSpinner.react").Spinner,{})})}s.displayName=s.name+" [from "+f.id+"]";var t=function(){return n.jsx("span",{className:c("WAWebLinkDeviceQrcode.scss").icon,children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",children:[n.jsx("path",{fill:"#FFF",d:"M6.525 43.936a29.596 29.596 0 0 1-3.039-13.075C3.494 14.568 16.755 1.313 33.05 1.313c7.904.004 15.328 3.082 20.91 8.666 5.581 5.586 8.653 13.01 8.65 20.907-.007 16.294-13.266 29.549-29.558 29.549a29.648 29.648 0 0 1-12.508-2.771L1.391 62.687l5.134-18.751z"}),n.jsx("path",{fill:"#123033",d:"M50.801 13.135c-4.739-4.742-11.039-7.354-17.752-7.357-13.837 0-25.094 11.253-25.099 25.085a25.039 25.039 0 0 0 3.349 12.541l-3.56 12.999 13.304-3.488a25.084 25.084 0 0 0 11.996 3.054h.011c13.83 0 25.088-11.256 25.095-25.087.002-6.703-2.607-13.005-7.344-17.747zM33.05 51.733h-.008a20.866 20.866 0 0 1-10.62-2.906l-.762-.452-7.894 2.07 2.108-7.694-.497-.789a20.802 20.802 0 0 1-3.189-11.097c.004-11.496 9.361-20.85 20.87-20.85a20.73 20.73 0 0 1 14.746 6.115 20.733 20.733 0 0 1 6.104 14.752c-.006 11.497-9.363 20.851-20.858 20.851z"}),n.jsx("path",{fill:"#123033",d:"M25.429 19.26a8.65 8.65 0 0 0-1.028.011 2.352 2.352 0 0 0-.95.255c-.221.114-.427.277-.75.582-.305.288-.481.54-.668.782a6.974 6.974 0 0 0-1.443 4.291l.001.003a8.243 8.243 0 0 0 .844 3.607c1.043 2.307 2.763 4.746 5.035 7.008a24.676 24.676 0 0 0 1.657 1.6 24.145 24.145 0 0 0 9.814 5.229s.751.179 1.391.218c.021.001.04.003.061.003a9.207 9.207 0 0 0 1.422-.033 5.086 5.086 0 0 0 2.129-.59c.423-.225.623-.337.978-.561 0 0 .11-.072.319-.23.345-.257.558-.438.845-.736.211-.22.394-.479.534-.772.2-.417.401-1.213.481-1.874.061-.505.042-.781.036-.952-.011-.275-.238-.558-.487-.678l-1.486-.668s-2.222-.967-3.581-1.587a1.278 1.278 0 0 0-.452-.104c-.341-.021-.723.068-.966.324v-.004c-.013-.001-.182.145-2.031 2.385-.102.122-.341.387-.754.362a1.086 1.086 0 0 1-.185-.029 3.402 3.402 0 0 1-.49-.17c-.316-.134-.427-.185-.643-.278l-.013-.006a15.361 15.361 0 0 1-4.013-2.556 15.88 15.88 0 0 1-.927-.885c-1.074-1.041-1.953-2.148-2.607-3.24-.035-.06-.09-.146-.15-.242-.107-.174-.225-.381-.262-.523-.095-.376.157-.678.157-.678s.622-.68.911-1.05c.278-.356.518-.704.671-.952.301-.484.39-.982.238-1.37a216.767 216.767 0 0 0-2.219-5.215c-.156-.339-.598-.589-1.005-.636a6.284 6.284 0 0 0-.414-.041"})]})})};g["default"]=a}),226);
__d("WAWebLinkDevice.react",["WAWebAltDeviceLinkingApi","WAWebAutoLogoutGating","WAWebCmd","WAWebConnModel","WAWebEnvironment","WAWebLandingHeader.react","WAWebLinkDeviceAction","WAWebLinkDevicePhoneNumber.react","WAWebLinkDeviceQrVideo.react","WAWebLinkDeviceQrcode.react","WAWebPageLoadLogging","WAWebThemeContext","WAWebUA","asyncToGeneratorRuntime","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useState;function a(a){var b=self.location!==self.parent.location;b=!1;b=l(b);var e=b[0];e=b[1];b=l(!1);e=b[0];b=b[1];d("WAWebThemeContext").useForceLightTheme();k(function(){d("WAWebPageLoadLogging").endPageLoadQpl(!0)});b=function(){};var f=function(a){};k(function(){},[]);f=null;var g;c("WAWebEnvironment").isWeb&&(g=j.jsx(c("WAWebLinkDeviceQrVideo.react"),{}));return j.jsxs("div",{className:"landing-wrapper",children:[f,j.jsx("div",{className:"landing-wrapper-before"}),j.jsx(c("WAWebLandingHeader.react"),{}),!e&&j.jsxs("div",{className:"landing-window",children:[j.jsx("div",{className:"landing-main",children:j.jsx(m,babelHelpers["extends"]({onAutoLogoutToggle:b},a))}),g]})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var e=a.apiCmd;a=a.onAutoLogoutToggle;var f=d("WAWebUA").UA.isOculusBroswer,g=l(f),h=g[0],i=g[1];g=l(f);var k=g[0],m=g[1],n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:a?d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING:d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE}),m(a)});return function(b){return a.apply(this,arguments)}}();g=l(null);var o=g[0],p=g[1];d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h&&k){void d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}).then(function(){return i(!1)});return}var a=(yield d("WAWebLinkDeviceAction").getPreselectedCountryCodeIso());p(a)}),{once:!0});g=!d("WAWebAutoLogoutGating").autoLogoutInIframFunctionAllowed();return(g||f)&&k?j.jsx(d("WAWebLinkDevicePhoneNumber.react").LinkWithPhoneNumber,{apiCmd:e,initialCountryId:o,isLinkingPageLoading:h,onClickLinkWithQr:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield n(!1)});return function(b){return a.apply(this,arguments)}}()}):j.jsx(c("WAWebLinkDeviceQrcode.react"),{apiCmd:e,showAlternateDeviceLinkingNux:g,onAutoLogoutToggle:a,onClickLinkWithPhoneNumber:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield n(!0)});return function(b){return a.apply(this,arguments)}}()})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkedAccountsJob",["WAPromiseRetryLoop","WASmaxBizLinkingGetLinkedAccountsRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=3,i=250,j=1e3,k=function(){var a=h,c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("WASmaxBizLinkingGetLinkedAccountsRPC").sendGetLinkedAccountsRPC({})),e=[];switch(c.name){case"GetLinkedAccountsResponseForbidden":b(null);return;case"GetLinkedAccountsResponseError":break;default:c.name;if(c.value.linkedAccountsFbPage){var f;e.push({type:"facebook",id:(f=c.value.linkedAccountsFbPage)==null?void 0:f.id,hasActiveLinkedAd:((f=c.value.linkedAccountsFbPage)==null?void 0:f.adStatusHasActiveCtwaAd)==="true",hasCreatedAd:((f=c.value.linkedAccountsFbPage)==null?void 0:f.adStatusHasCreatedAd)==="true"})}if(c.value.linkedAccountsWhatsappAdIdentity){e.push({type:"whatsapp",id:(f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.id,hasActiveLinkedAd:((f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.adStatusHasActiveCtwaAd)==="true",hasCreatedAd:((f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.adStatusHasCreatedAd)==="true"})}b({accounts:e});return}--a===0&&b(null)});return function(a){return c.apply(this,arguments)}}();c=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"queryLinkedAccounts",timer:{algo:{type:"exponential",first:i},max:j},code:c});c.start();return c.promise()};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield k());if(!a)return null;if(a.accounts.length===0)return"not-linked";var b=a.accounts.find(function(a){return a.type==="whatsapp"});a=a.accounts.find(function(a){return a.type==="facebook"});if(b)return{id:b.id,hasCreatedAd:b.hasCreatedAd,hasFacebookPage:a!=null,type:b.type};return a?{id:a.id,hasCreatedAd:a.hasCreatedAd,hasFacebookPage:!0,type:a.type}:"not-linked"});return function(){return a.apply(this,arguments)}}();g.queryActiveLinkedAccountInfo=a}),98);
__d("WAWebLinkedAccountsAction",["WAWebLinkedAccountsJob"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebLinkedAccountsJob").queryActiveLinkedAccountInfo()}g.getActiveLinkedAccountInfo=a}),98);
__d("WAWebSettingsOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="settings-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("circle",{cx:12,cy:12,r:2.5,stroke:"currentColor",style:{strokeOpacity:1},strokeWidth:2}),j.jsx("mask",{id:"gear-outline",fill:"white",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1253 22H13.8753C14.1253 22 14.342 21.9167 14.5253 21.75C14.7087 21.5833 14.817 21.375 14.8503 21.125L15.1503 18.8C15.3503 18.7167 15.5503 18.6167 15.7503 18.5C15.9503 18.3833 16.142 18.2583 16.3253 18.125L18.4503 19.025C18.6837 19.1083 18.9212 19.1125 19.1628 19.0375C19.4045 18.9625 19.592 18.8167 19.7253 18.6L21.5753 15.4C21.7087 15.1833 21.7503 14.95 21.7003 14.7C21.6503 14.45 21.5253 14.25 21.3253 14.1L19.4503 12.675C19.4837 12.5583 19.5003 12.4458 19.5003 12.3375V11.6625C19.5003 11.5542 19.492 11.4417 19.4753 11.325L21.3503 9.9C21.5503 9.75 21.6753 9.55 21.7253 9.3C21.7753 9.05 21.7337 8.81667 21.6003 8.6L19.7503 5.375C19.617 5.15833 19.4337 5.01667 19.2003 4.95C18.967 4.88333 18.7337 4.89167 18.5003 4.975L16.3253 5.875C16.142 5.74167 15.9545 5.61667 15.7628 5.5C15.5712 5.38333 15.367 5.28333 15.1503 5.2L14.8503 2.875C14.817 2.625 14.7087 2.41667 14.5253 2.25C14.342 2.08333 14.1253 2 13.8753 2H10.1253C9.87534 2 9.65867 2.08333 9.47534 2.25C9.292 2.41667 9.18367 2.625 9.15034 2.875L8.85034 5.2C8.65034 5.28333 8.45034 5.38333 8.25034 5.5C8.05034 5.61667 7.85867 5.74167 7.67534 5.875L5.50034 4.975C5.267 4.89167 5.0295 4.87917 4.78784 4.9375C4.54617 4.99583 4.367 5.14167 4.25034 5.375L2.40034 8.6C2.267 8.81667 2.22534 9.05 2.27534 9.3C2.32534 9.55 2.45034 9.75 2.65034 9.9L4.52534 11.325C4.50867 11.4417 4.50034 11.5542 4.50034 11.6625V12.3375C4.50034 12.4458 4.50867 12.5583 4.52534 12.675L2.65034 14.1C2.45034 14.25 2.32534 14.45 2.27534 14.7C2.22534 14.95 2.267 15.1833 2.40034 15.4L4.25034 18.625C4.38367 18.8417 4.567 18.9833 4.80034 19.05C5.03367 19.1167 5.267 19.1083 5.50034 19.025L7.67534 18.125C7.85867 18.2583 8.04617 18.3833 8.23784 18.5C8.4295 18.6167 8.63367 18.7167 8.85034 18.8L9.15034 21.125C9.18367 21.375 9.292 21.5833 9.47534 21.75C9.65867 21.9167 9.87534 22 10.1253 22Z"})}),j.jsx("path",{d:"M14.8503 21.125L16.8328 21.3893L16.8339 21.3809L14.8503 21.125ZM15.1503 18.8L14.3811 16.9538L13.3146 17.3982L13.1668 18.5441L15.1503 18.8ZM16.3253 18.125L17.1053 16.2834L16.0638 15.8422L15.149 16.5075L16.3253 18.125ZM18.4503 19.025L17.6704 20.8666L17.7234 20.8891L17.7777 20.9085L18.4503 19.025ZM19.7253 18.6L21.4287 19.6482L21.4431 19.6248L21.4568 19.601L19.7253 18.6ZM21.5753 15.4L19.872 14.3518L19.8576 14.3752L19.8439 14.399L21.5753 15.4ZM21.3253 14.1L20.1151 15.6924L20.1253 15.7L21.3253 14.1ZM19.4503 12.675L17.5273 12.1256L17.1517 13.4401L18.2402 14.2673L19.4503 12.675ZM19.4753 11.325L18.2652 9.73268L17.3292 10.444L17.4954 11.6078L19.4753 11.325ZM21.3503 9.9L20.1503 8.29997L20.1402 8.30768L21.3503 9.9ZM21.6003 8.6L19.8655 9.59517L19.8809 9.62193L19.897 9.64819L21.6003 8.6ZM19.7503 5.375L21.4852 4.37983L21.4698 4.35307L21.4537 4.32681L19.7503 5.375ZM18.5003 4.975L17.8277 3.09152L17.7812 3.10811L17.7356 3.12697L18.5003 4.975ZM16.3253 5.875L15.149 7.49247L16.0549 8.15135L17.09 7.72303L16.3253 5.875ZM15.1503 5.2L13.1668 5.45594L13.3194 6.63862L14.4324 7.06669L15.1503 5.2ZM14.8503 2.875L16.8339 2.61905L16.8328 2.61067L14.8503 2.875ZM14.5253 2.25L15.8707 0.77012L14.5253 2.25ZM9.47534 2.25L8.12999 0.77012L9.47534 2.25ZM9.15034 2.875L7.16786 2.61067L7.16678 2.61906L9.15034 2.875ZM8.85034 5.2L9.61957 7.04615L10.686 6.60179L10.8339 5.45594L8.85034 5.2ZM7.67534 5.875L6.91063 7.72303L7.94573 8.15135L8.85168 7.49247L7.67534 5.875ZM5.50034 4.975L6.26504 3.12697L6.21946 3.10811L6.17301 3.09152L5.50034 4.975ZM4.78784 4.9375L4.31856 2.99334L4.31856 2.99334L4.78784 4.9375ZM4.25034 5.375L5.98517 6.37017L6.01362 6.32057L6.03919 6.26943L4.25034 5.375ZM2.40034 8.6L4.10365 9.64819L4.11982 9.62193L4.13517 9.59517L2.40034 8.6ZM2.27534 9.3L4.2365 8.90777L2.27534 9.3ZM2.65034 9.9L3.86053 8.30764L3.85034 8.3L2.65034 9.9ZM4.52534 11.325L6.50524 11.6078L6.6715 10.444L5.7355 9.73268L4.52534 11.325ZM4.52534 12.675L5.7355 14.2673L6.6715 13.556L6.50524 12.3922L4.52534 12.675ZM2.65034 14.1L3.85036 15.7L3.8605 15.6923L2.65034 14.1ZM2.27534 14.7L4.2365 15.0922L2.27534 14.7ZM2.40034 15.4L4.13517 14.4048L4.11982 14.3781L4.10365 14.3518L2.40034 15.4ZM4.25034 18.625L2.51551 19.6202L2.53086 19.6469L2.54702 19.6732L4.25034 18.625ZM5.50034 19.025L6.17301 20.9085L6.21946 20.8919L6.26504 20.873L5.50034 19.025ZM7.67534 18.125L8.85168 16.5075L7.94573 15.8487L6.91063 16.277L7.67534 18.125ZM8.85034 18.8L10.8339 18.5441L10.6813 17.3614L9.5683 16.9333L8.85034 18.8ZM9.15034 21.125L7.16676 21.3809L7.16788 21.3893L9.15034 21.125ZM13.8753 20H10.1253V24H13.8753V20ZM13.18 20.2701C13.2592 20.1981 13.3692 20.1239 13.5074 20.0708C13.6452 20.0178 13.7739 20 13.8753 20V24C14.6179 24 15.3155 23.7345 15.8707 23.2299L13.18 20.2701ZM12.8679 20.8607C12.8796 20.7729 12.9092 20.6624 12.9697 20.546C13.0304 20.4292 13.1066 20.3369 13.18 20.2701L15.8707 23.2299C16.4099 22.7397 16.7383 22.0978 16.8328 21.3893L12.8679 20.8607ZM13.1668 18.5441L12.8668 20.8691L16.8339 21.3809L17.1339 19.0559L13.1668 18.5441ZM14.7426 16.7724C14.6142 16.8474 14.4937 16.9069 14.3811 16.9538L15.9196 20.6462C16.207 20.5264 16.4865 20.386 16.7581 20.2276L14.7426 16.7724ZM15.149 16.5075C15.0211 16.6005 14.8858 16.6889 14.7426 16.7724L16.7581 20.2276C17.0149 20.0778 17.2629 19.9161 17.5017 19.7425L15.149 16.5075ZM19.2303 17.1834L17.1053 16.2834L15.5454 19.9666L17.6704 20.8666L19.2303 17.1834ZM18.57 17.1274C18.6391 17.1059 18.7311 17.089 18.8385 17.0909C18.9465 17.0928 19.0438 17.1132 19.123 17.1415L17.7777 20.9085C18.4281 21.1408 19.1099 21.148 19.7556 20.9476L18.57 17.1274ZM18.022 17.5518C18.0718 17.4708 18.1486 17.3774 18.2568 17.2932C18.3652 17.2089 18.4761 17.1565 18.57 17.1274L19.7556 20.9476C20.4623 20.7283 21.0432 20.2746 21.4287 19.6482L18.022 17.5518ZM19.8439 14.399L17.9939 17.599L21.4568 19.601L23.3068 16.401L19.8439 14.399ZM19.7392 15.0922C19.7189 14.9906 19.7114 14.8586 19.7377 14.7109C19.7641 14.5632 19.817 14.4412 19.872 14.3518L23.2787 16.4482C23.6774 15.8002 23.8104 15.0521 23.6615 14.3078L19.7392 15.0922ZM20.1253 15.7C20.0401 15.6361 19.9489 15.5438 19.8731 15.4225C19.7976 15.3017 19.7577 15.1847 19.7392 15.0922L23.6615 14.3078C23.5171 13.5858 23.1275 12.9516 22.5253 12.5L20.1253 15.7ZM18.2402 14.2673L20.1152 15.6923L22.5355 12.5077L20.6605 11.0827L18.2402 14.2673ZM17.5003 12.3375C17.5003 12.2393 17.5156 12.1665 17.5273 12.1256L21.3734 13.2244C21.4517 12.9502 21.5003 12.6524 21.5003 12.3375H17.5003ZM17.5003 11.6625V12.3375H21.5003V11.6625H17.5003ZM17.4954 11.6078C17.4999 11.6389 17.5003 11.6566 17.5003 11.6625H21.5003C21.5003 11.4517 21.4841 11.2444 21.4552 11.0422L17.4954 11.6078ZM20.1402 8.30768L18.2652 9.73268L20.6855 12.9173L22.5605 11.4923L20.1402 8.30768ZM19.7642 8.90777C19.7827 8.81526 19.8226 8.69828 19.8981 8.5775C19.9739 8.45616 20.0651 8.36393 20.1503 8.3L22.5503 11.5C23.1525 11.0484 23.5421 10.4142 23.6865 9.69223L19.7642 8.90777ZM19.897 9.64819C19.842 9.5588 19.7891 9.43682 19.7627 9.28908C19.7364 9.14142 19.7439 9.00936 19.7642 8.90777L23.6865 9.69223C23.8354 8.94794 23.7024 8.19983 23.3037 7.55181L19.897 9.64819ZM18.0155 6.37017L19.8655 9.59517L23.3352 7.60483L21.4852 4.37983L18.0155 6.37017ZM18.6509 6.87305C18.5353 6.84001 18.4086 6.78048 18.2899 6.68882C18.1726 6.59818 18.0945 6.50037 18.047 6.42319L21.4537 4.32681C21.0724 3.70724 20.4884 3.238 19.7498 3.02695L18.6509 6.87305ZM19.173 6.85848C19.1082 6.88163 19.0224 6.90138 18.9217 6.90498C18.8206 6.90859 18.7279 6.89505 18.6509 6.87305L19.7498 3.02695C19.106 2.84301 18.4454 2.8709 17.8277 3.09152L19.173 6.85848ZM17.09 7.72303L19.265 6.82303L17.7356 3.12697L15.5606 4.02697L17.09 7.72303ZM14.7229 7.2084C14.8674 7.29634 15.0094 7.39097 15.149 7.49247L17.5017 4.25753C17.2746 4.09236 17.0416 3.93699 16.8027 3.7916L14.7229 7.2084ZM14.4324 7.06669C14.5411 7.10849 14.6371 7.15615 14.7229 7.2084L16.8027 3.7916C16.5052 3.61052 16.1929 3.45817 15.8683 3.33331L14.4324 7.06669ZM12.8668 3.13094L13.1668 5.45594L17.1339 4.94406L16.8339 2.61906L12.8668 3.13094ZM13.18 3.72988C13.1066 3.66314 13.0304 3.57076 12.9697 3.45395C12.9092 3.33761 12.8796 3.22709 12.8679 3.13933L16.8328 2.61067C16.7383 1.90221 16.4099 1.26032 15.8707 0.77012L13.18 3.72988ZM13.8753 4C13.7739 4 13.6452 3.98222 13.5074 3.92919C13.3692 3.87605 13.2592 3.80191 13.18 3.72988L15.8707 0.77012C15.3155 0.265451 14.6179 0 13.8753 0V4ZM10.1253 4H13.8753V0H10.1253V4ZM10.8207 3.72988C10.7414 3.80191 10.6315 3.87605 10.4933 3.92919C10.3554 3.98222 10.2268 4 10.1253 4V0C9.38277 0 8.68513 0.265451 8.12999 0.77012L10.8207 3.72988ZM11.1328 3.13933C11.1211 3.22709 11.0915 3.33762 11.031 3.45396C10.9703 3.57076 10.8941 3.66314 10.8207 3.72988L8.12999 0.77012C7.59078 1.26032 7.26234 1.9022 7.16788 2.61067L11.1328 3.13933ZM10.8339 5.45594L11.1339 3.13094L7.16678 2.61906L6.86678 4.94406L10.8339 5.45594ZM9.25808 7.22756C9.3865 7.15265 9.50699 7.09306 9.61957 7.04615L8.08111 3.35385C7.79368 3.47361 7.51418 3.61402 7.2426 3.77244L9.25808 7.22756ZM8.85168 7.49247C8.97955 7.39947 9.11486 7.3111 9.25808 7.22756L7.2426 3.77244C6.98582 3.92223 6.73779 4.08386 6.49899 4.25753L8.85168 7.49247ZM4.73563 6.82303L6.91063 7.72303L8.44004 4.02697L6.26504 3.12697L4.73563 6.82303ZM5.25712 6.88166C5.19861 6.89579 5.12496 6.90472 5.04209 6.90036C4.95917 6.896 4.88599 6.87931 4.82767 6.85848L6.17301 3.09152C5.57172 2.87677 4.9373 2.84398 4.31856 2.99334L5.25712 6.88166ZM6.03919 6.26943C5.98707 6.37367 5.892 6.51376 5.73476 6.64175C5.57527 6.77156 5.40421 6.84616 5.25712 6.88166L4.31856 2.99334C3.47221 3.19763 2.8269 3.74974 2.46148 4.48057L6.03919 6.26943ZM4.13517 9.59517L5.98517 6.37017L2.51551 4.37983L0.665509 7.60483L4.13517 9.59517ZM4.2365 8.90777C4.25682 9.00936 4.26431 9.14142 4.23794 9.28908C4.21156 9.43682 4.15867 9.5588 4.10365 9.64819L0.697021 7.55181C0.298236 8.19983 0.165318 8.94794 0.314176 9.69223L4.2365 8.90777ZM3.85034 8.3C3.93558 8.36393 4.02675 8.45616 4.10258 8.5775C4.17807 8.69828 4.218 8.81525 4.2365 8.90777L0.314176 9.69223C0.458572 10.4142 0.848166 11.0484 1.45034 11.5L3.85034 8.3ZM5.7355 9.73268L3.8605 8.30768L1.44017 11.4923L3.31517 12.9173L5.7355 9.73268ZM6.50034 11.6625C6.50034 11.6566 6.5008 11.6389 6.50524 11.6078L2.54544 11.0422C2.51654 11.2444 2.50034 11.4517 2.50034 11.6625H6.50034ZM6.50034 12.3375V11.6625H2.50034V12.3375H6.50034ZM6.50524 12.3922C6.5008 12.3611 6.50034 12.3434 6.50034 12.3375H2.50034C2.50034 12.5483 2.51654 12.7556 2.54544 12.9578L6.50524 12.3922ZM3.8605 15.6923L5.7355 14.2673L3.31517 11.0827L1.44017 12.5077L3.8605 15.6923ZM4.2365 15.0922C4.218 15.1847 4.17807 15.3017 4.10258 15.4225C4.02675 15.5438 3.93558 15.6361 3.85034 15.7L1.45034 12.5C0.848166 12.9516 0.458572 13.5858 0.314176 14.3078L4.2365 15.0922ZM4.10365 14.3518C4.15867 14.4412 4.21156 14.5632 4.23794 14.7109C4.26431 14.8586 4.25682 14.9906 4.2365 15.0922L0.314176 14.3078C0.165318 15.0521 0.298235 15.8002 0.697022 16.4482L4.10365 14.3518ZM5.98517 17.6298L4.13517 14.4048L0.665509 16.3952L2.51551 19.6202L5.98517 17.6298ZM5.34979 17.127C5.46543 17.16 5.59211 17.2195 5.71073 17.3112C5.82803 17.4018 5.90616 17.4996 5.95366 17.5768L2.54702 19.6732C2.9283 20.2928 3.51224 20.762 4.25089 20.973L5.34979 17.127ZM4.82766 17.1415C4.89246 17.1184 4.97824 17.0986 5.07895 17.095C5.18008 17.0914 5.27276 17.1049 5.34979 17.127L4.25089 20.973C4.89469 21.157 5.55528 21.1291 6.17301 20.9085L4.82766 17.1415ZM6.91063 16.277L4.73563 17.177L6.26504 20.873L8.44004 19.973L6.91063 16.277ZM9.27773 16.7916C9.13325 16.7037 8.99125 16.609 8.85168 16.5075L6.49899 19.7425C6.72609 19.9076 6.95909 20.063 7.19794 20.2084L9.27773 16.7916ZM9.5683 16.9333C9.45961 16.8915 9.36358 16.8439 9.27773 16.7916L7.19794 20.2084C7.49543 20.3895 7.80773 20.5418 8.13237 20.6667L9.5683 16.9333ZM11.1339 20.8691L10.8339 18.5441L6.86678 19.0559L7.16678 21.3809L11.1339 20.8691ZM10.8207 20.2701C10.8941 20.3369 10.9703 20.4292 11.031 20.546C11.0915 20.6624 11.1211 20.7729 11.1328 20.8607L7.16788 21.3893C7.26234 22.0978 7.59077 22.7397 8.12999 23.2299L10.8207 20.2701ZM10.1253 20C10.2268 20 10.3554 20.0178 10.4933 20.0708C10.6315 20.1239 10.7414 20.1981 10.8207 20.2701L8.12999 23.2299C8.68513 23.7345 9.38277 24 10.1253 24V20Z",fill:"currentColor",style:{fillOpacity:1},mask:"url(#gear-outline)"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SettingsOutlineIcon=a}),98);
__d("useWAWebChatsActivityIndicator",["WAWebChatCollection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(){var a=function(){return d("WAWebChatCollection").ChatCollection.getUnreadCount()},b=i(a),c=b[0],e=b[1];b=function(){e(a())};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"add remove reset change:showUnreadInTitle",b);return{unreadChatCount:c}}g.useChatsActivityIndicator=a}),98);
__d("WAWebNavBar.react",["fbt","WAWebAdCreationMenuBarItem.react","WAWebBizGatingUtils","WAWebBizToolsFlowLoadable","WAWebBotGating","WAWebBusinessProfileCollection","WAWebBusinessToolsIcon","WAWebBusinessToolsOutlineIcon","WAWebChatLockCodeModal.react","WAWebChatLockGatingUtils","WAWebChatUnreadCount.react","WAWebChatlockFilledIcon","WAWebChatlockOutlineIcon","WAWebChatlockUnlockedOutlineIcon","WAWebChatsFilledIcon","WAWebChatsOutlineIcon","WAWebCommunityDailyUtils","WAWebCommunityFlowLoadable","WAWebCommunityTabMenuBarItem.react","WAWebConnModel","WAWebContactCollection","WAWebDetailImage.react","WAWebDrawerManager","WAWebFlex.react","WAWebKeyboardTabUtils","WAWebLockedChatsDrawer.react","WAWebMenuBar.react","WAWebMetaBotMenuBarItem.react","WAWebMobilePlatforms","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebNavBarUtils","WAWebNewsletterTabMenuBarItem.react","WAWebOpenNewsletterTab","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebSettingsConst","WAWebSettingsFlowLoadable","WAWebSettingsIcon","WAWebSettingsOutlineIcon","WAWebStatusNavigateTo","WAWebTabOrder","WAWebTag.react","WAWebTextStatusCollection","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebWamEnumActionEntryPoint","WAWebWamEnumBusinessToolsEntryPointType","WAWebWamEnumLandingSurface","WAWebWamEnumUnlockEntryPoint","WAWebWamEnumWebcNavbarItemLabel","asyncToGeneratorRuntime","fbs","react","stylex","useForceUpdate","useWAWebChatLockEvents","useWAWebChatsActivityIndicator","useWAWebExternalBetaOptIn","useWAWebIsNewsletterUiEnabled","useWAWebListener","useWAWebServerGatedAdEntryPoint","useWAWebStatusActivityIndicator"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useMemo,o=e.useState,p={header:{zIndex:"xa1v5g2",position:"x1n2onr6",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xbyj736",height:"x5yr21d",backgroundColor:"x1acz5yr",borderEndWidth:"xm81vs4",borderEndStyle:"xu3j5b3",borderEndColor:"x1a0jr7w",$$css:!0},menuItems:{flexDirection:"xdt5ytf",alignItems:"x1cy8zhl",height:"x5yr21d",$$css:!0},menuItemSize24:{width:"xvy4d1p",height:"xxk0z11",$$css:!0},menuSectionSeparator:{width:"xvy4d1p",height:"xjm9jq1",borderTopWidth:"xamhcws",borderTopStyle:"x13fuv20",borderTopColor:"xxdxl9i",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},betaMenuItem:{fontSize:"x1pg5gke",fontWeight:"x117nqv4",$$css:!0},commerceIconContainer:{zoom:"x1kyludp",$$css:!0}};function a(a){var e=a.headerRef,f=a.activeAccountInfo,g=a.leftDrawerClosed,i=a.activeNavBarItem,k=a.setActiveNavBarItem;a=c("useForceUpdate")();var q=n(d("WAWebUserPrefsMeUser").assertGetMeUser,[]),r=o(!1),s=r[0],t=r[1];r=d("useWAWebChatLockEvents").useChatLockEvents();m(function(){d("WAWebMobilePlatforms").isSMB()&&d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(q).then(function(){t(!0)})},[q]);m(function(){g&&k(d("WAWebNavBarTypes").NavBarItems.Chats)},[g,k]);var u=n(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(q)},[q]);d("useWAWebListener").useListener(u,"change:profileOptions",a);a=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_ad_creation_home_screen_icon",f);var v=a[0];a=a[1];var w=null,x=d("useWAWebExternalBetaOptIn").useExternalBetaOptIn();x=x[0];if(x){x=function(a){a.preventDefault();if(i===d("WAWebNavBarTypes").NavBarItems.Beta)return;k(d("WAWebNavBarTypes").NavBarItems.Beta);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},initialStep:d("WAWebSettingsConst").SettingsSteps.Help}),{transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.SETTINGS_HELP)};var y=h._("__JHASH__qGmtwD0AtR2__JHASH__");y=i===d("WAWebNavBarTypes").NavBarItems.Beta?y:l.jsx(d("WAWebTag.react").Tag,{theme:d("WAWebTag.react").TagTheme.Secondary,children:y});w=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[p.menuItemSize24,p.betaMenuItem],children:y}),vertical:!0,onClick:x,title:c("fbs")._("__JHASH__qGmtwD0AtR2__JHASH__"),selected:i===d("WAWebNavBarTypes").NavBarItems.Beta,showHoverTooltip:!0})}y=f!=null&&!v&&d("WAWebBizGatingUtils").shouldShowAdCreationIcon()?l.jsx(c("WAWebAdCreationMenuBarItem.react"),{activeAccountInfo:f,iconStyle:(j||(j=c("stylex")))(p.commerceIconContainer,d("WAWebUISpacing").uiMargin.top10),vertical:!0,ctaText:a==null?void 0:a.content}):null;x=function(){if(i===d("WAWebNavBarTypes").NavBarItems.BizTools)return;k(d("WAWebNavBarTypes").NavBarItems.BizTools);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebBizToolsFlowLoadable").BizToolsFlowLoadable,{adsAccountInfo:f,entryPoint:d("WAWebWamEnumBusinessToolsEntryPointType").BUSINESS_TOOLS_ENTRY_POINT_TYPE.ENTRY_BUSINESS_TOOLS_TAB}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.BUSINESS_TOOLS)};v=s&&!d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(u);a=v&&d("WAWebBizGatingUtils").isBizToolsDrawerEnabled()&&l.jsx("div",{className:"x1kyludp",children:l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,testid:void 0,icon:l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:p.menuItemSize24,children:i===d("WAWebNavBarTypes").NavBarItems.BizTools?l.jsx(d("WAWebBusinessToolsIcon").BusinessToolsIcon,{directional:!0,width:26,height:26}):l.jsx(d("WAWebBusinessToolsOutlineIcon").BusinessToolsOutlineIcon,{directional:!0,width:26,height:26})}),title:h._("__JHASH__Aowuf9H3z9F__JHASH__"),onClick:x,selected:i===d("WAWebNavBarTypes").NavBarItems.BizTools,showHoverTooltip:!0})});s=function(){if(i===d("WAWebNavBarTypes").NavBarItems.Newsletters)return;k(d("WAWebNavBarTypes").NavBarItems.Newsletters);d("WAWebOpenNewsletterTab").openNewsletterTab();d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.NEWSLETTERS)};u=c("useWAWebIsNewsletterUiEnabled")();v=u?l.jsx(c("WAWebNewsletterTabMenuBarItem.react"),{onClick:s,vertical:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.Newsletters},"newsletters"):null;x=function(){if(i===d("WAWebNavBarTypes").NavBarItems.Communities)return;k(d("WAWebNavBarTypes").NavBarItems.Communities);d("WAWebCommunityDailyUtils").incrementCommunityTabEvent(d("WAWebCommunityDailyUtils").CommunityDailyTabMetricsType.TAB_VIEWS);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.COMMUNITIES)};u=l.jsx(c("WAWebCommunityTabMenuBarItem.react"),{onClick:x,vertical:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.Communities},"communities");s=function(a){a.preventDefault();if(i===d("WAWebNavBarTypes").NavBarItems.Chats)return;k(d("WAWebNavBarTypes").NavBarItems.Chats);d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.CHATS)};x=i===d("WAWebNavBarTypes").NavBarItems.Chats?l.jsx(d("WAWebChatsFilledIcon").ChatsFilledIcon,{directional:!0}):l.jsx(d("WAWebChatsOutlineIcon").ChatsOutlineIcon,{directional:!0});var z=d("useWAWebChatsActivityIndicator").useChatsActivityIndicator();z=z.unreadChatCount;z=z>0&&l.jsx("div",{className:"x10l6tqk x14ipxcb x1oozmrk",children:l.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:z})});x=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsxs("div",{className:"x1n2onr6",children:[x,z]}),title:h._("__JHASH__hy-Qp8EeTRI__JHASH__"),onClick:s,vertical:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.Chats,showHoverTooltip:!0},"chats");z=d("useWAWebStatusActivityIndicator").useWAWebStatusActivityIndicator();s=z.hasUnread;var A=z.clearUnreadActivity;z=function(a){a.preventDefault();if(i===d("WAWebNavBarTypes").NavBarItems.Status)return;k(d("WAWebNavBarTypes").NavBarItems.Status);d("WAWebStatusNavigateTo").navigateToStatus({openTab:!0,clearUnreadActivity:A});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.STATUS)};s=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{vertical:!0,testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:d("WAWebNavBarUtils").getNavBarIcon(d("WAWebNavBarTypes").NavBarItems.Status,i===d("WAWebNavBarTypes").NavBarItems.Status,s),title:h._("__JHASH__52qipdNXs4c__JHASH__"),onClick:z,selected:i===d("WAWebNavBarTypes").NavBarItems.Status,showHoverTooltip:!0},"status");z=function(){if(i===d("WAWebNavBarTypes").NavBarItems.Settings)return;k(d("WAWebNavBarTypes").NavBarItems.Settings);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.SETTINGS)};var B=i===d("WAWebNavBarTypes").NavBarItems.Settings?l.jsx(d("WAWebSettingsIcon").SettingsIcon,{height:22,width:22}):l.jsx(d("WAWebSettingsOutlineIcon").SettingsOutlineIcon,{height:26,width:26});B=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:p.menuItemSize24,children:B}),title:h._("__JHASH__GppBl6wcTbk__JHASH__"),onClick:z,vertical:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.Settings,showHoverTooltip:!0},"menu-bar-settings");z=function(){if(i===d("WAWebNavBarTypes").NavBarItems.Profile)return;var a=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(q),b=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(q),c=d("WAWebContactCollection").ContactCollection.assertGet(q);k(d("WAWebNavBarTypes").NavBarItems.Profile);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:a,profilePicThumb:b,contact:c,conn:d("WAWebConnModel").Conn,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.PROFILE)};var C=l.jsx("div",{className:"x1iyjqo2",children:l.jsx(d("WAWebDetailImage.react").DetailImage,{ariaLabel:h._("__JHASH__dhIyISolv4D__JHASH__"),testId:"chatlist_header_profile_photo",theme:"chatlist_header_profile_photo",tabIndex:-1,id:q,size:32})});C=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:p.menuItemSize24,children:C}),title:h._("__JHASH__fxoQBgk5NP0__JHASH__"),vertical:!0,showHoverTooltip:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.Profile,onClick:z});z=l.jsx("hr",{className:(j||(j=c("stylex")))([p.menuSectionSeparator,d("WAWebUISpacing").uiMargin.top16])});a=d("WAWebMobilePlatforms").isSMB()?l.jsxs(d("WAWebFlex.react").FlexItem,{grow:1,children:[z,a,y]}):null;y=d("WAWebMobilePlatforms").isSMB()?0:1;var D=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(i===d("WAWebNavBarTypes").NavBarItems.LockedChats)return;var a=(yield d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0,entryPoint:d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST,unlockEntryPoint:d("WAWebWamEnumUnlockEntryPoint").UNLOCK_ENTRY_POINT.CHAT_LIST,landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.FOLDER}));a&&(k(d("WAWebNavBarTypes").NavBarItems.LockedChats),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(c("WAWebLockedChatsDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},entryPoint:d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST,unlockEntryPoint:d("WAWebWamEnumUnlockEntryPoint").UNLOCK_ENTRY_POINT.CHAT_LIST}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"}))});return function(){return a.apply(this,arguments)}}();r?r=l.jsx(d("WAWebChatlockUnlockedOutlineIcon").ChatlockUnlockedOutlineIcon,{width:24,height:24}):i===d("WAWebNavBarTypes").NavBarItems.LockedChats?r=l.jsx(d("WAWebChatlockFilledIcon").ChatlockFilledIcon,{width:24,height:24}):r=l.jsx(d("WAWebChatlockOutlineIcon").ChatlockOutlineIcon,{width:24,height:24});var E=[];d("WAWebChatLockGatingUtils").chatLockSideNavEnabled()&&E.push(l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:r,title:"Locked Chats",onClick:D,vertical:!0,selected:i===d("WAWebNavBarTypes").NavBarItems.LockedChats,showHoverTooltip:!0},"menu-bar-locked-chats"));var F;d("WAWebTopMenuRedesignGatingUtils").extraMenuSectionEnabled()&&E.length>0&&(F=l.jsxs(l.Fragment,{children:[z,E]}));r=[x,s,v,u];D=[];D.push(z);if(d("WAWebBotGating").isBotShortcutEntryPointEnabled()){E=l.jsx(d("WAWebMetaBotMenuBarItem.react").MetaBotMenuBarItem,{vertical:!0,showHoverTooltip:!0},"menu-bar-meta-bot");r.push(E)}return l.jsx("header",{"data-testid":void 0,ref:e,className:j(p.header,d("WAWebUISpacing").uiPadding.horiz12),children:l.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",style:{height:"100%"},children:l.jsx(d("WAWebFlex.react").FlexItem,{grow:1,children:l.jsx("div",{"data-js-navbar":!0,style:{height:"100%"},className:"x1okw0bk x6s6g2w",children:l.jsx(d("WAWebMenuBar.react").MenuBar,{theme:"nav-bar",children:l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",xstyle:p.menuItems,children:l.jsxs(d("WAWebFlex.react").FlexColumn,{style:{height:"100%"},children:[l.jsxs(d("WAWebFlex.react").FlexItem,{grow:y,children:[r,D.length>1&&D,F]}),a,l.jsxs(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:d("WAWebUISpacing").uiMargin.bottom10,children:[w,B,C]})]})})},"chatlist-header")})})})})}a.displayName=a.name+" [from "+f.id+"]";g.NavBar=a}),226);
__d("WAWebNotificationsCallNotification",["WAWebBaseNotification","WAWebChatFlowTypes","WAWebContactCollection","WAWebFrontendContactGetters","WAWebMuteCollection","WAWebMuteGetters","WAWebNotificationController","WAWebNotificationIconUtils","WAWebWid","WAWebWidFormat","asyncToGeneratorRuntime","fbs"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebNotificationController").WANotificationController.triggerNotification(new h(a))}function e(a){a&&d("WAWebNotificationController").WANotificationController.closeOrCancelNotification(a.toString())}var h=function(e){babelHelpers.inheritsLoose(a,e);function a(a){var b,c=a.wid,d=a.msgId,f=a.isVideo,g=a.isGroup;a=a.isSilenced;b=e.call(this)||this;b.wid=c;b.msgId=d;b.isVideo=f;b.isGroup=g;b.isSilenced=a;return b}var f=a.prototype;f.shouldMute=function(){return!this.wid||!this.msgId||d("WAWebMuteGetters").getIsMuted(d("WAWebMuteCollection").MuteCollection.globalMute())||this.isSilenced?!0:!1};f.buildKey=function(){return"call:"+this.wid.toString()};f.matchesChat=function(a){return c("WAWebWid").equals(this.wid,a)};f.getChatKind=function(){return this.isGroup?d("WAWebChatFlowTypes").ChatKindType.Group:d("WAWebChatFlowTypes").ChatKindType.Chat};f.getIcon=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebNotificationIconUtils").getNotificationIconByWid(this.wid,this.abortController.signal,d("WAWebNotificationIconUtils").USER_DEFAULT_ICON)});function c(){return a.apply(this,arguments)}return c}();f.getBannerOptions=function(){var a=d("WAWebContactCollection").ContactCollection.get(this.wid);a=a?d("WAWebFrontendContactGetters").getFormattedName(a):d("WAWebWidFormat").widToFormattedUser(this.wid);var b;this.isGroup?b=this.isVideo?c("fbs")._("__JHASH__RQBTNX-HdiW__JHASH__",[c("fbs")._param("name",a)]).toString():c("fbs")._("__JHASH__Zk7d2XrvIhj__JHASH__",[c("fbs")._param("name",a)]).toString():b=this.isVideo?c("fbs")._("__JHASH__RzRngOjqL6i__JHASH__",[c("fbs")._param("name",a)]).toString():c("fbs")._("__JHASH__hm66-RoBY0V__JHASH__",[c("fbs")._param("name",a)]).toString();a=c("fbs")._("__JHASH__kAWDCkdZsPY__JHASH__").toString();return{wid:this.wid,msgId:this.msgId,tag:this.msgId,title:b,body:a}};return a}(d("WAWebBaseNotification").WABaseNotification);g.showCallNotification=a;g.cancelCallNotification=e}),226);
__d("WAWebNotificationManager.react",["WAWebChatCollection","WAWebCmd","WAWebNotificationBackend","WAWebNotificationIcon","WAWebNotificationsCallNotification","WAWebStreamModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(){var a,b=j(null),c=function(){var a;d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.OFFLINE?a=-1:d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.TIMEOUT?a=-1:a=d("WAWebChatCollection").ChatCollection.getUnreadCount();b.current!==a&&(b.current=a,d("WAWebNotificationIcon").setTitleAndIcon(a))};i(function(){c()},[]);(a=d("useWAWebListener")).useListener(d("WAWebCmd").Cmd,"alert_new_msg",function(a){return d("WAWebNotificationBackend").showMsgNotification(a)});a.useListener(d("WAWebCmd").Cmd,"alert_call",d("WAWebNotificationsCallNotification").showCallNotification);a.useListener(d("WAWebCmd").Cmd,"cancel_call",d("WAWebNotificationsCallNotification").cancelCallNotification);a.useListener(d("WAWebChatCollection").ChatCollection,"add remove reset change:showUnreadInTitle",c);a.useListener(d("WAWebChatCollection").ChatCollection,"change:hasUnread",d("WAWebNotificationBackend").closeNotifications);a.useListener(d("WAWebStreamModel").Stream,"change:displayInfo",c);return null}g["default"]=a}),98);
__d("WAWebOpenNotificationsSetting",["WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebNotificationsDrawer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a;a=new URLSearchParams(((a=window.location.search)!=null?a:"").toLowerCase());a=((a=a.get("ns"))!=null?a:"")==="1";a&&(d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(c("WAWebNotificationsDrawer.react"),{onCancel:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"}),window.history.pushState({},"",window.location.origin))}g.handleOpenNotificationsSettingDeeplink=a}),98);
__d("WAWebPaneToggle.react",["WAWebThemeContext","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useState,m={wrapper:{position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",height:"x5yr21d",cursor:"x14isd7o",opacity:"xg01cxk",zIndex:"xhtitgo",transition:"x1myia39",width:"x1fsd2vl",backgroundColor:"xj17vyn",borderStartWidth:"xy80clv",borderStartStyle:"x26u7qi",borderStartColor:"x124h113",":hover_transition":"x3ffvku",":hover_opacity":"x1o7uuvo",$$css:!0},darkMode:{backgroundColor:"xcpsgoo",borderStartWidth:"xm0m39n",$$css:!0},pointerRight:{cursor:"x14mnfz1",$$css:!0},pointerLeft:{cursor:"x14isd7o",$$css:!0}};function a(a){var b=a.onClick;a=a.pointerDirection;var e=l(!0),f=e[0],g=e[1];e=d("WAWebThemeContext").useIsDarkTheme();if(!f)return null;f=function(){g(!1),self.setTimeout(function(){return g(!0)},500),b()};return k.jsx("div",{className:(i||(i=c("stylex")))(m.wrapper,a==="right"?m.pointerRight:m.pointerLeft,e&&m.darkMode),onClick:f,tabIndex:"0",role:"button","aria-hidden":"true"})}a.displayName=a.name+" [from "+f.id+"]";g.PaneToggle=a}),98);
__d("WAWebPipYoutubeVideoPlayer.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={fullscreen:"_ah_a",container:"_ah_b",youtubeContainer:"_ah_c",redesign:"_ah_d",strippedVideoControls:"_ah_e",opacityTransition:"_ah_f",dimmed:"_ah_g"};b=a;g["default"]=b}),98);
__d("WAWebYoutube.react",["Promise","WAWebTimeSpentLoggingNavigation","asyncToGeneratorRuntime","lodash","react","youtube-player"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef;function o(a,b){if(a.videoId!==b.videoId)return!0;a=((a=a.opts)==null?void 0:a.playerVars)||{};b=((b=b.opts)==null?void 0:b.playerVars)||{};return a.start!==b.start||a.end!==b.end}function p(a){return babelHelpers["extends"]({},a,{playerVars:babelHelpers["extends"]({},a==null?void 0:a.playerVars,{autoplay:0,start:0,end:0})})}function q(a,b){return!c("lodash").isEqual(p(a==null?void 0:a.opts),p(b==null?void 0:b.opts))}function r(a,b){return a.id===b.id||a.className===b.className}var s={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function a(a){var e=a.onReady,f=e===void 0?function(a){}:e;e=a.onError;var g=e===void 0?function(a){}:e;e=a.onStateChange;var i=e===void 0?function(a){}:e;e=a.onEnd;var j=e===void 0?function(a){}:e;e=a.onPlay;var p=e===void 0?function(a){}:e;e=a.onPause;var t=e===void 0?function(a){}:e;e=a.onPlaybackRateChange;var u=e===void 0?function(a){}:e;e=a.onPlaybackQualityChange;var v=e===void 0?function(a){}:e;e=a.opts;var w=e===void 0?{playerVars:{}}:e,x=a.videoId;e=a.id;var y=e===void 0?null:e;e=a.className;var z=e===void 0?null:e;e=a.containerClassName;e=e===void 0?"":e;var A=n(null),B=n(null),C=n([]),D=n(a),E=l(function(a){return f(a)},[f]),F=l(function(a){return g(a)},[g]),G=l(function(a){i(a);switch(a.data){case s.ENDED:j(a);break;case s.PLAYING:p(a);break;case s.PAUSED:t(a);break;default:return}},[j,t,p,i]),H=l(function(a){return u(a)},[u]),I=l(function(a){return v(a)},[v]),J=l(function(){var a=babelHelpers["extends"]({},w,{videoId:x});B.current=c("youtube-player")(A.current,a);C.current.push(B.current.on("ready",E),(a=B.current)==null?void 0:a.on("error",F),(a=B.current)==null?void 0:a.on("stateChange",G),(a=B.current)==null?void 0:a.on("playbackRateChange",H),(a=B.current)==null?void 0:a.on("playbackQualityChange",I))},[F,I,H,E,G,w,x]);m(function(){J();return function(){var a;C.current.filter(Boolean).forEach(function(a){var b;(b=B.current)==null?void 0:b.off(a)});(a=B.current)==null?void 0:a.destroy()}},[]);var K=l(function(){var a;return(a=(a=B.current)==null?void 0:a.destroy().then(J))!=null?a:(h||(h=b("Promise"))).resolve()},[J]),L=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=B.current)==null?void 0:a.getIframe());y?a==null?void 0:a.setAttribute("id",y):a==null?void 0:a.removeAttribute("id");z?a==null?void 0:a.setAttribute("class",z):a==null?void 0:a.removeAttribute("class")}),[z,y]),M=l(function(){if(x==null){var a;(a=B.current)==null?void 0:a.stopVideo();return}a=!1;var b,c;"playerVars"in w&&(a=w.playerVars.autoplay===1,"start"in w.playerVars&&(b=w.playerVars.start),"end"in w.playerVars&&(c=w.playerVars.end));var d={videoId:x,startSeconds:b,endSeconds:c};if(a){(a=B.current)==null?void 0:a.loadVideoById(d);return}(a=B.current)==null?void 0:a.cueVideoById(d)},[w,x]);m(function(){var b=D.current;r(b,a)&&L();q(b,a)&&K();o(b,a)&&M();D.current=a},[a,K,L,M]);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"youtube-player"});return k.jsx("span",{className:e,children:k.jsx("div",{id:y,className:z,ref:A})})}a.displayName=a.name+" [from "+f.id+"]";g.YouTube=a}),98);
__d("WAWebPipYoutubeVideoTag.react",["WAWebABProps","WAWebPttAudioChannels","WAWebUserPrefsGeneral","WAWebYoutube.react","lodash","react","useLazyRef","useWAWebInterval","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaVolumeSetting(a)},500),o=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaMutedSetting(a)},500),p={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},q={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},r="https://whatsapp.com";e=j.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=m(null),g=m(null),h=m(0),i=m(0),s=c("useLazyRef")(function(){return Symbol("audio-channel")}),t=m(null),u=(a=c("useWAWebStableCallback"))(function(){var a;(a=f.current)==null?void 0:a.playVideo()}),v=a(function(){var a;(a=f.current)==null?void 0:a.pauseVideo()}),w=a(function(a){var b;(b=f.current)==null?void 0:b.seekTo(a,!0)}),x=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getCurrentTime())!=null?a:0}),y=a(function(){var a;return((a=(a=f.current)==null?void 0:a.getVolume())!=null?a:0)*.01}),z=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getDuration())!=null?a:0}),A=a(function(){var a;return(a=(a=f.current)==null?void 0:a.isMuted())!=null?a:!1}),B=function(){var a=f.current;if(a){var b=a.getCurrentTime();b!==h.current&&(h.current=b,e.onTimeUpdate(b));b=a.getVideoLoadedFraction();if(b!==i.current){i.current=b;b=g.current?g.current.duration*b:0;e.onProgress([[0,b]])}b=g.current;if(b){var c=a.getVolume()*.01;a=a.isMuted();(c!==b.volume||a!==b.muted)&&(g.current=babelHelpers["extends"]({},b,{volume:c,muted:a}),e.onVolumeChange({volume:c,muted:a}))}}};B=c("useWAWebInterval")(B,250);var C=B[0],D=function(){if(typeof e.startTime==="number"){var a;(a=f.current)==null?void 0:a.seekTo(e.startTime,!0)}},E=a(function(a){var b=f.current;b&&(a?b.mute():b.unMute(),o(a))}),F=a(function(a){f.current&&(f.current.setVolume(a*100),n(a))});B=function(a){f.current=a.target;a=f.current;var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;var i=a.getDuration(),j=c!=null?c:a.getVolume()*.01,k=b!=null?b:a.isMuted(),l=a.getIframe().getBoundingClientRect(),m=l.width;l=l.height;g.current={duration:i,volume:j,muted:k,videoWidth:m,videoHeight:l};e.onLoadedMetadata(g.current);h.current=a.getCurrentTime();C();e.startTime!=null&&D();c!=null&&F(c);b!=null&&E(b)};a=function(a){t.current=d("WAWebPttAudioChannels").MainAudioChannel.claim(s.current,v),e.onPlaying()};var G=function(a){t.current==null?void 0:t.current(),e.onPause()},H=function(a){e.onEnded()},I=function(a){a.target.getPlayerState()!==p.PLAYING&&e.onPause()};k(function(){D()},[e.startTime]);c("useWAWebOnUnmount")(function(){t.current==null?void 0:t.current()});l(b,function(){return{play:u,pause:v,setCurrentTime:w,getCurrentTime:x,setVolume:F,setMuted:E,getVolume:y,getDuration:z,getMuted:A}},[u,v,w,x,F,E,y,z,A]);b=e.counterAbuseData;b=c("lodash").merge({},q,{playerVars:{autoplay:e.autoPlay?1:0,widget_referrer:r,origin:window.location.origin}},b!=null&&d("WAWebABProps").getABPropConfigValue("web_youtube_rcat_consumption_enabled")?{playerVars:{rct:b.counterAbuseToken,rctn:b.nonce}}:{});return j.jsx(d("WAWebYoutube.react").YouTube,{videoId:e.youtubeVideoId,opts:b,onReady:B,onPlay:a,onPause:G,onEnd:H,onError:e.onEnded,onStateChange:I})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebPipYoutubeVideoPlayer.react",["WAWebDomFullscreen","WAWebPipCloseButton.react","WAWebPipFullscreenToggleButton.react","WAWebPipShade.react","WAWebPipSharedVideoPlayer.react","WAWebPipVideoRefControls.react","WAWebPipYoutubeVideoPlayer.scss","WAWebPipYoutubeVideoTag.react","WAWebUA","WAWebVelocityTransitionGroup","lodash","react","useWAWebDebouncedCallback","useWAWebListener","useWAWebPrevious","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useRef,m=e.useState,n=j.forwardRef(a);function a(a,b){var e=a.isFullscreenMode,f=a.isVideoPlaying,g=a.mouseDownCoorRef,h=a.mouseMoveRecently,i=a.onClose,k=a.onExposeIframeInPiP,l=a.onFullScreenToggle,m=a.videoMetadata,n=a.videoRef;a=function(a){if(n.current){var b=a;m&&a>=m.duration-1&&m.duration>1&&(b=m.duration-1);n.current.setCurrentTime(b)}};var o=null;if(m){var p,q="x1ey2m1c x78zum5 xvt47uu xtzzx4i xexx8yu x6x52a7 x18d9i69 xxpdul3 x10l6tqk xds687c x1hc1fzr x13dflua x19991ni xwji4o3";o=j.jsx("div",{ref:b,style:(p={},p[c("WAWebPipYoutubeVideoPlayer.scss").dimmed]=!h,p),children:j.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:n.current,videoMetadata:m,isFullscreenMode:e,isVideoPlaying:f,handleSetCurrentTimeByControls:a,controlsClassName:e?q:void 0,onFullscreenToggle:l,onClose:i,newPiPStyle:!0})});e||(o=j.jsx("div",{ref:b,className:"x5yr21d x10l6tqk xh8yej3",onMouseDown:function(a){g.current={x:a.clientX,y:a.clientY}},onMouseUp:function(a){var b=a.clientX;a=a.clientY;var c=g.current,d=c?c.x:void 0;c=c?c.y:void 0;d!=null&&c!=null&&Math.abs(b-d)+Math.abs(a-c)<4&&k(!0)},children:o}))}return o}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b,e=a.onSetFullscreenToggleCallback,f=a.onRefSet,g=a.onVideoEnded,h=a.onError,i=a.startTime,o=a.onVideoMetadataChange,p=a.onClose,q=l(null),r=l(null),s=l(null),t=l(null),u=m(void 0),v=u[0],w=u[1];u=m(!1);var x=u[0],y=u[1];u=m(!1);var z=u[0],A=u[1];u=m(!1);var B=u[0],C=u[1];u=m(!1);var D=u[0],E=u[1];u=m(!1);var F=u[0],G=u[1],H=c("useWAWebPrevious")(x),I=c("useWAWebPrevious")(v);d("useWAWebListener").useListener(c("WAWebDomFullscreen"),"fullscreen_change",function(){c("WAWebDomFullscreen").isFullscreenMode()&&c("WAWebDomFullscreen").getFullscreenElement()===q.current?E(!0):c("WAWebDomFullscreen").isFullscreenMode()||E(!1)});var J=function(a){a.stopPropagation(),D?c("WAWebDomFullscreen").exitFullscreen():c("WAWebDomFullscreen").requestFullscreen(q.current)},K=c("useWAWebDebouncedCallback")(function(){C(!1)},d("WAWebPipSharedVideoPlayer.react").FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);k(function(){e==null?void 0:e(J)},[]);u=c("useWAWebStableCallback")(function(a){r.current=a,a!=null&&(f==null?void 0:f(a))});var L=function(){g&&g(),y(!1)},M=function(){h&&h()},N=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!1);s.current=!0},O=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!0);s.current=!0},P=function(a){var b=i!=null?i:0;w({duration:a.duration,currentTime:b,volume:a.volume,muted:a.muted,bufferedTime:0})},Q=function(a){w(function(b){return b?babelHelpers["extends"]({},b,{volume:a.volume,muted:a.muted}):b})},R=function(a){if(s.current){s.current=!1;return}w(function(b){return b?babelHelpers["extends"]({},b,{currentTime:a}):b})},S=function(a){a=a[0];var b=a[1];w(function(a){return a?babelHelpers["extends"]({},a,{bufferedTime:b}):a})};k(function(){(H!==x||!c("lodash").isEqual(I,v))&&(o==null?void 0:o(v,x))},[x,H,o,v,I]);var T=a.exposeIframeInPiP||F||D?null:j.jsx("div",{className:"xamhcws xol2nv xlxy82 x19p7ews x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x166i9x0 xku1vgj x1n7ce0x x7hhpp6 x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"});b=j.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe",style:(b={},b[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,b),children:[T,j.jsx(c("WAWebPipYoutubeVideoTag.react"),{ref:u,youtubeVideoId:a.youtubeVideoId,startTime:a.startTime,onEnded:L,onError:M,onLoadedMetadata:P,onPause:N,onPlaying:O,onProgress:S,onTimeUpdate:R,onVolumeChange:Q,autoPlay:a.autoPlay,counterAbuseData:a.counterAbuseData})]});T=!a.disablePiPControls||D?j.jsx(n,{videoMetadata:v,videoRef:r,mouseDownCoorRef:t,mouseMoveRecently:B,isVideoPlaying:x,isFullscreenMode:D,onFullScreenToggle:J,onClose:p,onExposeIframeInPiP:G}):null;var U;d("WAWebUA").UA.isSafari||(U=j.jsx(c("WAWebPipFullscreenToggleButton.react"),{isFullscreenMode:D,onClick:J}));u=j.jsx(c("WAWebPipShade.react"),{theme:"full-rounded"});L=D?j.jsxs(j.Fragment,{children:[b,T]}):j.jsxs(j.Fragment,{children:[b,j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade-fast",children:z&&B&&!F&&!a.disablePiPControls?[u,T,U,j.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:D,onClick:function(b){b.stopPropagation(),a.onClose()}},"close")]:null})]});return j.jsx("div",{ref:q,className:"xums3t4 x5yr21d xh8yej3",style:(M={},M[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,M[c("WAWebPipYoutubeVideoPlayer.scss").redesign]=!0,M),onMouseEnter:function(a){if(F){if(d("WAWebUA").UA.isGecko&&z)return;G(!1)}A(!0)},onMouseLeave:function(a){A(!1)},onMouseDown:function(a){D&&a.stopPropagation()},onMouseMove:function(a){z||A(!0),B||C(!0),K()},children:L},"elementsWrapped")}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("WAWebYoutubeVideoPlayerRenderer.react",["WAWebPipConst","WAWebPipFloatingVideoPlayer.react","WAWebPipYoutubeVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var e=a.videoSrc;a=babelHelpers.objectWithoutPropertiesLoose(a,["videoSrc"]);return e==null?null:i.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:d("WAWebPipConst").YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:a.animationStartStyle,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,children:i.jsx(c("WAWebPipYoutubeVideoPlayer.react"),{youtubeVideoId:e,startTime:a.startTime,onClose:a.onClose,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,autoPlay:a.autoPlay,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback,exposeIframeInPiP:a.enableDragBar,counterAbuseData:a.counterAbuseData},e)},e)}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebPipManager.react",["fbt","WAWebCmd","WAWebFloatingMsgVideoPlayerRenderer.react","WAWebFloatingOgVideoPlayerRenderer.react","WAWebFrontendMsgGetters","WAWebInlineVideoPlaybackClosedWamEvent","WAWebMsgCollection","WAWebMsgType","WAWebPipCloseButton.react","WAWebPipConst","WAWebPipController","WAWebPipVideoRefControls.react","WAWebToast.react","WAWebToastManager","WAWebVelocityTransitionGroup","WAWebWamEnumInlineVideoType","WAWebWamEnumWebcRmrReasonCode","WAWebYoutubeVideoPlayerRenderer.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState,p={msg:null,startTime:null,zoomRect:null,videoMetadata:null,videoRef:null,isVideoPlaying:!1,videoType:d("WAWebPipConst").PiPVideoType.MSG,previewUrl:null,videoSrc:null,counterAbuseData:null},q={playerWrapper:{position:"xixxii4",zIndex:"x16p50fe",width:"xnalus7",height:"xqtp20y",overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0}},r=new Map();r.set(d("WAWebPipConst").PiPVideoType.MSG,c("WAWebFloatingMsgVideoPlayerRenderer.react"));r.set(d("WAWebPipConst").PiPVideoType.YOUTUBE,c("WAWebYoutubeVideoPlayerRenderer.react"));r.set(d("WAWebPipConst").PiPVideoType.OG,c("WAWebFloatingOgVideoPlayerRenderer.react"));function s(a){a=t(a);return a==null?null:new(d("WAWebInlineVideoPlaybackClosedWamEvent").InlineVideoPlaybackClosedWamEvent)({inlineVideoPlayed:!1,inlineVideoType:a})}function t(a){return a===d("WAWebPipConst").PiPVideoType.YOUTUBE?d("WAWebWamEnumInlineVideoType").INLINE_VIDEO_TYPE.YOUTUBE:null}e=k.forwardRef(a);function a(a,b){var e=n(null);a=o(p.msg);var f=a[0],g=a[1];a=o(p.startTime);var i=a[0],j=a[1];a=o(p.zoomRect);var t=a[0],u=a[1];a=o(p.videoMetadata);var v=a[0],w=a[1];a=o(p.videoRef);var x=a[0],y=a[1];a=o(p.isVideoPlaying);var z=a[0],A=a[1];a=o(p.videoType);var B=a[0],C=a[1];a=o(p.previewUrl);var D=a[0],E=a[1];a=o(p.videoSrc);var F=a[0],G=a[1];a=o(null);var H=a[0],I=a[1];a=o(p.counterAbuseData);var J=a[0],K=a[1];l(function(){var a=function a(){var b;(b=e.current)==null?void 0:b.commit();window.removeEventListener("unload",a)};window.addEventListener("unload",a);return a},[]);var L=function(a){I(function(){return a})},M=function(a,b){var c=e.current;c!=null&&((a==null?void 0:a.duration)!=null&&(c.inlineVideoDurationT=Math.floor(a==null?void 0:a.duration)),!c.inlineVideoPlayed&&b&&(c.markInlineVideoPlayStartT(),c.inlineVideoPlayed=b));w(a);A(b)},N=function(){var a;f&&c("WAWebPipController").didClose(f);(a=e.current)==null?void 0:a.commit();g(p.msg);j(p.startTime);u(p.zoomRect);w(p.videoMetadata);y(p.videoRef);A(p.isVideoPlaying);C(p.videoType);E(p.previewUrl);G(p.videoSrc);K(p.counterAbuseData)},O=function(a){a.id.equals(f==null?void 0:f.id)&&N()};l(function(){return function(){f&&c("WAWebPipController").didClose(f)}},[f]);a=function(a,b){var f;c("WAWebPipController").didOpen(b.msg);(f=e.current)==null?void 0:f.commit();e.current=s(a);(f=e.current)==null?void 0:f.startInlineVideoPlayStartT();a===d("WAWebPipConst").PiPVideoType.MSG&&b.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.PIP,isUserInitiated:!0});g(b.msg);j(b.startTime);u(b.zoomRect);w(p.videoMetadata);y(p.videoRef);A(p.isVideoPlaying);C(a);E(b.preview!=null?"data:image/jpeg;base64,"+b.preview:null);G(b.videoSrc);K(b.counterAbuseData)};var P=function(){x==null?void 0:x.pause()},Q=function(a){P()},R=function(a){return(a=f==null?void 0:f.id.equals(a.id))!=null?a:!1},S=function(){f&&c("WAWebPipController").didError(f)},T=function(){var a;return{enableDragBar:!0,bottomContent:v!=null&&x!=null?k.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:x,videoMetadata:v,isFullscreenMode:!1,isVideoPlaying:z,newPiPStyle:!0,onFullscreenToggle:(a=H)!=null?a:void 0}):null,topContent:k.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:!1,onClick:N})}},U=function(){return t?{height:t.bottom-t.top,width:t.right-t.left,left:t.left,bottom:window.innerHeight-t.bottom}:null},V=function(){return babelHelpers["extends"]({msg:f,startTime:i,zoomRect:t,videoMetadata:v,videoRef:x,isVideoPlaying:z,videoType:B,previewUrl:D,videoSrc:F,counterAbuseData:J},T(),{animationStartStyle:U(),onClose:N,onError:S,autoPlay:!0,onRefSet:y,onVideoMetadataChange:M,onSetFullscreenToggleCallback:L})};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["media_viewer_modal"],Q);d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,["remove"],function(a){O(a)});Q=f!=null?d("WAWebFrontendMsgGetters").getChat(f):null;d("useWAWebListener").useListener((Q=Q==null?void 0:Q.msgs)!=null?Q:d("WAWebMsgCollection").MsgCollection,"remove_msgs",function(a){a.forEach(O)});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,["change:type"],function(a){if(a.type!==d("WAWebMsgType").MSG_TYPE.REVOKED)return;!a.isSentByMe&&(f==null?void 0:f.id.equals(a.id))&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__8exGPb61fVf__JHASH__")}));O(a)});var W={isOpened:R,pausePiP:P,openPiP:a,closePiP:N};m(b,function(){return W});l(function(){c("WAWebPipController").register(W);return function(){c("WAWebPipController").unregister()}},[]);Q=r.get(B);return k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pip",xstyle:q.playerWrapper,component:"div",children:Q!=null?k.jsx(Q,babelHelpers["extends"]({},V())):null})}a.displayName=a.name+" [from "+f.id+"]";b=e;g.PiPManager=b}),226);
__d("WAWebTosModal.react",["fbt","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebConnModel").Conn.tos===0&&d("WAWebModalManager").ModalManager.close()}function l(){d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()}function a(){var a,b,c;d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",k);switch(d("WAWebConnModel").Conn.tos){default:case 1:a=h._("__JHASH__IzGnGAypMLF__JHASH__");b=h._("__JHASH__On50MyzV-mK__JHASH__");c=function(){return d("WAWebModalManager").ModalManager.close()};break;case 2:a=h._("__JHASH__zCMiXHvPR-N__JHASH__");b=h._("__JHASH__3n1bF_cZdZK__JHASH__");c=l;break}return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:c,okText:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUserNoticeModal.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={noticeSvgWrapper:"_alz7",noticeModalContentWrapper:"_alz8",noticeSmbContainer:"_alz9",noticeContainer:"_alza"};b=a;g["default"]=b}),98);
__d("WAWebUserNoticeModal.react",["WALogger","WAWebAlertNoticeIcon","WAWebButton.react","WAWebConnModel","WAWebDomSanitize","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebNoticeModel","WAWebSocketModel","WAWebThemeContext","WAWebUserNoticeModal.scss","WAWebUserNoticeWamEvent","WAWebWDSText.react","WAWebWamEnumUserNoticeEvent","react","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["user notice modal, user clicked logout"]);j=function(){return a};return a}b=i||d("react");var k=h||(h=c("react")),l=b.useContext,m=b.useEffect,n=b.useState,o=function(){};function p(a){var b=a.btn,d=a.onClick;a=a.primary;a=a===void 0?!1:a;if(b==null)return null;var e="UserNoticeModalPopup-"+b.action+"Btn",f="popup-controls-"+b.action;return k.jsx(c("WAWebButton.react"),{testid:void 0,type:a?"primary":"secondary",onClick:d,children:b.label},e)}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.notice;a=d("useWAWebModelValues").useModelValues(a,["noticeId","blocking","blockingModal"]);var b=l(d("WAWebThemeContext").ThemeContext);a=a.blockingModal;var e=n(!1),f=e[0],g=e[1];e=function(){c("WAWebNoticeModel").blocking||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:blocking",e);var h=function(){return c("WAWebNoticeModel").noticeId!=null&&c("WAWebNoticeModel").blockingModal!=null&&c("WAWebNoticeModel").blocking===!0},i=function(){if(h()&&!f){var a=new(d("WAWebUserNoticeWamEvent").UserNoticeWamEvent)({userNoticeId:c("WAWebNoticeModel").noticeId,userNoticeContentVersion:c("WAWebNoticeModel").policyVersion,userNoticeEvent:d("WAWebWamEnumUserNoticeEvent").USER_NOTICE_EVENT.BLOCKING_MODAL_APPEAR});a.commit();g(!0)}};e=function(){g(!1)};d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:noticeId",e);d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:blockingModal change:blocking",i);m(function(){i()},[]);var q=function(){d("WALogger").LOG(j()),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()},r=function(){location.reload()};e=function(a){if(a)if(a.action==="logout")return q;else if(a.action==="refresh")return r;return o};if(!a||!h())return null;var s=a.iconSvg,t=a.iconDescription;t=t===void 0?"":t;var u=a.title,v=a.body,w=a.primaryButton;a=a.secondaryButton;var x;s&&(x=b.theme==="light"?s.light:s.dark);b=k.jsx(d("WAWebAlertNoticeIcon").AlertNoticeIcon,{"aria-label":t});s=x&&d("WAWebDomSanitize").sanitizeNoticeSVG(x);t=s?k.jsx("span",{"aria-label":t,dangerouslySetInnerHTML:{__html:s}}):b;s=k.jsx(p,{btn:a,onClick:e(a)});b=k.jsx(p,{btn:w,primary:!0,onClick:e(w)});a=[s,b];s={enter:e(w)};b=u?d("WAWebDomSanitize").sanitizeNoticeText(u):null;e=v?d("WAWebDomSanitize").sanitizeNoticeText(v):null;return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:s,children:k.jsx("div",{className:d("WAWebConnModel").Conn.isSMB?c("WAWebUserNoticeModal.scss").noticeSmbContainer:c("WAWebUserNoticeModal.scss").noticeContainer,children:k.jsx(d("WAWebModal.react").Modal,{actions:a,type:d("WAWebModal.react").ModalTheme.Flex,children:k.jsxs("div",{className:c("WAWebUserNoticeModal.scss").noticeModalContentWrapper,children:[k.jsx(d("WAWebFlex.react").FlexRow,{className:c("WAWebUserNoticeModal.scss").noticeSvgWrapper,align:"center",justify:"center",children:t}),k.jsx(d("WAWebWDSText.react").WDSTextLarge,{margin:[32,32,0,32],textAlign:"center",children:k.jsx("div",{dangerouslySetInnerHTML:{__html:b}})}),k.jsx(d("WAWebWDSText.react").WDSTextMuted,{color:"white",margin:32,children:k.jsx("div",{dangerouslySetInnerHTML:{__html:e}})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUserActivityWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({UserActivity:[1384,{userActivityBitmapHigh:[4,a.TYPES.INTEGER],userActivityBitmapLen:[5,a.TYPES.INTEGER],userActivityBitmapLow:[3,a.TYPES.INTEGER],userActivitySessionCum:[7,a.TYPES.INTEGER],userActivitySessionId:[1,a.TYPES.STRING],userActivitySessionSeq:[6,a.TYPES.INTEGER],userActivityStartTime:[2,a.TYPES.INTEGER]},[1,1,1],"regular"]},{UserActivity:[]});g.UserActivityWamEvent=b}),98);
__d("WAWebWamTimeSpentLogger",["WAWebCmd","WAWebTimeSpentLoggingBitArray","WAWebTimeSpentLoggingNavigation","WAWebTimeSpentLoggingSession","WAWebUserActivityWamEvent","WAWebUserPrefsKeys","WAWebWamTimeSpentArray","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=-5,l=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],m=function(a){var b=new(d("WAWebUserActivityWamEvent").UserActivityWamEvent)({userActivitySessionId:a.sessionId,userActivityStartTime:a.startTime,userActivityBitmapLen:a.bitmapLen,userActivityBitmapLow:a.bitmap[0],userActivitySessionSeq:a.sessionSeq,userActivitySessionCum:a.sessionCum});a.bitmapLen>32&&(b.userActivityBitmapHigh=a.bitmap[1]);b.commit()};function a(){var a,b=c("useLazyRef")(function(){return Date.now()}),e=j(-1),f=j(-1),g=c("useLazyRef")(function(){return new(c("WAWebWamTimeSpentArray"))({loggingCallback:m})}),h=c("useLazyRef")(d("WAWebTimeSpentLoggingSession").createTimeSpentArray),n=function(a){var c=g.current,d=h.current;if(!c&&!d)return;if(a instanceof MouseEvent){if(a.pageX===e.current&&a.pageY===f.current&&a.type!=="click")return;e.current=a.pageX;f.current=a.pageY}a=Date.now();var i=a-b.current;i>0?(b.current=a,c==null?void 0:c.update(b.current),d==null?void 0:d.update(b.current)):i<k&&(b.current=a)},o=function(){g.current&&(g.current.ship(function(a){d("WAWebTimeSpentLoggingBitArray").stashBitarrayData(a,d("WAWebUserPrefsKeys").KEYS.USER_ACTIVITY_TIME_SPENT_EVENT)}),g.current=null),h.current&&(h.current.ship(function(a){d("WAWebTimeSpentLoggingBitArray").stashBitarrayData(d("WAWebTimeSpentLoggingSession").preprocessTsArrayData(a),d("WAWebUserPrefsKeys").KEYS.TIME_SPENT_BITARRAY_EVENT)}),g.current=null),d("WAWebTimeSpentLoggingNavigation").setPendingBackgroundNavigation()};i(function(){d("WAWebTimeSpentLoggingBitArray").flushBitarrays(d("WAWebUserPrefsKeys").KEYS.USER_ACTIVITY_TIME_SPENT_EVENT,m);return function(){g.current&&(g.current.ship(),g.current=null)}},[]);i(function(){d("WAWebTimeSpentLoggingBitArray").flushBitarrays(d("WAWebUserPrefsKeys").KEYS.TIME_SPENT_BITARRAY_EVENT,d("WAWebTimeSpentLoggingBitArray").postTsBitArrayEvent);return function(){h.current&&(h.current.ship(),h.current=null)}},[]);(a=d("useWAWebListener")).useListener(window,"beforeunload",o);a.useListener(window,"blur",d("WAWebTimeSpentLoggingNavigation").logTsBackgroundNavigation);a.useListener(d("WAWebCmd").Cmd,"logout",d("WAWebTimeSpentLoggingNavigation").logTsBackgroundNavigation);a.useListener(window,"focus",d("WAWebTimeSpentLoggingNavigation").logTsForegroundNavigation);a.useListeners(l.map(function(a){var b=a.source;a=a.name;return{source:b,eventOrEvents:a,callback:n,opts:{passive:!0,capture:!0}}}));return null}g["default"]=a}),98);
__d("WAWebMain.react",["fbt","Promise","WAAbortError","WAGetUserMedia","WALogger","WAPromiseDelays","WAPromiseLoop","WAShiftTimer","WAWeb-moment","WAWebABProps","WAWebActionListener","WAWebActiveAccountInfoModel","WAWebAlarm","WAWebAnimatedEmojiAssetLoader","WAWebAnimatedEmojiGatingUtils","WAWebAppContext.react","WAWebAssetLoaderSingleton","WAWebBizGatingUtils","WAWebBizSmbTosModal.react","WAWebChatCollection","WAWebChatPreferenceCollection","WAWebChatPreferenceModel","WAWebChatlistHeader.react","WAWebChatlistHeaderV2.react","WAWebChatlistPanel.react","WAWebChatlistPanelMode","WAWebClassnames","WAWebClientFeatureFlags","WAWebCmd","WAWebCollapsedChatlistPanel","WAWebComposeBoxHasText","WAWebConfirmPopup.react","WAWebConnModel","WAWebConversation.react","WAWebDebugHotPink","WAWebDeviceCapabilitiesBootstrap","WAWebDrawerManager","WAWebDrawerManager.react","WAWebEmojiAssetLoader","WAWebEmojiSetup","WAWebInternDogfoodingModal.react","WAWebKeyboardEventConstants","WAWebKeyboardManager","WAWebKeyboardShortcutsPopup.react","WAWebKeyboardTopLevelHotKeys.react","WAWebLinkedAccountsAction","WAWebMain.scss","WAWebModalManager","WAWebMsgCollection","WAWebMultiSelectEntryPointConstants","WAWebMuteCollection","WAWebNavBar.react","WAWebNavBarTypes","WAWebNoticeModel","WAWebNotificationManager.react","WAWebNux","WAWebOpenNotificationsSetting","WAWebPageLoadLogging","WAWebPaneToggle.react","WAWebPipManager.react","WAWebSafariLimited","WAWebSettingsGetters","WAWebSettingsModel","WAWebSocketModel","WAWebStreamModel","WAWebThemeContext","WAWebTopMenuRedesignGatingUtils","WAWebTosModal.react","WAWebUA","WAWebURLUtils","WAWebUim","WAWebUimUie.react","WAWebUpdateServerPropsJob","WAWebUserNoticeModal.react","WAWebUserPrefsGeneral","WAWebUserPrefsNuxPreferences","WAWebWDSGatingUtils","WAWebWallpaper","WAWebWamTimeSpentLogger","asyncToGeneratorRuntime","cr:10106","cr:3107","cr:6018","cr:6019","cr:629","gkx","isNonZeroNumber","react","useLazyRef","useWAWebABPropConfigValue","useWAWebChatLockSettings","useWAWebExternalBetaOptIn","useWAWebListener","useWAWebOnUnmount","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,aa){var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAWebMain: could not fetch linked accounts"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["TOS (terms of service) stage number 3, logging out"]);l=function(){return a};return a}var m=j||d("react"),n=i||(i=c("react")),ba=m.useContext,o=m.useEffect,p=m.useRef,q=m.useState,r=(m=b("cr:10106"))==null?void 0:m.Bugnub;function s(){window.history.pushState({},"",window.location.href)}function a(){var a=d("WAWebMsgCollection").MsgCollection.some(function(a){a=a.pendingDeleteForMe;return d("WAWebMsgCollection").MsgCollection.hasUnsentMessages()||a});return a||d("WAWebChatCollection").ChatCollection.some(function(a){return a.isComposing()})||d("WAWebComposeBoxHasText").hasText()}var t=6e4;function e(a){var e;a=a.animate;var f=ba(d("WAWebThemeContext").ThemeContext),g=d("useWAWebABPropConfigValue").useABPropConfigValue("top_menu_redesign_enabled"),i=p(null),j=p(null),m=p(null),u=p(null),v=p(null),w=p(null),x=p(null),y=p(!1),z=p(null),A=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){if(document.activeElement!==document.body)return;var a=d("WAWebUim").UIM.Manager.getTop();a==null?void 0:a.requestFocus()})}),B=q(!1),C=B[0],D=B[1];B=q(!1);var E=B[0],F=B[1];B=function(){A.current.debounce(10)};var G=function(a){var b,c,d;b=(b=j.current)==null?void 0:b.clientWidth;if(b==null)return!1;c=(c=i.current)==null?void 0:c.clientWidth;if(c==null)return!1;if(!v.current)return!1;d=(d=u.current)==null?void 0:d.clientWidth;return v.current.animatePanel(c,b,d,a)},H=q(function(){return d("WAWebUserPrefsGeneral").getChatlistPanelState()===d("WAWebUserPrefsGeneral").ChatlistPanelState.COLLAPSED}),I=H[0],ca=H[1];H=q(!0);var J=H[0],K=H[1];H=q(!1);var L=H[0],M=H[1];H=q();var N=H[0],da=H[1];H=q(d("WAWebNavBarTypes").NavBarItems.Chats);var O=H[0],P=H[1];H=function(){var a,b;I?(a=d("WAWebUserPrefsGeneral").ChatlistPanelState.FULL,b=!1):(a=d("WAWebUserPrefsGeneral").ChatlistPanelState.COLLAPSED,b=!0);d("WAWebUserPrefsGeneral").setChatlistPanelState(a);ca(b)};var Q=function(){return K(!0)},R=function(){return K(!1)},S=function(){return M(!0)},T=function(){return M(!1)};(e=d("useWAWebListener")).useListener(d("WAWebDrawerManager").DrawerManager,"open_drawer_left",R);e.useListener(d("WAWebDrawerManager").DrawerManager,"drawer_left_closed",Q);e.useListener(d("WAWebCmd").Cmd,"set_active_nav_bar",function(a){P(a)});R=q(0);Q=R[0];R=R[1];e.useListener(d("WAWebCmd").Cmd,"rerender_app",function(){});R=function(){y.current=!1,d("WAWebCmd").Cmd.onPanesWillChange(3),D(!0),F(!0),d("WAWebCmd").Cmd.onPanesDidChange(3),G(!0)};e=function(){y.current=!0;F(!0);var a=G(!1);a?(d("WAWebCmd").Cmd.onPanesWillChange(2),D(!1),d("WAWebCmd").Cmd.onPanesDidChange(2)):D(!1)};var ea=function(){F(!1),C&&y.current&&D(!1)},fa=function(a){var b=!1;d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(c){var d=m.current;b=b||c&&Boolean(d==null?void 0:d.containsDOMNode(a))});d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(c){var d=v.current;b=b||c&&Boolean(d==null?void 0:d.containsDOMNode(a))});return b},U=function(){switch(d("WAWebConnModel").Conn.tos){case 1:case 2:d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebTosModal.react"),{}),{blockClose:!0});break;case 3:d("WALogger").LOG(l());d("WAWebSocketModel").Socket.logout();break;default:break}},V=function(){d("WAWebConnModel").Conn.smbTos&&d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebBizSmbTosModal.react"),{}),{blockClose:!0})},W=function(){d("isNonZeroNumber").isNonZeroNumber(c("WAWebNoticeModel").noticeId)&&c("WAWebNoticeModel").blocking===!0&&d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebUserNoticeModal.react"),{notice:c("WAWebNoticeModel")}),{blockClose:!0})},ga=function(a){var b=a.target,e=function(a){return a&&a.getAttribute("contentEditable")||a instanceof HTMLInputElement};for(var f=0;f<5;f++){if(e(b))return;b=b.parentNode}c("WAWebKeyboardShortcutsPopup.react")&&d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebKeyboardShortcutsPopup.react"),{}));a.preventDefault()},ha=function(a){var c=a?t:0;w.current=new AbortController();var e=w.current.signal;d("WAPromiseLoop").promiseLoop(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAPromiseDelays").delayMs(c);if(e.aborted)throw new(d("WAAbortError").AbortError)();d("WAWebStreamModel").Stream.markUnavailable(30*1e3);yield new(h||(h=b("Promise")))(function(a){z.current=a});if(e.aborted)throw new(d("WAAbortError").AbortError)();document.hasFocus()&&d("WAWebStreamModel").Stream.markAvailable();c=t}catch(b){if(b.name===d("WAAbortError").ABORT_ERROR)a();else throw b}});return function(b){return a.apply(this,arguments)}}())["finally"](function(){w.current=null})},ia=function(){var a;(a=w.current)==null?void 0:a.abort()},ja=function a(){x.current=c("WAWebAlarm").setLocalTimeout(function(){d("WAWebUpdateServerPropsJob").queryServerProps(),a()},c("WAWeb-moment")().add(1,"days").valueOf())},ka=function(){c("WAWebAlarm").clearTimeout(x.current)},X=d("WAWebWDSGatingUtils").colorRefreshEnabled();o(function(){var a=["wds-2023-colors"];d("WAWebConnModel").Conn.isSMB&&a.push("biz");if(X){var b;(b=document.body)==null?void 0:(b=b.classList).add.apply(b,a)}else{(b=document.body)==null?void 0:(b=b.classList).remove.apply(b,a)}},[X]);if(!c("gkx")("26258")){var Y=d("WAWebWDSGatingUtils").colorRefreshEnabled()&&d("WAWebABProps").getABPropConfigValue("web_design_refresh_hotpink");o(function(){var a="hotpink";if(Y){var b;d("WAWebDebugHotPink").enableHotPink();(b=document.body)==null?void 0:b.classList.add(a)}},[Y])}o(function(){d("WAWebStreamModel").Stream.uiActive=!0;document.visibilityState!=="hidden"&&d("WAWebStreamModel").Stream.markAvailable();var a=d("WAWebConnModel").Conn.platform;c("WAWebEmojiSetup")(d("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(a));d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(a);c("WAWebKeyboardManager").menuBatchRenderWith(function(){c("WAWebKeyboardManager").trigger(c("WAWebKeyboardEventConstants").Event+":"+c("WAWebKeyboardEventConstants").Events.LOGGED_IN)});ha(!0);ja();d("WAWebAnimatedEmojiGatingUtils").isAnimatedEmojiEnabled()&&void d("WAWebAnimatedEmojiAssetLoader").initAnimatedEmojiAssets(a);d("WAWebConnModel").Conn.isSMB&&V();U();W();d("WAWebUA").UA.isSafari&&!d("WAGetUserMedia").getUserMedia&&(d("WAWebUserPrefsNuxPreferences").shouldShowNUX(d("WAWebNux").NUX.SAFARI_LIMITED_SUPPORT)&&(self.setTimeout(function(){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:aa._("__JHASH__On50MyzV-mK__JHASH__"),children:n.jsx(d("WAWebSafariLimited").SafariLimitedText,{})}))},250),d("WAWebUserPrefsNuxPreferences").setNUX(d("WAWebNux").NUX.SAFARI_LIMITED_SUPPORT,{views:1})));a=c("WAWebChatPreferenceCollection").get(d("WAWebChatPreferenceModel").DEFAULT_PREFERENCE);if(a&&d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER!==a.wallpaper){var b=f.theme;if(!d("WAWebWallpaper").colorExistsInTheme(a.wallpaper,b)){b=b==="light"?"dark":"light";if(d("WAWebWallpaper").colorExistsInTheme(a.wallpaper,b)){b=d("WAWebWallpaper").toggleWallpaperColor(a.wallpaper,b);a.set("wallpaper",b)}}}void d("WAWebOpenNotificationsSetting").handleOpenNotificationsSettingDeeplink()},[]);o(function(){d("WAWebPageLoadLogging").endPageLoadQpl(!1)},[]);c("useWAWebOnUnmount")(function(){A.current.cancel(),c("WAWebKeyboardManager").menuBatchRenderWith(function(){c("WAWebKeyboardManager").trigger(c("WAWebKeyboardEventConstants").Event+":"+c("WAWebKeyboardEventConstants").Events.LOGGED_OUT)}),c("WAWebURLUtils").canMuckHistory()&&window.history.back(),d("WAWebStreamModel").Stream.uiActive=!1,ia(),ka()});var la=c("WAWebURLUtils").canMuckHistory();d("useWAWebListener").useListener(la?window:null,"popstate",s);o(function(){la&&s()},[]);o(function(){if(!d("WAWebBizGatingUtils").shouldFetchLinkedAccounts())return;var a=new AbortController();d("WAWebLinkedAccountsAction").getActiveLinkedAccountInfo().then(function(b){if(a.signal.aborted)return;d("WAWebActiveAccountInfoModel").setActiveAccountInfo(b);da(b)})["catch"](function(){d("WALogger").WARN(k())});return function(){return a.abort()}},[]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",U);d("useWAWebListener").useListener(d("WAWebConnModel").Conn.isSMB?d("WAWebConnModel").Conn:null,"change:smbTos",V);d("useWAWebListener").useListener(c("WAWebNoticeModel"),["change:blocking","change:noticeId"],W);var Z=d("useWAWebChatLockSettings").useChatLockSettings(),$=function(){z.current==null?void 0:z.current(),z.current=null};d("useWAWebListener").useListener(document,["mousemove","scroll","keydown"],$);d("useWAWebListener").useListener(window,["focus","resize"],$);o(function(){void d("WAWebDeviceCapabilitiesBootstrap").bootstrapDeviceCapabilities()},[]);$=d("WAWebWDSGatingUtils").materialRefreshEnabled();$=d("WAWebClassnames").classnamesConvertMeToStylexPlease((E={three:C,two:!C,"app-animating":E},E[c("WAWebMain.scss").noAnimation]=!a,E[c("WAWebMain.scss").app]=!0,E[c("WAWebMain.scss").materialRefresh]=$,E));var ma,na,oa,pa;r!=null&&(pa=n.jsx(r,{}));d("useWAWebExternalBetaOptIn").useExternalBetaValidator();E=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);E=E[0];E=n.jsx(d("WAWebChatlistPanel.react").ChatlistPanel,{ref:m,showArchiveV2:E,mode:c("WAWebChatlistPanelMode").Chatlist,selectable:L,endMultiSelect:T,multiSelectEntryPoint:L?d("WAWebMultiSelectEntryPointConstants").MultiSelectEntryPoint.ChatListHeaderDropdown:null,hideLockedChats:Z.hideLockedChats},L?"inMultiSelectMode":"inNonSelectableMode");Z=n.jsxs("div",{className:c("WAWebMain.scss").drawerManager,children:[n.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((T={},T[c("WAWebMain.scss").chatlistPanelClosed]=I&&J,T[c("WAWebMain.scss").paneOneDrawerWithNavBar]=g,T[c("WAWebMain.scss").pane]=!0,T[c("WAWebMain.scss").paneOne]=!0,T[c("WAWebMain.scss").paneOneDrawer]=!0,T)),"data-testid":void 0,children:n.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.LEFT,animationDisabled:I})}),n.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebMain.scss").pane,c("WAWebMain.scss").paneTwo),"data-testid":void 0,children:n.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.MID})})]});T=g?n.jsx(d("WAWebNavBar.react").NavBar,{headerRef:j,mute:d("WAWebMuteCollection").MuteCollection.globalMute(),activeAccountInfo:N,leftDrawerClosed:J,activeNavBarItem:O,setActiveNavBarItem:P}):null;O=g?n.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((O={},O[c("WAWebMain.scss").pane]=!0,O[c("WAWebMain.scss").paneOne]=!0,O)),children:[c("WAWebSettingsModel")&&n.jsx(c("WAWebChatlistHeaderV2.react"),{headerRef:j,mute:d("WAWebMuteCollection").MuteCollection.globalMute(),onSelectChatClick:S,isMultiSelectMode:L,activeAccountInfo:N,setActiveNavBarItem:P}),E]}):n.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((O={},O[c("WAWebMain.scss").chatlistPanelClosed]=I&&J,O[c("WAWebMain.scss").pane]=!0,O[c("WAWebMain.scss").paneOne]=!0,O)),children:[c("WAWebSettingsModel")&&(!I||J)&&n.jsx(c("WAWebChatlistHeader.react"),{headerRef:j,mute:d("WAWebMuteCollection").MuteCollection.globalMute(),onSelectChatClick:S,chatListCollapsed:I,isMultiSelectMode:L,activeAccountInfo:N}),I?n.jsx(d("WAWebCollapsedChatlistPanel").CollapsedChatlistPanel,{}):E]});S=n.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebMain.scss").pane,c("WAWebMain.scss").paneTwo),children:[d("WAWebTopMenuRedesignGatingUtils").webChatlistToggleEnabled()&&J&&n.jsx(d("WAWebPaneToggle.react").PaneToggle,{onClick:H,pointerDirection:I?"right":"left"}),n.jsx(c("WAWebConversation.react"),{animate:a,ref:v})]});N=n.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((L={},L[c("WAWebMain.scss").pane]=!0,L[c("WAWebMain.scss").paneThree]=!0,L[c("WAWebMain.scss").paneThreeWithNavBar]=g,L)),ref:u,"data-testid":void 0,children:n.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.RIGHT,onDrawerIn:R,onDrawerOut:e,onDrawerAnimationComplete:ea})});return n.jsx(d("WAWebAppContext.react").AppContextProvider,{rightDrawerOpen:C,chatListCollapsed:I,children:n.jsx(d("WAWebUimUie.react").UIE,{uimState:d("WAWebUim").UIMState.INACTIVE,displayName:"Main",children:n.jsxs(c("WAWebKeyboardTopLevelHotKeys.react"),{className:$,onBlur:B,ref:i,onShowKeyboardShortcuts:ga,skipNode:fa,children:[n.jsx(c("WAWebNotificationManager.react"),{}),n.jsx(c("WAWebActionListener"),{}),n.jsx(d("WAWebPipManager.react").PiPManager,{}),n.jsx(c("WAWebWamTimeSpentLogger"),{}),pa,na,oa,ma,n.jsx(c("WAWebInternDogfoodingModal.react"),{}),Z,g&&T,O,S,N,!c("gkx")("26258")&&d("WAWebClientFeatureFlags").isFeatureEnabled("a11y_block")&&b("cr:6018")&&n.jsx(b("cr:6018"),{})]})})},Q)}e.displayName=e.name+" [from "+f.id+"]";g.hasPending=a;g.MainComponent=e}),226);
__d("WAWebPrefetchLoadables",["Promise","WALogger","WAWebAddContactToGroupFlowLoadable","WAWebArchivedFlowLoadable","WAWebAttachMediaFlowLoadable","WAWebAttachProductModalLoadable","WAWebAttachVcardsFlowLoadable","WAWebCaptureMediaDrawerLoadable","WAWebCartFlowLoadable","WAWebCommunityAdminPromotionNotificationFlowLoadable","WAWebCommunityFlowLoadable","WAWebCommunityGatingUtils","WAWebContactMsgInfoFlowLoadable","WAWebEditCaptureFlowLoadable","WAWebForwardMessageModalLoadable","WAWebGroupInviteLinkDrawerLoadable","WAWebGroupMsgInfoFlowLoadable","WAWebGroupsV4InviteFlowLoadable","WAWebInfoFlowLoadable","WAWebLabelFlowLoadable","WAWebLottieAnimationLoadable","WAWebManageCommunityGroupsFlowLoadable","WAWebManageLabelFlowLoadable","WAWebMediaViewerFlowLoadable","WAWebNewChatFlowLoadable","WAWebNewGroupFlowLoadable","WAWebPhotoPickerLoadable.react","WAWebProductDetailsFlowLoadable","WAWebProfileDrawerLoadable","WAWebSendGroupInviteFlowLoadable","WAWebSendLogsPopupLoadable","WAWebSendMsgMultiModalLoadable","WAWebSendProductModalLoadable","WAWebSettingsFlowLoadable","WAWebStarredDrawerLoadable","WAWebStatusFlowLoadable","WAWebStatusQuotedFlowLoadable","asyncToGeneratorRuntime","cr:6003","cr:6004","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error prefetching loadables: ",""]);i=function(){return a};return a}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=[d("WAWebMediaViewerFlowLoadable").requireBundle(),d("WAWebInfoFlowLoadable").requireBundle()];yield (h||(h=b("Promise"))).all(a);a=[d("WAWebProfileDrawerLoadable").requireBundle(),d("WAWebPhotoPickerLoadable.react").requireBundle(),d("WAWebStarredDrawerLoadable").requireBundle(),d("WAWebAttachMediaFlowLoadable").requireBundle(),d("WAWebCaptureMediaDrawerLoadable").requireBundle(),d("WAWebEditCaptureFlowLoadable").requireBundle(),d("WAWebGroupMsgInfoFlowLoadable").requireBundle(),d("WAWebNewChatFlowLoadable").requireBundle(),d("WAWebNewGroupFlowLoadable").requireBundle(),d("WAWebSendProductModalLoadable").requireBundle(),d("WAWebAttachProductModalLoadable").requireBundle(),d("WAWebSendGroupInviteFlowLoadable").requireBundle(),d("WAWebSendMsgMultiModalLoadable").requireBundle(),d("WAWebForwardMessageModalLoadable").requireBundle(),d("WAWebAttachVcardsFlowLoadable").requireBundle(),d("WAWebProductDetailsFlowLoadable").requireBundle(),d("WAWebCartFlowLoadable").requireBundle(),d("WAWebLabelFlowLoadable").requireBundle(),d("WAWebManageLabelFlowLoadable").requireBundle(),d("WAWebAddContactToGroupFlowLoadable").requireBundle(),d("WAWebSettingsFlowLoadable").requireBundle(),d("WAWebGroupInviteLinkDrawerLoadable").requireBundle(),d("WAWebStatusFlowLoadable").requireBundle(),d("WAWebStatusQuotedFlowLoadable").requireBundle(),d("WAWebContactMsgInfoFlowLoadable").requireBundle(),d("WAWebSendLogsPopupLoadable").requireBundle(),d("WAWebGroupsV4InviteFlowLoadable").requireBundle(),d("WAWebArchivedFlowLoadable").requireBundle(),d("WAWebLottieAnimationLoadable").requireBundle()];c("gkx")("26258")||a.push(b("cr:6004")==null?void 0:b("cr:6004").requireBundle(),b("cr:6003")==null?void 0:b("cr:6003").requireBundle());a.push(d("WAWebManageCommunityGroupsFlowLoadable").requireBundle(),d("WAWebCommunityFlowLoadable").requireBundle());d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&a.push(d("WAWebCommunityAdminPromotionNotificationFlowLoadable").requireBundle());yield h.all(a)}catch(a){d("WALogger").WARN(i(),a.stack)}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebWamCpuStat",[],(function(a,b,c,d,e,f){function a(){return}f.startCpuWamStat=a}),66);
__d("WAWebWebcLoginWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcLogin:[1664,{webcBrowserNetworkType:[14,a.TYPES.STRING],webcBrowserStorageQuotaBytes:[15,a.TYPES.INTEGER],webcBrowserStorageQuotaUsedBytes:[16,a.TYPES.INTEGER],webcLoginT:[3,a.TYPES.TIMER],webcPersistentLoginEnabled:[17,a.TYPES.BOOLEAN],webcQrCodes:[1,a.TYPES.INTEGER],webcQrLoadT:[2,a.TYPES.TIMER],webcSyncChatCount:[8,a.TYPES.INTEGER],webcSyncChatSize:[10,a.TYPES.INTEGER],webcSyncChatT:[9,a.TYPES.TIMER],webcSyncContactCount:[11,a.TYPES.INTEGER],webcSyncContactSize:[13,a.TYPES.INTEGER],webcSyncContactT:[12,a.TYPES.TIMER],webcSyncMessageCount:[5,a.TYPES.INTEGER],webcSyncMessageSize:[7,a.TYPES.INTEGER],webcSyncMessageT:[6,a.TYPES.TIMER],webcSyncT:[4,a.TYPES.TIMER]},[1,1,1],"regular"]},{WebcLogin:[]});g.WebcLoginWamEvent=b}),98);
__d("WAWebWamLoginReporter",["WALogger","WAStorageEstimator","WAWebChatCollection","WAWebCmd","WAWebCollectionConstants","WAWebContactCollection","WAWebEventEmitter","WAWebMsgCollection","WAWebNetworkType","WAWebStreamModel","WAWebWamQrCodeCount","WAWebWebcLoginWamEvent"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["One or more of the login timings was not logged: "]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:Error committing login event"]);i=function(){return a};return a}function j(){return Math.floor(window.performance.now())}var k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;c=b.call(this)||this;c.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0};c.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0};if(!((a=window.performance)==null?void 0:a.now))return babelHelpers.assertThisInitialized(c);c.init();return c}var e=a.prototype;e.init=function(){this.timings.startSync=d("WAWebStreamModel").Stream.lastSyncStart,this.listenTo(d("WAWebStreamModel").Stream,"change:mode",this.changeStreamMode),this.listenTo(d("WAWebChatCollection").ChatCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleChatSync),this.listenTo(d("WAWebContactCollection").ContactCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleContactSync),this.listenTo(d("WAWebMsgCollection").MsgCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleMsgSync),this.listenTo(d("WAWebMsgCollection").MsgCollection,"handle:msg_history",this._handleMsgHistory)};e.changeStreamMode=function(){d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.SYNCING&&(this.timings.startSync=j(),this.data.webcPersistentLoginEnabled=!0),d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.MAIN&&(this.timings.endSync=j(),this.maybeLogToWam())};e._handleChatSync=function(a){a.timing!=null?this.data.webcSyncChatT=a.timing:this.timings.chatSync=j(),this.data.webcSyncChatCount=a.count,this.data.webcSyncChatSize=10,this.maybeLogToWam()};e._handleMsgSync=function(a){a&&(this.timings.msgSync=j(),this.data.webcSyncMessageCount+=a.count),this.maybeLogToWam()};e._handleContactSync=function(a){a.timing!=null?this.data.webcSyncContactT=a.timing:this.timings.contactSync=j(),this.data.webcSyncContactCount=a.count,this.maybeLogToWam()};e._handleMsgHistory=function(a){this.data.webcSyncMessageSize+=a.binarySize,this.data.webcSyncMessageCount+=a.count,this.timings.msgSync!=null&&(this.timings.msgSync=j())};e.maybeLogToWam=function(){var a=this,b=this.timings,c=b.contactSync,e=b.msgSync;b=b.chatSync;b=b!=null&&Number.isFinite(b||this.data.webcSyncChatT);c=c!=null&&Number.isFinite(c||this.data.webcSyncContactT);e=Number.isFinite(e);if(!b||!c||!e)return;else if(this._commitPromise)return;this._commitPromise=d("WAStorageEstimator").estimateStorage().then(function(b){b.success?a._commitEvent(b.value):d("WALogger").WARN(i()).devConsole(b.error,a.data)}).then(function(){return a.reset()})};e._commitEvent=function(a){var b=this.timings,e=b.startSync,f=b.endSync,g=b.contactSync,i=b.msgSync;b=b.chatSync;var j=c("WAWebWamQrCodeCount").initialDisplayDate;if(j!=null&&j!==0&&e!=null&&f!=null&&i!=null&&b!=null&&g!=null&&Number.isFinite(j)&&Number.isFinite(e)&&Number.isFinite(f)){this.data.webcQrLoadT=j;this.data.webcQrCodes=c("WAWebWamQrCodeCount").get();this.data.webcLoginT=e-j;this.data.webcSyncT=f-e;this.data.webcSyncMessageT=i-e;this.data.webcSyncChatT||(this.data.webcSyncChatT=b-e);this.data.webcSyncContactT||(this.data.webcSyncContactT=g-e);this.data.webcBrowserNetworkType=d("WAWebNetworkType").getEffectiveNetworkType();a&&(this.data.webcBrowserStorageQuotaBytes=a.quota,this.data.webcBrowserStorageQuotaUsedBytes=a.usage);j=new(d("WAWebWebcLoginWamEvent").WebcLoginWamEvent)(this.data);j.commit()}else d("WALogger").WARN(h()).devConsole(this.timings)};e.reset=function(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this._commitPromise=void 0,this.listenToOnce(d("WAWebCmd").Cmd,"logout",this.init)};return a}(c("WAWebEventEmitter"));a=function(){return new k()};g.initialize=a}),98);
__d("WAWebWebcMemoryStatWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcMemoryStat:[1188,{hasVerifiedNumber:[12,a.TYPES.BOOLEAN],jsHeapSizeLimit:[9,a.TYPES.INTEGER],numMessages:[8,a.TYPES.NUMBER],totalJsHeapSize:[10,a.TYPES.INTEGER],uptime:[6,a.TYPES.NUMBER],usedJsHeapSize:[11,a.TYPES.INTEGER]},[1,1,20],"regular"]},{WebcMemoryStat:[]});g.WebcMemoryStatWamEvent=b}),98);
__d("WAWebWamMemoryStat",["Promise","WANullthrows","WAWebMsgCollection","WAWebStreamModel","WAWebWebcMemoryStatWamEvent","gkx"],(function(a,b,c,d,e,f,g){var h,i=Date.now(),j=c("gkx")("26258")?15*60*1e3:5*60*1e3;function k(){var a;a=(a=self.performance)==null?void 0:a.memory;if(!a)return;return{uptime:(Date.now()-i)/1e3,jsHeapSizeLimit:a.jsHeapSizeLimit,totalJsHeapSize:a.totalJSHeapSize,usedJsHeapSize:a.usedJSHeapSize}}function a(){if(!k())return;self.setInterval(function(){var a=new(d("WAWebWebcMemoryStatWamEvent").WebcMemoryStatWamEvent)(babelHelpers["extends"]({},c("WANullthrows")(k()),{hasVerifiedNumber:d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.MAIN,numMessages:d("WAWebMsgCollection").MsgCollection.length}));a.commit()},j)}function e(){var a=k();return!a?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).resolve([{label:"Main Window",memory:a.usedJsHeapSize/1024,uptime:a.uptime}])}g.startMemoryWamStat=a;g.getMemoryTableRows=e}),98);
__d("WAWebMainWrapper",["WAWebEmojiAssetLoader","WAWebEmojiSetup","WAWebExecApiCmd","WAWebFeatureDetectionSwSupport","WAWebMain.react","WAWebNotificationBackend","WAWebPrefetchLoadables","WAWebProfilePicThumbCollection","WAWebSWBus","WAWebSWBusActions","WAWebUserPrefsGeneral","WAWebWamCpuStat","WAWebWamLoginReporter","WAWebWamMemoryStat","cr:2015","cr:8752","cr:8753","gkx"],(function(a,b,c,d,e,f,g){function a(a){c("gkx")("26258")||(window.Store=b("cr:8753"),window.Debug=Object.assign(b("cr:8752"),window.Debug),b("cr:8752")==null?void 0:b("cr:8752").initialize(),b("cr:2015")==null?void 0:b("cr:2015").init());d("WAWebWamLoginReporter").initialize();d("WAWebWamMemoryStat").startMemoryWamStat();d("WAWebWamCpuStat").startCpuWamStat();c("gkx")("26262")&&(c("WAWebFeatureDetectionSwSupport").supported&&d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.on("change:tag",function(a){var b=navigator.serviceWorker;(b==null?void 0:b.controller)&&!a.tag&&c("WAWebSWBus").request(b.controller,c("WAWebSWBusActions").REMOVE_PP,a.id)["catch"](function(){})}));d("WAWebUserPrefsGeneral").initDailyStatsStartTime();c("WAWebEmojiSetup")(d("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(a));c("WAWebPrefetchLoadables")();a=b("WAWebMain.react");return{MainComponent:a.MainComponent,hasPending:a.hasPending,notificationBackend:b("WAWebNotificationBackend"),execApiCmd:c("WAWebExecApiCmd")}}g["default"]=a}),98);
__d("WAWebUpdateEditedMessagesAction",["WALogger","WATimeUtils","WAWebBotGating","WAWebBotTypes","WAWebChatMessageSearch","WAWebDBProcessEditProtocolMsgs","WAWebFrontendMsgGetters","WAWebGroupUnreadMessageType","WAWebMessageEditGatingUtils","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgType","WAWebMuteGetters","WAWebNotificationController","WAWebNotificationsMsgNotification","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[message-edit] updated Msg model"]);h=function(){return a};return a}function a(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.parentMsg,f=c.editedMsgData,g=c.protocolMsg;c=c.mentionOfMe;e=d("WAWebMsgCollection").MsgCollection.get(e.id);if(!e)return;var k=f.mediaKey!==e.mediaKey;k&&(e.thumbnailHQ="");if(d("WAWebBotGating").shouldAnimateAsBotStream(e)||e.botEditType!=null){f.lastBotEditBodyLength=(k=e.body)==null?void 0:k.length}k=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:e}).buildKey();e.set(f);d("WAWebChatMessageSearch").clearFtsCache(d("WAWebFrontendMsgGetters").getChat(e));i(e,k,c);d("WAWebMsgGetters").getIsSentByMe(g)||(d("WAWebFrontendMsgGetters").getChat(e).unreadEditTimestampMs=d("WATimeUtils").unixTimeMs());c&&j(e,c);e.clearRawLinks();e.clearRawPhoneNumbers();f=d("WAWebMsgCollection").MsgCollection.get(g.id);f&&f.type===d("WAWebMsgType").MSG_TYPE.CIPHERTEXT&&f["delete"]();d("WAWebMsgInfoCollection").MsgInfoCollection.remove(e.id);d("WALogger").DEV(h()).devConsole({msg:e})}d("WAWebMsgCollection").MsgCollection.processEditedMessages(a.map(function(a){a=a.parentMsg;return d("WAWebMsgCollection").MsgCollection.get(a.id)}))}function i(a,b,c){b=d("WAWebNotificationController").WANotificationController.getNotification(b);var e=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:a});if(d("WAWebBotGating").isBotReceiveEnabled()&&b&&d("WAWebMsgGetters").getIsMetaBotResponse(a)){a.botEditType===d("WAWebBotTypes").BotMsgEditType.LAST&&void d("WAWebNotificationController").WANotificationController.triggerNotification(e);return}b&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);var f=d("WAWebFrontendMsgGetters").getChat(a);if(d("WAWebMuteGetters").getIsMuted(f.mute)&&c)switch(c){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:f.isUnreadMsg(a)&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:b==null?void 0:b.closeBanner();break}}function j(a,b){if(!d("WAWebMessageEditGatingUtils").receiveCaptionEditEnabled())return;var e=d("WAWebFrontendMsgGetters").getChat(a);switch(b){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:if(e.isUnreadMsg(a)){var f;b=new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.latestEditSenderTimestampMs});(f=e.groupMetadata)==null?void 0:f.unreadMentionMetadata.addUnreadMentions([b],d("WAWebGroupUnreadMessageType").UnreadMessageType.NEW_MESSAGE)}break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:(f=e.groupMetadata)==null?void 0:f.unreadMentionMetadata.removeUnreadMentions(a.id.toString());break}}g.updateEditedMessagesAction=a}),98);
__d("WAWebUpdateMessageUIAction",["WALogger","WAWebABProps","WAWebBackendErrors","WAWebCommonMsgUtils","WAWebDBProcessMessage","WAWebHandleForMessageRange","WAWebHandleForMessageRangeEnums","WAWebHandleMsgTypes.flow","WAWebMessageAssociationGatingUtils","WAWebMsgCollection","WAWebStatusCollection","WAWebViewModeUtils","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: ",", message: ",", stack: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: ",", message: ",", stack: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: PreviousMsgNotUpdatableError"]);j=function(){return a};return a}function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){e===void 0&&(e=d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE);f===void 0&&(f=!0);g===void 0&&(g=!1);e={add:"after",update:e!==d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE,isHistory:!1};var k=!0;g&&(k=!d("WAWebABProps").getABPropConfigValue("web_optimize_active_msg_range_offline_resume_enabled"));g=(yield d("WAWebHandleForMessageRange").handleForActiveMessageRange(a,b,k));if(g.has(d("WAWebHandleForMessageRangeEnums").ActiveRangeHandlerAction.DropMessage))return;k=g.has(d("WAWebHandleForMessageRangeEnums").ActiveRangeHandlerAction.SkipUI);g=d("WAWebMsgCollection").MsgCollection.get(b.id);g&&((d("WAWebCommonMsgUtils").isPlaceholderMsg(g.type)||d("WAWebCommonMsgUtils").isFutureproofMsg(g.type))&&!(d("WAWebCommonMsgUtils").isPlaceholderMsg(b.type)||d("WAWebCommonMsgUtils").isFutureproofMsg(b.type))?e.update=!0:g.fromQuotedMsg?d("WAWebMsgCollection").MsgCollection.remove(g):k=!0);d("WAWebMessageAssociationGatingUtils").isMessageAssociationInfraEnabled()&&!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewModeUtils").ViewModeSurface.CHAT,b.viewMode)&&(k=!0);try{c("WAWebWid").isStatus(a)&&d("WAWebStatusCollection").StatusCollection.handleUpdate(b,null,!1),k||(yield d("WAWebMsgCollection").MsgCollection.processMultipleMessages(a,[babelHelpers["extends"]({},b,{recvFresh:!0,isNewMsg:!0})],e,"updateMessageUIAction",null,f))}catch(e){if(e instanceof d("WAWebBackendErrors").LogoutDrop)return;if(e instanceof d("WAWebDBProcessMessage").PreviousMsgNotUpdatableError){d("WALogger").WARN(j(),String(b.id),String(a));return}!c("gkx")("26258")?d("WALogger").WARN(i(),String(b.id),String(a),e.name,e.message,e.stack).tags("messaging").devConsole(e).sendLogs("msg_handler for MD: error storing/processing single message"):d("WALogger").WARN(h(),String(b.id),String(a),e.name,e.message,e.stack).tags("messaging").devConsole(e)}});return k.apply(this,arguments)}function e(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebMsgCollection").MsgCollection.get(a.id);a!=null&&a["delete"]()});return l.apply(this,arguments)}g.updateUI=a;g.removePlaceholder=e}),98);
__d("WAWebUpdateMsgAcksAction",["Promise","WALogger","WAWebAckMsgAction","WAWebApiChat","WAWebHandleMsgReceiptCommon","WAWebMsgCollection","WAWebMsgKey","WAWebPnhGatingUtils","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateMsgPeerAcks: no message found for incoming ack, with msgKey: ",""]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b&&f.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e}))});return function(b){return a.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all(f)});return j.apply(this,arguments)}function e(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[],g=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b?g.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e})):(d("WALogger").LOG(i(),a),a.fromMe||f.push(a))});return function(b){return a.apply(this,arguments)}}());f.length>0&&d("WAWebHandleMsgReceiptCommon").updateOrphanPeerReceipt(f,c,e);yield (h||(h=b("Promise"))).all(g)});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a);if(!b&&d("WAWebPnhGatingUtils").isMatFullyEnabled()&&a.remote.isUser()){var e=(yield d("WAWebApiChat").getMatChat_DEPRECATED(a.remote));if(!c("WAWebWid").equals(e,a.remote)){e=new(c("WAWebMsgKey"))({fromMe:a.fromMe,remote:e,id:a.id});b=d("WAWebMsgCollection").MsgCollection.get(e)}}return b});return m.apply(this,arguments)}g.updateMsgOtherAcks=a;g.updateMsgPeerAcks=e}),98);
__d("WAWebUpdateReactionMessageUIAction",["Promise","WALogger","WAWebDBGetReactions","WAWebReactionDataUtils","WAWebReactionsCollection","WAWebReactionsMsgAction","WAWebReactionsUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["processReactionMsg: ",""]);i=function(){return a};return a}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebReactionsUtils").createReactionsRow(a));if(c==null)return;b=!b;a="reaction "+String(a.id)+" received to: "+String(a.reactionParentKey);d("WALogger").DEV(i(),a).tags("messaging");a=(yield d("WAWebDBGetReactions").existsReactionAddressingModeInsensitive({parentMsgKey:c.parentMsgKey,senderUserJid:c.senderUserJid}));if(a&&a.msgKey===c.msgKey){c=a;yield d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(c,b)}});return j.apply(this,arguments)}function k(a){a=new Set(a);for(var b of d("WAWebReactionsCollection").ReactionsCollection.toArray())for(var c of b.reactions.toArray())for(var e of a){var f=c.senders.get(e);if(f!=null){c.senders.remove(e);a["delete"](e);if(a.size===0)return}}}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (h||(h=b("Promise"))).all(a.map(function(a){return d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(d("WAWebReactionDataUtils").reactionMsgDataToReactionRow(a),e)})),c.length>0&&k(c)});return l.apply(this,arguments)}g.updateReactionUI=a;g.updateReactionCollection=c}),98);
__d("WAWebUpdateReplyApi",["WAWebMsgCollection","WAWebMsgKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(a of a.entries()){var b=a[0],e=a[1];b=d("WAWebMsgCollection").MsgCollection.get(c("WAWebMsgKey").fromString(b));b!=null&&(b.replyCount=b.replyCount!=null?b.replyCount+e:e)}});return h.apply(this,arguments)}g.updateReplyCount=a}),98);
__d("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(a,b,c,d,e,f,g){a={processMultipleMessages:function(a){var b=a.chatId,c=a.msgObjs,e=a.meta,f=a.processMessagesOrigin,g=a.chatMsgsCollection;a=a.preserveOrder;return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(b,c,e,f,g,a)},addInitialBotTypingIndicatorToChat:function(a){var b=a.chatId;a=a.msgKey;return d("WAWebMsgCollection").MsgCollection.addInitialBotTypingIndicatorToChat(b,a)},msgCollectionTrigger:function(a){a=a.name;d("WAWebMsgCollection").MsgCollection.trigger(a)},processKeepInChatMessages:function(a){var b=a.keepInChatMessages;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessages(b,a)},updateUnattributedMessages:function(a){var b=a.messageInfo;a=a.messages;return d("WAWebBizAgentAction").updateUnattributedMessages(b,a)},processKeepInChatMessage:function(a){var b=a.keepInChatMessage;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessage(b,{allowNotification:a})},updateEditedMessagesAction:function(a){a=a.messageEdits;d("WAWebUpdateEditedMessagesAction").updateEditedMessagesAction(a)},updateMessageUI:function(a){var b=a.chatId,c=a.msg,e=a.messageOverwriteOption,f=a.preserveOrder;a=a.isOffline;return d("WAWebUpdateMessageUIAction").updateUI(b,c,e,f,a)},updateMsgModelAcks:function(a){a=a.updates;a.forEach(function(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.id);if(b==null)return;b.ack=a.ack})},updateReactionUI:function(a){var b=a.msg;a=a.reparsing;return d("WAWebUpdateReactionMessageUIAction").updateReactionUI(b,a)},updateReactionCollection:function(a){var b=a.msgs,c=a.removeReactions;a=a.allowNotifications;return d("WAWebUpdateReactionMessageUIAction").updateReactionCollection(b,c,a)},processOrphanReadReceipts:function(a){a=a.msgIds;return d("WAWebAckMsgAction").processOrphanReadReceipts(a)},updateMsgPeerAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgPeerAcks(b,c,a)},updateMsgOtherAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgOtherAcks(b,c,a)},handleDeferredMessages:function(){return c("WAWebHandleDeferredMessages")()},processEphemeralSyncResponse:function(a){a=a.msg;return d("WAWebEphemeralSyncResponse").processEphemeralSyncResponse(a)},refreshAltLinkingCode:function(a){a=a.ref;return d("WAWebLinkDeviceAction").refreshAltLinkingCode(a)},forceManualRefresh:function(a){a=a.ref;return d("WAWebLinkDeviceAction").forceManualRefresh(a)},errorAltLinking:function(){return d("WAWebLinkDeviceAction").errorAltLinking()},primaryHelloReceivedAltLinking:function(){return d("WAWebLinkDeviceAction").primaryHelloReceivedAltLinking()},changeOptInStatusForExternalWebBeta:function(){d("WAWebExternalBetaEvents").WAWebExternalBetaEvents.triggerBetaOptInStatusChanges()},successHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").successHistorySyncOd(a)},errorHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").errorHistorySyncOd(a)},hasMsgsInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebMsgCollection").MsgCollection.get(a))})},deleteAssociatedBotCarouselMsgs:function(a){a=a.msgKeys;a.forEach(function(a){a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a)return;a["delete"]();d("WAWebMsgCollection").MsgCollection.remove(a)})},removePlaceholder:function(a){a=a.msg;return d("WAWebUpdateMessageUIAction").removePlaceholder(a)},updateReplyCount:function(a){a=a.replyCountMap;return d("WAWebUpdateReplyApi").updateReplyCount(a)},updateMsgModelHostedBizEncStateMismatchFlagToTrue:function(a){a=a.msgId;a=d("WAWebMsgCollection").MsgCollection.get(a);if(a==null)return;a.hostedBizEncStateMismatch=!0}};g.MsgBridgeApi=a}),98);
__d("WAWebMsgInfoBridgeApi",["WAWebMsgCollection","WAWebMsgInfoAction","WAWebMsgInfoCollection"],(function(a,b,c,d,e,f,g){a={updateMsgInfo:function(a){a=a.updates;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(b){if(c>=a.length)break;f=a[c++]}else{c=a.next();if(c.done)break;f=c.value}f=f;var g=f.msgKey,h=f.ack,i=f.participant;f=f.ts;e=(e=d("WAWebMsgCollection").MsgCollection.get(g))!=null?e:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(g);if(e==null)continue;g=d("WAWebMsgInfoCollection").MsgInfoCollection.get(e.id);if(g==null)continue;d("WAWebMsgInfoAction").updateMsgInfo(g,h,i,f)}}};g.MsgInfoBridgeApi=a}),98);
__d("WAWebNoteBridgeApi",["WAWebNoteAction"],(function(a,b,c,d,e,f,g){a={updateNoteJidAction:function(a){var b=a.oldJid;a=a.newJid;void d("WAWebNoteAction").updateNoteJidAction(b,a)}};g.NoteBridgeApi=a}),98);
__d("WAWebPaymentInfoSyncBridgeApi",["WAWebPaymentInfo"],(function(a,b,c,d,e,f,g){a={setCPIInfo:function(a){a=a.cpiInfo;d("WAWebPaymentInfo").PaymentInfo.setCPIInfo(a)}};g.PaymentInfoSyncBridgeApi=a}),98);
__d("WAWebPnhCtwaDailyStatsUtils",["WALogger","WAWebChatThreadLogging","WAWebDailyAggregatedStatsCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Wam:IncrementPnhCtwaDailyCount"]);h=function(){return a};return a}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDailyAggregatedStatsCollection").DailyAggregatedStatsCollection.gaddForToday();d("WALogger").DEV(h()).devConsole(a);a=(yield d("WAWebChatThreadLogging").getChatThreadID(a.toJid()));if(a!=null){var c=b.pnhCtwaActions[a];b.pnhCtwaActions[a]=c!=null?c+1:1}});return i.apply(this,arguments)}g.incrementPnhCtwaDailyCount=a}),98);
__d("WAWebPrimaryFeaturesBridgeApi",["WAWebPrimaryFeaturesModel"],(function(a,b,c,d,e,f,g){a={setPrimaryFeatures:function(a){a=a.primaryFeatures;d("WAWebPrimaryFeaturesModel").PrimaryFeatures.setPrimaryFeatures(a)}};g.PrimaryFeaturesBridgeApi=a}),98);
__d("WAWebPrivacyBridgeApi",["WAWebUserDisclosureCollection","WAWebUserDisclosureModel"],(function(a,b,c,d,e,f,g){a={updateUserDisclosures:function(a){a=a.userDisclosures;var b=[];a.map(function(a){a=new(c("WAWebUserDisclosureModel"))({id:a.id,accepted:a.accepted,lastUpdated:new Date()});b.push(a)});void d("WAWebUserDisclosureCollection").UserDisclosureCollection.add(b,{merge:!0})}};g.PrivacyBridgeApi=a}),98);
__d("WAWebProfilePicThumbBridgeApi",["WAWebProfilePicThumbCollection"],(function(a,b,c,d,e,f,g){a={removeProfilePicThumb:function(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);a.set({tag:void 0,eurl:void 0,previewEurl:void 0,previewDirectPath:void 0,fullDirectPath:void 0,filehash:void 0})},markProfilePicStale:function(a){a=a.profilePicThumbWid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a);if(!a)return;a.markStale()}};g.ProfilePicThumbBridgeApi=a}),98);
__d("WAWebReactionsFrontendUtils",["WAWebFlattenedReactionCollection","WAWebReactionGatingUtils","WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebReactionGatingUtils").isFlattenedReactionsEnabled()?a.map(function(a){return Boolean(d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.get(a))}):a.map(function(a){return Boolean(d("WAWebReactionsCollection").ReactionsCollection.getSenderByMsgKey(a))})}g.hasReactionsInCollection=a}),98);
__d("WAWebUpdateOrphanReactionsMsgAction",["WALogger","WAWebAck","WAWebFlattenedReactionCollection","WAWebReactionGatingUtils","WAWebReactionTypeConversion","WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["actions:checkUpdateForOrphanReactions Reaction Model does not exist for this parentMsg"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["actions:checkUpdateForOrphanReactions Reaction Model does not exist for this parentMsg"]);i=function(){return a};return a}function a(a){a.forEach(function(a){if(d("WAWebReactionGatingUtils").isFlattenedReactionsEnabled()){var b=d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.byParent(a.parentMsgKey).toArray();b.length>0?d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.addOrUpdateReaction([d("WAWebReactionTypeConversion").convertReactionRowToFlattenedReaction(a,a.ack!=null&&a.ack<d("WAWebAck").ACK.CLOCK)]):d("WALogger").DEV(i())}else{b=d("WAWebReactionsCollection").ReactionsCollection.get(a.parentMsgKey);b?d("WAWebReactionsCollection").ReactionsCollection.addOrUpdateReaction(a):d("WALogger").DEV(h())}})}g.checkUpdateForOrphanReactions=a}),98);
__d("WAWebReactionsBridgeApi",["WAWebReactionsFrontendUtils","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOrphanReactionsMsgAction"],(function(a,b,c,d,e,f,g){a={checkUpdateForOrphanReactions:function(a){a=a.updatedRecords;d("WAWebUpdateOrphanReactionsMsgAction").checkUpdateForOrphanReactions(a)},deleteModelsForLastAddOnPreview:function(a){a=a.messagesIds;return d("WAWebUpdateLastAddOnPreviewChatAction").deleteModelsForLastAddOnPreview(a)},hasReactionsInCollection:function(a){a=a.msgKeys;return d("WAWebReactionsFrontendUtils").hasReactionsInCollection(a)}};g.ReactionsBridgeApi=a}),98);
__d("WAWebResendGroupMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebGroupMsgSendUtils","WAWebOutgoingMessage","WAWebResendGroupMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e,f,g,i,j){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){h=h.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserGroupMsgJob failed to deserialize msg from db");b=(yield d("WAWebGroupMsgSendUtils").getParticipantRecord(f));e=(yield d("WAWebGroupMsgSendUtils").getGroupData(f.toString(),b,a));f=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);f.sendReporter=f.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});b=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendGroupMsg").resendGroupMsg({isDirect:g,msgRecord:a,msgProtobuf:b,groupData:e,ackTime:j,oldList:h,phash:i,metricReporter:f,serverAddressingMode:k})});return h.apply(this,arguments)}g.resendGroupMsgMainThreadOnly=a}),98);
__d("WAWebResendUserMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebOutgoingMessage","WAWebResendUserMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f=f.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserMsgJob failed to deserialize msg from db");b=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);b.sendReporter=b.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});e=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendUserMsg").resendUserMsg(a,e,f,g,b)});return h.apply(this,arguments)}g.resendUserMsgMainThreadOnly=a}),98);
__d("WAWebRestoreBusinessInfo",["WALogger","WAWebApiBusinessProfile","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebChatCollection","WAWebSchemaBusinessProfile","WAWebSchemaVerifiedBusinessName","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["restore-business-info: invalid wid"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaVerifiedBusinessName").getVerifiedBusinessNameTable().all());a.forEach(function(a){var b;try{b=d("WAWebWidFactory").createUserWid(a.id)}catch(a){d("WALogger").ERROR(h()).sendLogs("restore-business-info: invalid wid");return}var c=d("WAWebChatCollection").ChatCollection.get(b);if(c){a={isBusiness:!0,isEnterprise:a.isApi,verifiedName:a.name,verifiedLevel:j(a.level),privacyMode:a.privacyMode};c.contact.set(a)}});a=(yield d("WAWebSchemaBusinessProfile").getBusinessProfileTable().all());a.forEach(function(a){a=d("WAWebApiBusinessProfile").businessProfileFromDbRow(a);d("WAWebBusinessProfileCollection").BusinessProfileCollection.gadd(babelHelpers["extends"]({},a,{dataSource:"db"}))})});return i.apply(this,arguments)}function j(a){switch(a){case"unknown":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN;case"low":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.LOW;case"high":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH}return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN}g.restoreBusinessInfo=a}),98);
__d("WAWebRestoreChatsAndMessages",["Promise","WAJobOrchestratorTypes","WALogger","WATimeUtils","WAWebABProps","WAWebApiChat","WAWebApiHydrateWidsUtil","WAWebBackendApi","WAWebChatCollection","WAWebChatComparator","WAWebChatMsgsCollection","WAWebDBAddOnProviders","WAWebDBMessageSerialization","WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebDbEncryptionKey","WAWebDraftMessageChatGatingUtils","WAWebEventsWaitForOfflineDeliveryEnd","WAWebModelStorageInitialize","WAWebMsgCollection","WAWebMsgKey","WAWebNewsletterCollection","WAWebNewsletterGatingUtils","WAWebOrchestratorNonPersistedJob","WAWebPnhGatingUtils","WAWebPromiseQueue","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRestoreBusinessInfo","WAWebSchemaChat","WAWebSchemaMessage","WAWebThreadMetadata","WAWebUpdateDuplicatedLidThread","WAWebWamOfflineResumeReporter","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["anchor id: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message does not exist in message table"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["unreadMsgAnchorId is not defined"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["additional data: chat ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["processPreviewMessageInChat: restoring "," message."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreMessagesForChat: restoring last "," messages."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreChatsAndMessages: failed with error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete add all chats to collection"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete load all chats from storage"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] start load all chats"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] load DbEncKeyStore key"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["loadLastMessagesFromDB: failed with error: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] loadLastMessagesFromDB, ","ms, load "," messages"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message is not in message collection."]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChat, id: ",", ","ms"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked ","ms, finish load "," - ",""]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChats: ","ms, finish chat "," - ",""]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] updateKeyMetadataForChats: ","ms, finish chat "," - ",""]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked start load "," - ",""]);B=function(){return a};return a}var C=20,D=5,E=100;function F(a,b){return a.reduce(function(a,c){c=d("WAWebApiHydrateWidsUtil").hydrateWids(babelHelpers["extends"]({},c,{pendingInitialLoading:!0,isReadOnly:(c=c.isReadOnly)!=null?c:!1}));var e=b==null?void 0:b[c.id.toString({legacy:!0})];e!=null&&(c.previewT=e);c.id.isNewsletter()?a.newsletters.push(c):a.chats.push(c);return a},{chats:[],newsletters:[]})}function a(){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_start");yield d("WAWebDbEncryptionKey").DbEncKeyStore.waitForFinalDbMsgEncKey();d("WALogger").DEV(t());return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_start");d("WALogger").DEV(s());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_start");var a;d("WAWebDraftMessageChatGatingUtils").draftMessageEnabled()?a=(yield d("WAWebApiChat").getAllChatsDeserialized()):a=(yield d("WAWebSchemaChat").getChatTable().all());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_start");d("WAWebApiChat").populateMatCacheBulk(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_start");var b=d("WAWebThreadMetadata").getOfflineThreadMetaPreview();b=F(a,b==null?void 0:b.chatTimestamp);var e=b.chats;b=b.newsletters;d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineChatThreadCount(a.length);d("WALogger").DEV(r());e.sort(c("WAWebChatComparator"));d("WAWebChatCollection").ChatCollection.add(e,{merge:!0});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_start");var f=d("WAWebABProps").getABPropConfigValue("web_init_chat_batch_size")||E;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,{"int":{web_init_chat_batch_size:f}});d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&(b.sort(c("WAWebChatComparator")),c("WAWebNewsletterCollection")==null?void 0:c("WAWebNewsletterCollection").add(b,{merge:!0}),H(b,f));d("WALogger").DEV(q());b=(yield H(e,f));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_start");d("WAWebPnhGatingUtils").isMatFullyEnabled()&&(yield d("WAWebUpdateDuplicatedLidThread").updateDuplicatedLidThreadBulk(a));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_end");return b})).then(d("WAWebRestoreBusinessInfo").restoreBusinessInfo).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_end")})["catch"](function(a){d("WALogger").ERROR(p(),a);throw a})});return G.apply(this,arguments)}function H(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new(d("WAWebPromiseQueue").PromiseQueue)(),i=function(h){var i=a.slice(h,h+e),j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(B(),h,h+e);var a=self.performance.now();h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_start");var b=(yield I(i));h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_end");d("WALogger").DEV(A(),self.performance.now()-a,h,h+e);h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_start");yield J(b);h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_end");d("WALogger").DEV(z(),self.performance.now()-a,h,h+e);var f=[];b.forEach(function(a){var b;a=a.chat;b=(d("WAWebNewsletterGatingUtils").isNewsletterEnabled==null?void 0:d("WAWebNewsletterGatingUtils").isNewsletterEnabled())?(b=d("WAWebChatCollection").ChatCollection.get(a.id))!=null?b:c("WAWebNewsletterCollection")==null?void 0:c("WAWebNewsletterCollection").get(a.id):d("WAWebChatCollection").ChatCollection.get(a.id);b&&(b.set({pendingInitialLoading:!1}),b.isGroup&&f.push(String(a.id)))});yield d("WAWebBackendApi").frontendSendAndReceive("restoreGroupParticipantsForChats",{chatIds:f});d("WALogger").DEV(y(),self.performance.now()-a,h,h+e)});return function(){return a.apply(this,arguments)}}();h===0?f=g.enqueue(function(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",j,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted()}):g.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",j).waitUntilCompleted()}))};for(var j=0;j<a.length;j+=e)i(j);return f}function I(a){return(h||(h=b("Promise"))).all(a.map(function(a){var b=K(a);return d("WAWebDBMessageStoreUtils").getKeyMsgsFromChatHistory(a,b).then(function(c){var d=c.anchor,e=c.previewMsg;c=c.lastReceivedKey;d=babelHelpers["extends"]({},a,{unreadMsgAnchorId:b?d:void 0});return{chat:d,previewMsg:e,lastReceivedKey:c}})}))}function J(a){a=L(a);var c=a.tasks;a=a.lastMessageKeys;c.push(S(a));return(h||(h=b("Promise"))).all(c)}function K(a){return a.t!=null&&d("WATimeUtils").happenedWithin(d("WATimeUtils").castToUnixTime(a.t),d("WATimeUtils").DAY_SECONDS)||a.pin!=null&&a.pin>0}function L(a){var b=[],e=[];a.forEach(function(a){var f=a.chat,g=a.previewMsg;a=a.lastReceivedKey;if(K(f)||g&&g.id!==a){var h=self.performance.now();b.push(M(f,g).then(function(){d("WALogger").DEV(x(),f.id,self.performance.now()-h);if(f.unreadMsgAnchorId){var a=c("WAWebMsgKey").fromString(f.unreadMsgAnchorId);a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a){d("WALogger").WARN(w()).devConsole("anchor id: "+f.unreadMsgAnchorId);return}var b=d("WAWebChatCollection").ChatCollection.get(d("WAWebWidFactory").createWidFromWidLike(f.id));b&&(b.unreadMsgAnchor=a)}}))}else e.push(String(a))});return{tasks:b,lastMessageKeys:e}}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!K(a)||a.unreadCount===0)return O(a,b);if(a.unreadCount>=C){yield O(a,b);return Q(a)}d("WALogger").LOG(o(),a.unreadCount+D);var c=[];if(b){var e=d("WAWebDBMessageSerialization").messageFromDbRow(b),f=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(e);(f==null?void 0:f.canRenderInUi(e))&&c.push(b.id.toString())}f=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},a.unreadCount+D,c));yield d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),f.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a)}).reverse(),{pendingMsgsDone:!0,resume:!1,add:"last",isHistory:!0},"restoreMessagesForChat")});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];if(b!=null&&b.internalId!=null){var e=b.internalId,f=d("WAWebDBMessageSerialization").messageFromDbRow(b),g=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(f);b&&(g==null?void 0:g.canRenderInUi(f))&&c.push(b.id.toString());g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a.id+"_g",{lowerInclusive:!0},void 0,c))}else{f=1;g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},f))}d("WALogger").LOG(n(),g.length);d("WALogger").DEV(m(),a.id);d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),g.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})}),{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"processPreviewMessageInChat")});return P.apply(this,arguments)}function Q(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.unreadMsgAnchorId){d("WALogger").WARN(l());d("WALogger").DEV(k(),a.id);return(h||(h=b("Promise"))).resolve()}yield d("WAWebSchemaMessage").getMessageTable().equals(["id"],a.unreadMsgAnchorId).then(function(e){if(e.length===0){d("WALogger").WARN(j());d("WALogger").DEV(i(),a.unreadMsgAnchorId||"");return}e=d("WAWebDBMessageUtils").getInChatMsgId(e[0].internalId||"");var f=T(a,e,D);e=U(a,e,D);f=(h||(h=b("Promise"))).all([f,e]).then(function(a){var b=a[0];a=a[1];return[].concat(b,a)});return f.then(function(b){var e=b.length-D;if(e<0)return;e=b[b.length-D].id;b=b.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),b,{pendingMsgsDone:!0,resume:!1,add:"unread",isHistory:!0,firstUnreadKey:c("WAWebMsgKey").fromString(e)},"processUnreadMessage",new(d("WAWebChatMsgsCollection").ChatMsgsCollection)())})})});return R.apply(this,arguments)}function S(a){var c=self.performance.now();return d("WAWebSchemaMessage").getMessageTable().bulkGet(a).then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield (h||(h=b("Promise"))).all(e.map(function(a){if(!a)return(h||(h=b("Promise"))).resolve();a=d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(a.id.remote,[a],{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"loadLastMessagesFromDb")})),d("WALogger").DEV(v(),self.performance.now()-c,a.length)});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){d("WALogger").ERROR(u(),a);throw a})}function T(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};var e=d("WAWebDBMessageUtils").beginningOfChat(d("WAWebWidFactory").createWid(a.id));a=d("WAWebDBMessageUtils").craftInternalId(a.id,b);return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a,babelHelpers["extends"]({},c,{reverse:!0}),D).then(function(a){return a.reverse()})}function U(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(d("WAWebDBMessageUtils").craftInternalId(a.id,b),d("WAWebDBMessageUtils").endOfChat(d("WAWebWidFactory").createWid(a.id)),c,D)}g.restoreChatsAndMessages=a}),98);
__d("WAWebRestoreGroupsAndContacts",["Promise","WALogger","WAWebApiContact","WAWebApiHydrateWidsUtil","WAWebChatCollection","WAWebContactCollection","WAWebContactsDbLidMigrationUtils","WAWebCopyPnDataToLidRows","WAWebGroupMetadataCollection","WAWebGroupQueryBridge","WAWebLidAwareContactsDB","WAWebModelStorageInitialize","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaGroupMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupMetadataPromise: ","ms, restore "," groups"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreContactsPromise: ","ms, restore "," contacts"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["warming up lid/pn cache"]);k=function(){return a};return a}function a(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_start");return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContacts_start");var e=c("WAWebLidAwareContactsDB").all().then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("WALogger").LOG(k());yield d("WAWebApiContact").warmUpAllLidPnMappings(b);d("WAWebContactCollection").ContactCollection.add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{silent:!0,merge:!0});d("WALogger").DEV(j(),self.performance.now()-a,b.length);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContacts_end");return b});return function(a){return c.apply(this,arguments)}}()).then(function(a){if(d("WAWebContactsDbLidMigrationUtils").shouldRunContactsDbLidMigration())return d("WAWebCopyPnDataToLidRows").copyPnDataToLidRows(a)});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_start");var f=d("WAWebSchemaGroupMetadata").getGroupMetadataTable().all().then(function(b){c("WAWebGroupMetadataCollection").add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{merge:!0}),b.forEach(function(a){var b=d("WAWebWidFactory").createWidFromWidLike(a.id);a.isParentGroup===!0&&d("WAWebChatCollection").ChatCollection.gadd({id:b,isReadOnly:!1});d("WAWebGroupQueryBridge").updateSubject(b,a.subject)}),d("WALogger").DEV(i(),self.performance.now()-a,b.length),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_end")});return(h||(h=b("Promise"))).all([e,f])})).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_end")})}g.restoreGroupsAndContacts=a}),98);
__d("WAWebRestoreProfilePictures",["WALogger","WAWebApiHydrateWidsUtil","WAWebProfilePicThumbCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaProfilePicThumb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreProfilePics: ","ms, restore "," picture urls"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_start");var b=(yield d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().all()),c=[],e=[];b.forEach(function(a){var b=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);b!=null||d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.isProfilePicRefreshNeeded(a.timestamp)?e.push(a.id):c.push(a)});e.length>0&&d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().bulkRemove(e);b=c.map(function(a){return babelHelpers["extends"]({},d("WAWebApiHydrateWidsUtil").hydrateWids(a),{stale:!1,eurlStale:!1})});d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.add(b,{silent:!0,merge:!1});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_end");d("WALogger").DEV(h(),self.performance.now()-a,b.length)});return i.apply(this,arguments)}g.restoreProfilePictures=a}),98);
__d("WAWebSocketBridgeApi",["WAWebSocketModel"],(function(a,b,c,d,e,f,g){a={socketLogout:function(a){a=a.reason;d("WAWebSocketModel").Socket.logout(a)}};g.SocketBridgeApi=a}),98);
__d("WAWebStatusBridgeApi",["WAWebStatusCollection"],(function(a,b,c,d,e,f,g){a={handleStatusUpdate:function(a){var b=a.rawMsg,c=a.checksum;a=a.isMsgUpdate;return d("WAWebStatusCollection").StatusCollection.handleUpdate(b,c,a)},handleReadStatus:function(a){a=a.msgKeys;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;var f=e.participant;f=f&&d("WAWebStatusCollection").StatusCollection.get(f);f&&f.handleReadStatus(e)}}};g.StatusBridgeApi=a}),98);
__d("WAWebTextStatusBridgeApi",["WAWebTextStatusCollection","WAWebUserPrefsMeUser","WAWebWidFactory"],(function(a,b,c,d,e,f,g){a={setMyStatus:function(a){a=a.status;var b=d("WAWebUserPrefsMeUser").assertGetMe();d("WAWebTextStatusCollection").TextStatusCollection.assertGet(d("WAWebWidFactory").toUserWid(b)).status=(b=a)!=null?b:d("WAWebTextStatusCollection").getDefaultTextStatus()}};g.TextStatusBridgeApi=a}),98);
__d("WAWebUnreadMentionMetadataBridgeApi",["WAWebChatCollection","WAWebGroupUnreadMessageType","WAWebMsgGetters","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){a={processAndGetUnreadMentionsInfo:function(a){a=a.filteredMsgs;var b=new Map(),c=new Map();a.forEach(function(a){if(d("WAWebMsgGetters").getIsImportantMessage(a)){var e=a.id.remote.toString(),f=0;if(!c.has(e)){var g=d("WAWebChatCollection").ChatCollection.get(e);f=(g=g==null?void 0:(g=g.groupMetadata)==null?void 0:g.unreadMentionMetadata.pendingUnreadMentionCount)!=null?g:0;c.set(e,f)}else{f=(g=c.get(e))!=null?g:0}if(f>0){c.set(e,f-1);g={id:a.id.toString(),timestamp:a.t};if(b.has(e)){(f=b.get(e))==null?void 0:f.push(g)}else b.set(e,[g])}}});return{unreadMentionsToAdd:b,pendingUnreadMentionsMap:c}},getChatIdsNeedToBeDeletedFromUnreadMentionInfo:function(a){var b=a.unreadMentionsToAdd,e=a.pendingUnreadMentionsMap,f=[];b.forEach(function(a,b){var g,h,i=d("WAWebChatCollection").ChatCollection.get(b);g=(g=e.get(b))!=null?g:0;h=i==null?void 0:(h=i.groupMetadata)==null?void 0:h.unreadMentionMetadata;if((h==null?void 0:h.pendingUnreadMentionCount)===0||(i==null?void 0:i.hasChatBeenOpened)){f.push(b);return}if(h&&h.pendingUnreadMentionCount>0){h.pendingUnreadMentionCount=g;i=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});h.addUnreadMentions(i,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK)}});return f},updateUnreadMentionMetadataByAdding:function(a){var b=a.chatId,e=a.newUnreadMentions;a=a.pendingUnreadMentionCount;b=d("WAWebChatCollection").ChatCollection.get(b);b=b==null?void 0:(b=b.groupMetadata)==null?void 0:b.unreadMentionMetadata;e=e.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});b&&b.pendingUnreadMentionCount>0&&(b.pendingUnreadMentionCount=a,b.addUnreadMentions(e,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK))}};g.UnreadMentionMetadataBridgeApi=a}),98);
__d("WAWebWamBridgeApi",["WAWebEphemeralKeepInChatWamUtils","WAWebOTPLoggingHelper"],(function(a,b,c,d,e,f,g){a={logTieBreakIgnoredKicWam:function(a){a=a.keepInChatMessage;return d("WAWebEphemeralKeepInChatWamUtils").logTieBreakIgnoredKic(a)},logOTPMessageReceivedActions:function(a){a=a.msgData;void d("WAWebOTPLoggingHelper").logOTPMessageReceived(a)},logOTPMessageReadActions:function(a){a=a.msgRow;void d("WAWebOTPLoggingHelper").logOTPMessageRead(a)}};g.WamBridgeApi=a}),98);
__d("WAWebSetFrontendHandlerApi",["WAWebAddOnsBridgeApi","WAWebCTWABridgeApi","WAWebChatBridgeApi","WAWebClockBridgeApi","WAWebContactBridgeApi","WAWebCustomPaymentMethodsSyncBridgeApi","WAWebDeviceSwitchingBridgeApi","WAWebFavoriteBridgeApi","WAWebGroupBridgeApi","WAWebGroupMetadataBridgeApi","WAWebHistorySyncApi","WAWebIdentityBridgeApi","WAWebL10nHelpersBridgeApi","WAWebLabelsBridgeApi","WAWebMsgBridgeApi","WAWebMsgInfoBridgeApi","WAWebNewsletterBridgeApi","WAWebNoteBridgeApi","WAWebPaymentInfoSyncBridgeApi","WAWebPrimaryFeaturesBridgeApi","WAWebPrivacyBridgeApi","WAWebProfilePicThumbBridgeApi","WAWebReactionsBridgeApi","WAWebSocketBridgeApi","WAWebStatusBridgeApi","WAWebTextStatusBridgeApi","WAWebUnreadMentionMetadataBridgeApi","WAWebWamBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("event",babelHelpers["extends"]({},d("WAWebMsgBridgeApi").MsgBridgeApi,d("WAWebLabelsBridgeApi").LabelsBridgeApi,d("WAWebContactBridgeApi").ContactBridgeApi,d("WAWebChatBridgeApi").ChatBridgeApi,d("WAWebClockBridgeApi").ClockBridgeApi,d("WAWebCTWABridgeApi").CTWABridgeApi,d("WAWebStatusBridgeApi").StatusBridgeApi,d("WAWebTextStatusBridgeApi").TextStatusBridgeApi,d("WAWebMsgInfoBridgeApi").MsgInfoBridgeApi,d("WAWebGroupBridgeApi").GroupBridgeApi,d("WAWebHistorySyncApi").HistorySyncBridgeApi,d("WAWebIdentityBridgeApi").IdentityBridgeApi,d("WAWebSocketBridgeApi").SocketBridgeApi,d("WAWebWamBridgeApi").WamBridgeApi,d("WAWebReactionsBridgeApi").ReactionsBridgeApi,d("WAWebAddOnsBridgeApi").AddOnsBridgeApi,d("WAWebGroupMetadataBridgeApi").GroupMetadataBridgeApi,d("WAWebNewsletterBridgeApi").NewsletterBridgeApi,d("WAWebPrimaryFeaturesBridgeApi").PrimaryFeaturesBridgeApi,d("WAWebProfilePicThumbBridgeApi").ProfilePicThumbBridgeApi,d("WAWebDeviceSwitchingBridgeApi").DeviceSwitchingBridgeApi,d("WAWebPrivacyBridgeApi").PrivacyBridgeApi,d("WAWebPaymentInfoSyncBridgeApi").PaymentInfoSyncBridgeApi,d("WAWebCustomPaymentMethodsSyncBridgeApi").CustomPaymentMethodsSyncBridgeApi,d("WAWebUnreadMentionMetadataBridgeApi").UnreadMentionMetadataBridgeApi,d("WAWebL10nHelpersBridgeApi").L10nHelpersBridgeApi,d("WAWebFavoriteBridgeApi").FavoriteBridgeApi,d("WAWebNoteBridgeApi").NoteBridgeApi))}g.setFrontendHandlers=a}),98);
__d("WAWebUpdateMsgBizPrivacyStatusAction",["WALogger","WAWebPrivacyModeSystemMsg","WAWebProtobufsWeb.pb","WAWebSchemaMessage","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["msg.bizPrivacyStatus exist already, we can not assign a new value anymore"]);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;if(!c("WAWebWid").isUser(a.id.remote))return;if(a.id.remote.isBot()||((e=a.invokedBotWid)==null?void 0:e.isBot()))return;e=a.privacyModeWhenSent;if(e==null&&b==null)return;if(e!=null&&b!=null&&e.privacyModeTs>=b.privacyModeTs)return;b=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(b);e=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(e);if(b===e)return;if(a.bizPrivacyStatus!=null){d("WALogger").WARN(h());return}e=j(b);a.bizPrivacyStatus=e;yield d("WAWebSchemaMessage").getMessageTable().merge(a.id.toString(),{bizPrivacyStatus:e})});return i.apply(this,arguments)}function j(a){switch(a){case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.E2EE;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.BSP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.BSP;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.FB:case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.HOSTED_GROUP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.FB}}g["default"]=a}),98);
__d("WAWebWorkerSafeBridgeApi",["Promise","WATaskScheduler","WAWebCTWASuggestionInitFromStorage","WAWebChatCollection","WAWebContactCollection","WAWebEphemeralityResolver","WAWebFetchAdEntryPointsConfiguration","WAWebFetchQuickPromotions","WAWebFtsClient","WAWebGetOrQueryUsyncInfoContactAction","WAWebGroupCreationKeyDistribution","WAWebHandleHistorySyncNotification","WAWebJobLoadQuickPromotions","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebKeyManagementSendKeyShareApi","WAWebMsgCollection","WAWebNonMessageDataRequestHandler","WAWebPaymentNotificationHandler","WAWebPnhCtwaDailyStatsUtils","WAWebPrivacyMode_WORKER_INCOMPATIBLE","WAWebProfilePicThumbCollection","WAWebResendGroupMsgMainThreadOnly","WAWebResendUserMsgMainThreadOnly","WAWebRestoreChatsAndMessages","WAWebRestoreGroupsAndContacts","WAWebRestoreProfilePictures","WAWebTasksDefinitions","WAWebTosCountryGating","WAWebTosGating","WAWebUpdateMsgBizPrivacyStatusAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a={setProfilePicThumb:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.update(a.id)});function c(b){return a.apply(this,arguments)}return c}(),getPrivacyMode:function(a){a=a.id;return d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)},updateBizPrivacyStatus:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.msgIds,f=a.privacyMode;yield (h||(h=b("Promise"))).all(e.map(function(a){return d("WAWebMsgCollection").MsgCollection.get(a)}).filter(Boolean).map(function(a){return c("WAWebUpdateMsgBizPrivacyStatusAction")(a,f)}))});function e(b){return a.apply(this,arguments)}return e}(),getChatPrivacyInfoOnNewMsg:function(a){a=a.chatId;var b=d("WAWebChatCollection").ChatCollection.get(a);return{verifiedLevel:b==null?void 0:b.contact.verifiedLevel,privacyMode:d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)}},getContactData:function(a){a=a.ids;return new Map(a.map(function(a){var b=d("WAWebContactCollection").ContactCollection.get(a),c=d("WAWebEphemeralityResolver").getEphemeralDurationForUser(b);return[a.toJid(),{ephemeralDuration:c,shouldBlockByCountry:function(){return b==null?!1:d("WAWebTosCountryGating").shouldBlockByCountry(b)},shouldBlockByTos:function(){return b==null?!1:d("WAWebTosGating").shouldBlockByTos(b)}}]}))},getBizBotData:function(a){a=a.chatIds;return new Map(a.map(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a);return[a.toJid(),{bizBotSystemMsgType:b==null?void 0:b.bizBotSystemMsgType}]}))},handleHistorySyncNotification:function(a){var b=a.historySyncMetaData,c=a.from;a=a.externalId;return d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(b,c,a)},handleAppStateSyncKeyShare:function(a){var b=a.keyShare;a=a.from;return d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(b,a)},sendAppStateSyncKeyShare:function(a){a=a.keyShare;return d("WAWebKeyManagementSendKeyShareApi").sendAppStateSyncKeyShare(a)},restoreChatsAndMessages:function(){return d("WAWebRestoreChatsAndMessages").restoreChatsAndMessages()},restoreGroupsAndContacts:function(){return d("WAWebRestoreGroupsAndContacts").restoreGroupsAndContacts()},restoreProfilePictures:function(){return d("WAWebRestoreProfilePictures").restoreProfilePictures()},processAllOrphanPaymentNotifications:function(){return d("WAWebPaymentNotificationHandler").processAllOrphanPaymentNotifications()},handleAppStateSyncKeyRequest:function(a){var b=a.keyRequest;a=a.from;return d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(b,a)},handlePeerDataOperationRequestResponse:function(a){var b=a.stanzaId;a=a.response;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(b,a)},handlePeerDataOperationRequest:function(a){var b=a.stanzaId;a=a.request;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(b,a)},getFtsClientInstance:function(){return d("WAWebFtsClient").ftsClient},getOrQueryUsyncInfo:function(a){a=a.wid;return d("WAWebGetOrQueryUsyncInfoContactAction").getOrQueryUsyncInfo(a)},maybeSendKeyDistributionMsgToNewGroup:function(a){a=a.groupId;return d("WAWebGroupCreationKeyDistribution").maybeSendKeyDistributionMsgToNewGroup(a)},incrementPnhCtwaDailyCount:function(a){a=a.chatId;return d("WAWebPnhCtwaDailyStatsUtils").incrementPnhCtwaDailyCount(a)},processOrphanPaymentNotifications:function(a){a=a.msgs;return d("WAWebPaymentNotificationHandler").processOrphanPaymentNotifications(a)},processLastMsgs:function(a){var c=a.chatId,e=a.msgObjs,f=a.meta,g=a.processMessagesOrigin,i=a.chatMsgsCollection;a=a.preserveOrder;var j=d("WAWebChatCollection").ChatCollection.get(c);return j&&j.msgs.length===0&&!j.pendingInitialLoading?d("WAWebMsgCollection").MsgCollection.processMultipleMessages(c,e,f,g,i,a):(h||(h=b("Promise"))).resolve([])},loadQuickPromotions:function(a){a=a.trigger;return d("WAWebJobLoadQuickPromotions").loadQuickPromotions(a)},fetchQuickPromotionsNow:function(){void d("WAWebFetchQuickPromotions").fetchQuickPromotions().then(function(){d("WATaskScheduler").rescheduleNow(d("WAWebTasksDefinitions").TaskType.FETCH_QUICK_PROMOTIONS)})},fetchAdEntryPointsConfiguration:function(a){a=a.trigger;return d("WAWebFetchAdEntryPointsConfiguration").fetchAdEntryPointsConfiguration(a)},restoreCTWASuggestions:function(){return d("WAWebCTWASuggestionInitFromStorage").restoreCTWASuggestions()},resendUserMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.excludeList;a=a.ackTime;return d("WAWebResendUserMsgMainThreadOnly").resendUserMsgMainThreadOnly(b,c,e,f,a)},resendGroupMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.groupId,g=a.isDirect,h=a.oldList,i=a.phash,j=a.ackTime;a=a.serverAddressingMode;return d("WAWebResendGroupMsgMainThreadOnly").resendGroupMsgMainThreadOnly(b,c,e,f,g,h,i,j,a)}};g.WorkerSafeBridgeApi=a}),98);
__d("WAWebSetWorkerSafeHandlerApi",["WAWebWorkerSafeBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("workerSafeEvent",babelHelpers["extends"]({},d("WAWebWorkerSafeBridgeApi").WorkerSafeBridgeApi))}g.setWorkerSafeHandlers=a}),98);